m4trace:/usr/share/aclocal-1.11/amversion.m4:17: -1- AC_DEFUN([AM_AUTOMAKE_VERSION], [am__api_version='1.11'
dnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to
dnl require some minimum version.  Point them to the right macro.
m4_if([$1], [1.11.3], [],
      [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl
])
m4trace:/usr/share/aclocal-1.11/amversion.m4:36: -1- AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION], [AM_AUTOMAKE_VERSION([1.11.3])dnl
m4_ifndef([AC_AUTOCONF_VERSION],
  [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
_AM_AUTOCONF_VERSION(m4_defn([AC_AUTOCONF_VERSION]))])
m4trace:/usr/share/aclocal-1.11/ar-lib.m4:15: -1- AC_DEFUN([AM_PROG_AR], [AC_BEFORE([$0], [LT_INIT])dnl
AC_BEFORE([$0], [AC_PROG_LIBTOOL])dnl
AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
AC_REQUIRE_AUX_FILE([ar-lib])dnl
AC_CHECK_TOOLS([AR], [ar lib "link -lib"], [false])
: ${AR=ar}

AC_CACHE_CHECK([the archiver ($AR) interface], [am_cv_ar_interface],
  [am_cv_ar_interface=ar
   AC_COMPILE_IFELSE([AC_LANG_SOURCE([[int some_variable = 0;]])],
     [am_ar_try='$AR cru libconftest.a conftest.$ac_objext >&AS_MESSAGE_LOG_FD'
      AC_TRY_EVAL([am_ar_try])
      if test "$ac_status" -eq 0; then
        am_cv_ar_interface=ar
      else
        am_ar_try='$AR -NOLOGO -OUT:conftest.lib conftest.$ac_objext >&AS_MESSAGE_LOG_FD'
        AC_TRY_EVAL([am_ar_try])
        if test "$ac_status" -eq 0; then
          am_cv_ar_interface=lib
        else
          am_cv_ar_interface=unknown
        fi
      fi
      rm -f conftest.lib libconftest.a
     ])
   ])

case $am_cv_ar_interface in
ar)
  ;;
lib)
  # Microsoft lib, so override with the ar-lib wrapper script.
  # FIXME: It is wrong to rewrite AR.
  # But if we don't then we get into trouble of one sort or another.
  # A longer-term fix would be to have automake use am__AR in this case,
  # and then we could set am__AR="$am_aux_dir/ar-lib \$(AR)" or something
  # similar.
  AR="$am_aux_dir/ar-lib $AR"
  ;;
unknown)
  m4_default([$1],
             [AC_MSG_ERROR([could not determine $AR interface])])
  ;;
esac
AC_SUBST([AR])dnl
])
m4trace:/usr/share/aclocal-1.11/auxdir.m4:49: -1- AC_DEFUN([AM_AUX_DIR_EXPAND], [dnl Rely on autoconf to set up CDPATH properly.
AC_PREREQ([2.50])dnl
# expand $ac_aux_dir to an absolute path
am_aux_dir=`cd $ac_aux_dir && pwd`
])
m4trace:/usr/share/aclocal-1.11/cond.m4:15: -1- AC_DEFUN([AM_CONDITIONAL], [AC_PREREQ(2.52)dnl
 ifelse([$1], [TRUE],  [AC_FATAL([$0: invalid condition: $1])],
	[$1], [FALSE], [AC_FATAL([$0: invalid condition: $1])])dnl
AC_SUBST([$1_TRUE])dnl
AC_SUBST([$1_FALSE])dnl
_AM_SUBST_NOTMAKE([$1_TRUE])dnl
_AM_SUBST_NOTMAKE([$1_FALSE])dnl
m4_define([_AM_COND_VALUE_$1], [$2])dnl
if $2; then
  $1_TRUE=
  $1_FALSE='#'
else
  $1_TRUE='#'
  $1_FALSE=
fi
AC_CONFIG_COMMANDS_PRE(
[if test -z "${$1_TRUE}" && test -z "${$1_FALSE}"; then
  AC_MSG_ERROR([[conditional "$1" was never defined.
Usually this means the macro was only invoked conditionally.]])
fi])])
m4trace:/usr/share/aclocal-1.11/depend.m4:28: -1- AC_DEFUN([_AM_DEPENDENCIES], [AC_REQUIRE([AM_SET_DEPDIR])dnl
AC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl
AC_REQUIRE([AM_MAKE_INCLUDE])dnl
AC_REQUIRE([AM_DEP_TRACK])dnl

ifelse([$1], CC,   [depcc="$CC"   am_compiler_list=],
       [$1], CXX,  [depcc="$CXX"  am_compiler_list=],
       [$1], OBJC, [depcc="$OBJC" am_compiler_list='gcc3 gcc'],
       [$1], UPC,  [depcc="$UPC"  am_compiler_list=],
       [$1], GCJ,  [depcc="$GCJ"  am_compiler_list='gcc3 gcc'],
                   [depcc="$$1"   am_compiler_list=])

AC_CACHE_CHECK([dependency style of $depcc],
               [am_cv_$1_dependencies_compiler_type],
[if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
  # We make a subdir and do the tests there.  Otherwise we can end up
  # making bogus files that we don't know about and never remove.  For
  # instance it was reported that on HP-UX the gcc test will end up
  # making a dummy file named `D' -- because `-MD' means `put the output
  # in D'.
  rm -rf conftest.dir
  mkdir conftest.dir
  # Copy depcomp to subdir because otherwise we won't find it if we're
  # using a relative directory.
  cp "$am_depcomp" conftest.dir
  cd conftest.dir
  # We will build objects and dependencies in a subdirectory because
  # it helps to detect inapplicable dependency modes.  For instance
  # both Tru64's cc and ICC support -MD to output dependencies as a
  # side effect of compilation, but ICC will put the dependencies in
  # the current directory while Tru64 will put them in the object
  # directory.
  mkdir sub

  am_cv_$1_dependencies_compiler_type=none
  if test "$am_compiler_list" = ""; then
     am_compiler_list=`sed -n ['s/^#*\([a-zA-Z0-9]*\))$/\1/p'] < ./depcomp`
  fi
  am__universal=false
  m4_case([$1], [CC],
    [case " $depcc " in #(
     *\ -arch\ *\ -arch\ *) am__universal=true ;;
     esac],
    [CXX],
    [case " $depcc " in #(
     *\ -arch\ *\ -arch\ *) am__universal=true ;;
     esac])

  for depmode in $am_compiler_list; do
    # Setup a source with many dependencies, because some compilers
    # like to wrap large dependency lists on column 80 (with \), and
    # we should not choose a depcomp mode which is confused by this.
    #
    # We need to recreate these files for each test, as the compiler may
    # overwrite some of them when testing with obscure command lines.
    # This happens at least with the AIX C compiler.
    : > sub/conftest.c
    for i in 1 2 3 4 5 6; do
      echo '#include "conftst'$i'.h"' >> sub/conftest.c
      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
      # Solaris 8's {/usr,}/bin/sh.
      touch sub/conftst$i.h
    done
    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf

    # We check with `-c' and `-o' for the sake of the "dashmstdout"
    # mode.  It turns out that the SunPro C++ compiler does not properly
    # handle `-M -o', and we need to detect this.  Also, some Intel
    # versions had trouble with output in subdirs
    am__obj=sub/conftest.${OBJEXT-o}
    am__minus_obj="-o $am__obj"
    case $depmode in
    gcc)
      # This depmode causes a compiler race in universal mode.
      test "$am__universal" = false || continue
      ;;
    nosideeffect)
      # after this tag, mechanisms are not by side-effect, so they'll
      # only be used when explicitly requested
      if test "x$enable_dependency_tracking" = xyes; then
	continue
      else
	break
      fi
      ;;
    msvc7 | msvc7msys | msvisualcpp | msvcmsys)
      # This compiler won't grok `-c -o', but also, the minuso test has
      # not run yet.  These depmodes are late enough in the game, and
      # so weak that their functioning should not be impacted.
      am__obj=conftest.${OBJEXT-o}
      am__minus_obj=
      ;;
    none) break ;;
    esac
    if depmode=$depmode \
       source=sub/conftest.c object=$am__obj \
       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \
         >/dev/null 2>conftest.err &&
       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&
       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
      # icc doesn't choke on unknown options, it will just issue warnings
      # or remarks (even with -Werror).  So we grep stderr for any message
      # that says an option was ignored or not supported.
      # When given -MP, icc 7.0 and 7.1 complain thusly:
      #   icc: Command line warning: ignoring option '-M'; no argument required
      # The diagnosis changed in icc 8.0:
      #   icc: Command line remark: option '-MP' not supported
      if (grep 'ignoring option' conftest.err ||
          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
        am_cv_$1_dependencies_compiler_type=$depmode
        break
      fi
    fi
  done

  cd ..
  rm -rf conftest.dir
else
  am_cv_$1_dependencies_compiler_type=none
fi
])
AC_SUBST([$1DEPMODE], [depmode=$am_cv_$1_dependencies_compiler_type])
AM_CONDITIONAL([am__fastdep$1], [
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_$1_dependencies_compiler_type" = gcc3])
])
m4trace:/usr/share/aclocal-1.11/depend.m4:164: -1- AC_DEFUN([AM_SET_DEPDIR], [AC_REQUIRE([AM_SET_LEADING_DOT])dnl
AC_SUBST([DEPDIR], ["${am__leading_dot}deps"])dnl
])
m4trace:/usr/share/aclocal-1.11/depend.m4:172: -1- AC_DEFUN([AM_DEP_TRACK], [AC_ARG_ENABLE(dependency-tracking,
[  --disable-dependency-tracking  speeds up one-time build
  --enable-dependency-tracking   do not reject slow dependency extractors])
if test "x$enable_dependency_tracking" != xno; then
  am_depcomp="$ac_aux_dir/depcomp"
  AMDEPBACKSLASH='\'
  am__nodep='_no'
fi
AM_CONDITIONAL([AMDEP], [test "x$enable_dependency_tracking" != xno])
AC_SUBST([AMDEPBACKSLASH])dnl
_AM_SUBST_NOTMAKE([AMDEPBACKSLASH])dnl
AC_SUBST([am__nodep])dnl
_AM_SUBST_NOTMAKE([am__nodep])dnl
])
m4trace:/usr/share/aclocal-1.11/depout.m4:14: -1- AC_DEFUN([_AM_OUTPUT_DEPENDENCY_COMMANDS], [{
  # Autoconf 2.62 quotes --file arguments for eval, but not when files
  # are listed without --file.  Let's play safe and only enable the eval
  # if we detect the quoting.
  case $CONFIG_FILES in
  *\'*) eval set x "$CONFIG_FILES" ;;
  *)   set x $CONFIG_FILES ;;
  esac
  shift
  for mf
  do
    # Strip MF so we end up with the name of the file.
    mf=`echo "$mf" | sed -e 's/:.*$//'`
    # Check whether this is an Automake generated Makefile or not.
    # We used to match only the files named `Makefile.in', but
    # some people rename them; so instead we look at the file content.
    # Grep'ing the first line is not enough: some people post-process
    # each Makefile.in and add a new line on top of each file to say so.
    # Grep'ing the whole file is not good either: AIX grep has a line
    # limit of 2048, but all sed's we know have understand at least 4000.
    if sed -n 's,^#.*generated by automake.*,X,p' "$mf" | grep X >/dev/null 2>&1; then
      dirpart=`AS_DIRNAME("$mf")`
    else
      continue
    fi
    # Extract the definition of DEPDIR, am__include, and am__quote
    # from the Makefile without running `make'.
    DEPDIR=`sed -n 's/^DEPDIR = //p' < "$mf"`
    test -z "$DEPDIR" && continue
    am__include=`sed -n 's/^am__include = //p' < "$mf"`
    test -z "am__include" && continue
    am__quote=`sed -n 's/^am__quote = //p' < "$mf"`
    # When using ansi2knr, U may be empty or an underscore; expand it
    U=`sed -n 's/^U = //p' < "$mf"`
    # Find all dependency output files, they are included files with
    # $(DEPDIR) in their names.  We invoke sed twice because it is the
    # simplest approach to changing $(DEPDIR) to its actual value in the
    # expansion.
    for file in `sed -n "
      s/^$am__include $am__quote\(.*(DEPDIR).*\)$am__quote"'$/\1/p' <"$mf" | \
	 sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g' -e 's/\$U/'"$U"'/g'`; do
      # Make sure the directory exists.
      test -f "$dirpart/$file" && continue
      fdir=`AS_DIRNAME(["$file"])`
      AS_MKDIR_P([$dirpart/$fdir])
      # echo "creating $dirpart/$file"
      echo '# dummy' > "$dirpart/$file"
    done
  done
}
])
m4trace:/usr/share/aclocal-1.11/depout.m4:75: -1- AC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS], [AC_CONFIG_COMMANDS([depfiles],
     [test x"$AMDEP_TRUE" != x"" || _AM_OUTPUT_DEPENDENCY_COMMANDS],
     [AMDEP_TRUE="$AMDEP_TRUE" ac_aux_dir="$ac_aux_dir"])
])
m4trace:/usr/share/aclocal-1.11/init.m4:26: -1- AC_DEFUN([AM_INIT_AUTOMAKE], [AC_PREREQ([2.62])dnl
dnl Autoconf wants to disallow AM_ names.  We explicitly allow
dnl the ones we care about.
m4_pattern_allow([^AM_[A-Z]+FLAGS$])dnl
AC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl
AC_REQUIRE([AC_PROG_INSTALL])dnl
if test "`cd $srcdir && pwd`" != "`pwd`"; then
  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output
  # is not polluted with repeated "-I."
  AC_SUBST([am__isrc], [' -I$(srcdir)'])_AM_SUBST_NOTMAKE([am__isrc])dnl
  # test to see if srcdir already configured
  if test -f $srcdir/config.status; then
    AC_MSG_ERROR([source directory already configured; run "make distclean" there first])
  fi
fi

# test whether we have cygpath
if test -z "$CYGPATH_W"; then
  if (cygpath --version) >/dev/null 2>/dev/null; then
    CYGPATH_W='cygpath -w'
  else
    CYGPATH_W=echo
  fi
fi
AC_SUBST([CYGPATH_W])

# Define the identity of the package.
dnl Distinguish between old-style and new-style calls.
m4_ifval([$2],
[m4_ifval([$3], [_AM_SET_OPTION([no-define])])dnl
 AC_SUBST([PACKAGE], [$1])dnl
 AC_SUBST([VERSION], [$2])],
[_AM_SET_OPTIONS([$1])dnl
dnl Diagnose old-style AC_INIT with new-style AM_AUTOMAKE_INIT.
m4_if(m4_ifdef([AC_PACKAGE_NAME], 1)m4_ifdef([AC_PACKAGE_VERSION], 1), 11,,
  [m4_fatal([AC_INIT should be called with package and version arguments])])dnl
 AC_SUBST([PACKAGE], ['AC_PACKAGE_TARNAME'])dnl
 AC_SUBST([VERSION], ['AC_PACKAGE_VERSION'])])dnl

_AM_IF_OPTION([no-define],,
[AC_DEFINE_UNQUOTED(PACKAGE, "$PACKAGE", [Name of package])
 AC_DEFINE_UNQUOTED(VERSION, "$VERSION", [Version number of package])])dnl

# Some tools Automake needs.
AC_REQUIRE([AM_SANITY_CHECK])dnl
AC_REQUIRE([AC_ARG_PROGRAM])dnl
AM_MISSING_PROG(ACLOCAL, aclocal-${am__api_version})
AM_MISSING_PROG(AUTOCONF, autoconf)
AM_MISSING_PROG(AUTOMAKE, automake-${am__api_version})
AM_MISSING_PROG(AUTOHEADER, autoheader)
AM_MISSING_PROG(MAKEINFO, makeinfo)
AC_REQUIRE([AM_PROG_INSTALL_SH])dnl
AC_REQUIRE([AM_PROG_INSTALL_STRIP])dnl
AC_REQUIRE([AM_PROG_MKDIR_P])dnl
# We need awk for the "check" target.  The system "awk" is bad on
# some platforms.
AC_REQUIRE([AC_PROG_AWK])dnl
AC_REQUIRE([AC_PROG_MAKE_SET])dnl
AC_REQUIRE([AM_SET_LEADING_DOT])dnl
_AM_IF_OPTION([tar-ustar], [_AM_PROG_TAR([ustar])],
	      [_AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])],
			     [_AM_PROG_TAR([v7])])])
_AM_IF_OPTION([no-dependencies],,
[AC_PROVIDE_IFELSE([AC_PROG_CC],
		  [_AM_DEPENDENCIES(CC)],
		  [define([AC_PROG_CC],
			  defn([AC_PROG_CC])[_AM_DEPENDENCIES(CC)])])dnl
AC_PROVIDE_IFELSE([AC_PROG_CXX],
		  [_AM_DEPENDENCIES(CXX)],
		  [define([AC_PROG_CXX],
			  defn([AC_PROG_CXX])[_AM_DEPENDENCIES(CXX)])])dnl
AC_PROVIDE_IFELSE([AC_PROG_OBJC],
		  [_AM_DEPENDENCIES(OBJC)],
		  [define([AC_PROG_OBJC],
			  defn([AC_PROG_OBJC])[_AM_DEPENDENCIES(OBJC)])])dnl
])
_AM_IF_OPTION([silent-rules], [AC_REQUIRE([AM_SILENT_RULES])])dnl
dnl The `parallel-tests' driver may need to know about EXEEXT, so add the
dnl `am__EXEEXT' conditional if _AM_COMPILER_EXEEXT was seen.  This macro
dnl is hooked onto _AC_COMPILER_EXEEXT early, see below.
AC_CONFIG_COMMANDS_PRE(dnl
[m4_provide_if([_AM_COMPILER_EXEEXT],
  [AM_CONDITIONAL([am__EXEEXT], [test -n "$EXEEXT"])])])dnl
])
m4trace:/usr/share/aclocal-1.11/init.m4:126: -1- AC_DEFUN([_AC_AM_CONFIG_HEADER_HOOK], [# Compute $1's index in $config_headers.
_am_arg=$1
_am_stamp_count=1
for _am_header in $config_headers :; do
  case $_am_header in
    $_am_arg | $_am_arg:* )
      break ;;
    * )
      _am_stamp_count=`expr $_am_stamp_count + 1` ;;
  esac
done
echo "timestamp for $_am_arg" >`AS_DIRNAME(["$_am_arg"])`/stamp-h[]$_am_stamp_count])
m4trace:/usr/share/aclocal-1.11/install-sh.m4:14: -1- AC_DEFUN([AM_PROG_INSTALL_SH], [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
if test x"${install_sh}" != xset; then
  case $am_aux_dir in
  *\ * | *\	*)
    install_sh="\${SHELL} '$am_aux_dir/install-sh'" ;;
  *)
    install_sh="\${SHELL} $am_aux_dir/install-sh"
  esac
fi
AC_SUBST(install_sh)])
m4trace:/usr/share/aclocal-1.11/lead-dot.m4:12: -1- AC_DEFUN([AM_SET_LEADING_DOT], [rm -rf .tst 2>/dev/null
mkdir .tst 2>/dev/null
if test -d .tst; then
  am__leading_dot=.
else
  am__leading_dot=_
fi
rmdir .tst 2>/dev/null
AC_SUBST([am__leading_dot])])
m4trace:/usr/share/aclocal-1.11/make.m4:14: -1- AC_DEFUN([AM_MAKE_INCLUDE], [am_make=${MAKE-make}
cat > confinc << 'END'
am__doit:
	@echo this is the am__doit target
.PHONY: am__doit
END
# If we don't find an include directive, just comment out the code.
AC_MSG_CHECKING([for style of include used by $am_make])
am__include="#"
am__quote=
_am_result=none
# First try GNU make style include.
echo "include confinc" > confmf
# Ignore all kinds of additional output from `make'.
case `$am_make -s -f confmf 2> /dev/null` in #(
*the\ am__doit\ target*)
  am__include=include
  am__quote=
  _am_result=GNU
  ;;
esac
# Now try BSD make style include.
if test "$am__include" = "#"; then
   echo '.include "confinc"' > confmf
   case `$am_make -s -f confmf 2> /dev/null` in #(
   *the\ am__doit\ target*)
     am__include=.include
     am__quote="\""
     _am_result=BSD
     ;;
   esac
fi
AC_SUBST([am__include])
AC_SUBST([am__quote])
AC_MSG_RESULT([$_am_result])
rm -f confinc confmf
])
m4trace:/usr/share/aclocal-1.11/minuso.m4:14: -1- AC_DEFUN([AM_PROG_CC_C_O], [AC_REQUIRE([AC_PROG_CC_C_O])dnl
AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
AC_REQUIRE_AUX_FILE([compile])dnl
# FIXME: we rely on the cache variable name because
# there is no other way.
set dummy $CC
am_cc=`echo $[2] | sed ['s/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/']`
eval am_t=\$ac_cv_prog_cc_${am_cc}_c_o
if test "$am_t" != yes; then
   # Losing compiler, so override with the script.
   # FIXME: It is wrong to rewrite CC.
   # But if we don't then we get into trouble of one sort or another.
   # A longer-term fix would be to have automake use am__CC in this case,
   # and then we could set am__CC="\$(top_srcdir)/compile \$(CC)"
   CC="$am_aux_dir/compile $CC"
fi
dnl Make sure AC_PROG_CC is never called again, or it will override our
dnl setting of CC.
m4_define([AC_PROG_CC],
          [m4_fatal([AC_PROG_CC cannot be called after AM_PROG_CC_C_O])])
])
m4trace:/usr/share/aclocal-1.11/missing.m4:14: -1- AC_DEFUN([AM_MISSING_PROG], [AC_REQUIRE([AM_MISSING_HAS_RUN])
$1=${$1-"${am_missing_run}$2"}
AC_SUBST($1)])
m4trace:/usr/share/aclocal-1.11/missing.m4:24: -1- AC_DEFUN([AM_MISSING_HAS_RUN], [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
AC_REQUIRE_AUX_FILE([missing])dnl
if test x"${MISSING+set}" != xset; then
  case $am_aux_dir in
  *\ * | *\	*)
    MISSING="\${SHELL} \"$am_aux_dir/missing\"" ;;
  *)
    MISSING="\${SHELL} $am_aux_dir/missing" ;;
  esac
fi
# Use eval to expand $SHELL
if eval "$MISSING --run true"; then
  am_missing_run="$MISSING --run "
else
  am_missing_run=
  AC_MSG_WARN([`missing' script is too old or missing])
fi
])
m4trace:/usr/share/aclocal-1.11/mkdirp.m4:14: -1- AC_DEFUN([AM_PROG_MKDIR_P], [AC_PREREQ([2.60])dnl
AC_REQUIRE([AC_PROG_MKDIR_P])dnl
dnl Automake 1.8 to 1.9.6 used to define mkdir_p.  We now use MKDIR_P,
dnl while keeping a definition of mkdir_p for backward compatibility.
dnl @MKDIR_P@ is magic: AC_OUTPUT adjusts its value for each Makefile.
dnl However we cannot define mkdir_p as $(MKDIR_P) for the sake of
dnl Makefile.ins that do not define MKDIR_P, so we do our own
dnl adjustment using top_builddir (which is defined more often than
dnl MKDIR_P).
AC_SUBST([mkdir_p], ["$MKDIR_P"])dnl
case $mkdir_p in
  [[\\/$]]* | ?:[[\\/]]*) ;;
  */*) mkdir_p="\$(top_builddir)/$mkdir_p" ;;
esac
])
m4trace:/usr/share/aclocal-1.11/options.m4:14: -1- AC_DEFUN([_AM_MANGLE_OPTION], [[_AM_OPTION_]m4_bpatsubst($1, [[^a-zA-Z0-9_]], [_])])
m4trace:/usr/share/aclocal-1.11/options.m4:20: -1- AC_DEFUN([_AM_SET_OPTION], [m4_define(_AM_MANGLE_OPTION([$1]), 1)])
m4trace:/usr/share/aclocal-1.11/options.m4:26: -1- AC_DEFUN([_AM_SET_OPTIONS], [m4_foreach_w([_AM_Option], [$1], [_AM_SET_OPTION(_AM_Option)])])
m4trace:/usr/share/aclocal-1.11/options.m4:32: -1- AC_DEFUN([_AM_IF_OPTION], [m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])
m4trace:/usr/share/aclocal-1.11/runlog.m4:14: -1- AC_DEFUN([AM_RUN_LOG], [{ echo "$as_me:$LINENO: $1" >&AS_MESSAGE_LOG_FD
   ($1) >&AS_MESSAGE_LOG_FD 2>&AS_MESSAGE_LOG_FD
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&AS_MESSAGE_LOG_FD
   (exit $ac_status); }])
m4trace:/usr/share/aclocal-1.11/sanity.m4:14: -1- AC_DEFUN([AM_SANITY_CHECK], [AC_MSG_CHECKING([whether build environment is sane])
# Just in case
sleep 1
echo timestamp > conftest.file
# Reject unsafe characters in $srcdir or the absolute working directory
# name.  Accept space and tab only in the latter.
am_lf='
'
case `pwd` in
  *[[\\\"\#\$\&\'\`$am_lf]]*)
    AC_MSG_ERROR([unsafe absolute working directory name]);;
esac
case $srcdir in
  *[[\\\"\#\$\&\'\`$am_lf\ \	]]*)
    AC_MSG_ERROR([unsafe srcdir value: `$srcdir']);;
esac

# Do `set' in a subshell so we don't clobber the current shell's
# arguments.  Must try -L first in case configure is actually a
# symlink; some systems play weird games with the mod time of symlinks
# (eg FreeBSD returns the mod time of the symlink's containing
# directory).
if (
   set X `ls -Lt "$srcdir/configure" conftest.file 2> /dev/null`
   if test "$[*]" = "X"; then
      # -L didn't work.
      set X `ls -t "$srcdir/configure" conftest.file`
   fi
   rm -f conftest.file
   if test "$[*]" != "X $srcdir/configure conftest.file" \
      && test "$[*]" != "X conftest.file $srcdir/configure"; then

      # If neither matched, then we have a broken ls.  This can happen
      # if, for instance, CONFIG_SHELL is bash and it inherits a
      # broken ls alias from the environment.  This has actually
      # happened.  Such a system could not be considered "sane".
      AC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken
alias in your environment])
   fi

   test "$[2]" = conftest.file
   )
then
   # Ok.
   :
else
   AC_MSG_ERROR([newly created file is older than distributed files!
Check your system clock])
fi
AC_MSG_RESULT(yes)])
m4trace:/usr/share/aclocal-1.11/silent.m4:14: -1- AC_DEFUN([AM_SILENT_RULES], [AC_ARG_ENABLE([silent-rules],
[  --enable-silent-rules          less verbose build output (undo: `make V=1')
  --disable-silent-rules         verbose build output (undo: `make V=0')])
case $enable_silent_rules in
yes) AM_DEFAULT_VERBOSITY=0;;
no)  AM_DEFAULT_VERBOSITY=1;;
*)   AM_DEFAULT_VERBOSITY=m4_if([$1], [yes], [0], [1]);;
esac
dnl
dnl A few `make' implementations (e.g., NonStop OS and NextStep)
dnl do not support nested variable expansions.
dnl See automake bug#9928 and bug#10237.
am_make=${MAKE-make}
AC_CACHE_CHECK([whether $am_make supports nested variables],
   [am_cv_make_support_nested_variables],
   [if AS_ECHO([['TRUE=$(BAR$(V))
BAR0=false
BAR1=true
V=1
am__doit:
	@$(TRUE)
.PHONY: am__doit']]) | $am_make -f - >/dev/null 2>&1; then
  am_cv_make_support_nested_variables=yes
else
  am_cv_make_support_nested_variables=no
fi])
if test $am_cv_make_support_nested_variables = yes; then
  dnl Using `$V' instead of `$(V)' breaks IRIX make.
  AM_V='$(V)'
  AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'
else
  AM_V=$AM_DEFAULT_VERBOSITY
  AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY
fi
AC_SUBST([AM_V])dnl
AM_SUBST_NOTMAKE([AM_V])dnl
AC_SUBST([AM_DEFAULT_V])dnl
AM_SUBST_NOTMAKE([AM_DEFAULT_V])dnl
AC_SUBST([AM_DEFAULT_VERBOSITY])dnl
AM_BACKSLASH='\'
AC_SUBST([AM_BACKSLASH])dnl
_AM_SUBST_NOTMAKE([AM_BACKSLASH])dnl
])
m4trace:/usr/share/aclocal-1.11/strip.m4:19: -1- AC_DEFUN([AM_PROG_INSTALL_STRIP], [AC_REQUIRE([AM_PROG_INSTALL_SH])dnl
# Installed binaries are usually stripped using `strip' when the user
# run `make install-strip'.  However `strip' might not be the right
# tool to use in cross-compilation environments, therefore Automake
# will honor the `STRIP' environment variable to overrule this program.
dnl Don't test for $cross_compiling = yes, because it might be `maybe'.
if test "$cross_compiling" != no; then
  AC_CHECK_TOOL([STRIP], [strip], :)
fi
INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"
AC_SUBST([INSTALL_STRIP_PROGRAM])])
m4trace:/usr/share/aclocal-1.11/substnot.m4:14: -1- AC_DEFUN([_AM_SUBST_NOTMAKE])
m4trace:/usr/share/aclocal-1.11/substnot.m4:19: -1- AC_DEFUN([AM_SUBST_NOTMAKE], [_AM_SUBST_NOTMAKE($@)])
m4trace:/usr/share/aclocal-1.11/tar.m4:24: -1- AC_DEFUN([_AM_PROG_TAR], [# Always define AMTAR for backward compatibility.  Yes, it's still used
# in the wild :-(  We should find a proper way to deprecate it ...
AC_SUBST([AMTAR], ['$${TAR-tar}'])
m4_if([$1], [v7],
     [am__tar='$${TAR-tar} chof - "$$tardir"' am__untar='$${TAR-tar} xf -'],
     [m4_case([$1], [ustar],, [pax],,
              [m4_fatal([Unknown tar format])])
AC_MSG_CHECKING([how to create a $1 tar archive])
# Loop over all known methods to create a tar archive until one works.
_am_tools='gnutar m4_if([$1], [ustar], [plaintar]) pax cpio none'
_am_tools=${am_cv_prog_tar_$1-$_am_tools}
# Do not fold the above two line into one, because Tru64 sh and
# Solaris sh will not grok spaces in the rhs of `-'.
for _am_tool in $_am_tools
do
  case $_am_tool in
  gnutar)
    for _am_tar in tar gnutar gtar;
    do
      AM_RUN_LOG([$_am_tar --version]) && break
    done
    am__tar="$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - "'"$$tardir"'
    am__tar_="$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - "'"$tardir"'
    am__untar="$_am_tar -xf -"
    ;;
  plaintar)
    # Must skip GNU tar: if it does not support --format= it doesn't create
    # ustar tarball either.
    (tar --version) >/dev/null 2>&1 && continue
    am__tar='tar chf - "$$tardir"'
    am__tar_='tar chf - "$tardir"'
    am__untar='tar xf -'
    ;;
  pax)
    am__tar='pax -L -x $1 -w "$$tardir"'
    am__tar_='pax -L -x $1 -w "$tardir"'
    am__untar='pax -r'
    ;;
  cpio)
    am__tar='find "$$tardir" -print | cpio -o -H $1 -L'
    am__tar_='find "$tardir" -print | cpio -o -H $1 -L'
    am__untar='cpio -i -H $1 -d'
    ;;
  none)
    am__tar=false
    am__tar_=false
    am__untar=false
    ;;
  esac

  # If the value was cached, stop now.  We just wanted to have am__tar
  # and am__untar set.
  test -n "${am_cv_prog_tar_$1}" && break

  # tar/untar a dummy directory, and stop if the command works
  rm -rf conftest.dir
  mkdir conftest.dir
  echo GrepMe > conftest.dir/file
  AM_RUN_LOG([tardir=conftest.dir && eval $am__tar_ >conftest.tar])
  rm -rf conftest.dir
  if test -s conftest.tar; then
    AM_RUN_LOG([$am__untar <conftest.tar])
    grep GrepMe conftest.dir/file >/dev/null 2>&1 && break
  fi
done
rm -rf conftest.dir

AC_CACHE_VAL([am_cv_prog_tar_$1], [am_cv_prog_tar_$1=$_am_tool])
AC_MSG_RESULT([$am_cv_prog_tar_$1])])
AC_SUBST([am__tar])
AC_SUBST([am__untar])
])
m4trace:libopts/m4/libopts.m4:11: -1- AC_DEFUN([INVOKE_LIBOPTS_MACROS_FIRST], [
  AC_REQUIRE([AC_HEADER_STDC])
  AC_HEADER_DIRENT

  # =================
  # AC_CHECK_HEADERS
  # =================
  AC_CHECK_HEADERS([ \
      sys/mman.h    sys/param.h   sys/poll.h    sys/procset.h \
      sys/select.h  sys/socket.h  sys/stropts.h sys/time.h \
      sys/un.h      sys/wait.h    dlfcn.h       errno.h \
      fcntl.h       libgen.h      libintl.h     memory.h \
      netinet/in.h  setjmp.h      stdbool.h     sysexits.h \
      unistd.h      utime.h])

  AC_CHECK_HEADERS([stdarg.h     varargs.h],
      [lo_have_arg_hdr=true;break],
      [lo_have_arg_hdr=false])

  AC_CHECK_HEADERS([string.h     strings.h],
      [lo_have_str_hdr=true;break],
      [lo_have_str_hdr=false])

  AC_CHECK_HEADERS([limits.h     sys/limits.h  values.h],
      [lo_have_lim_hdr=true;break],
      [lo_have_lim_hdr=false])

  AC_CHECK_HEADERS([inttypes.h   stdint.h],
      [lo_have_typ_hdr=true;break],
      [lo_have_typ_hdr=false])
  gl_STDNORETURN_H

  # ----------------------------------------------------------------------
  # check for various programs used during the build.
  # On OS/X, "wchar.h" needs "runetype.h" to work properly.
  # ----------------------------------------------------------------------
  AC_CHECK_HEADERS([runetype.h wchar.h], [], [],[
  AC_INCLUDES_DEFAULT
  #if HAVE_RUNETYPE_H
  # include <runetype.h>
  #endif
  ])

  AC_ARG_ENABLE([nls],
  AS_HELP_STRING([--disable-nls],[disable nls support in libopts]))
  AS_IF([test "x$enable_nls" != "xno" && \
  test "X${ac_cv_header_libintl_h}" = Xyes], [
  AC_DEFINE([ENABLE_NLS],[1],[nls support in libopts])])

  # --------------------------------------------
  # Verify certain entries from AC_CHECK_HEADERS
  # --------------------------------------------
  [${lo_have_arg_hdr} || \
    ]AC_MSG_ERROR([you must have stdarg.h or varargs.h on your system])[

  ${lo_have_str_hdr} || \
    ]AC_MSG_ERROR([you must have string.h or strings.h on your system])[

  ${lo_have_lim_hdr} || \
    ]AC_MSG_ERROR(
      [you must have one of limits.h, sys/limits.h or values.h])[

  ${lo_have_typ_hdr} || \
    ]AC_MSG_ERROR([you must have inttypes.h or stdint.h on your system])[

  for f in sys_types sys_param sys_stat string errno stdlib memory setjmp
  do eval as_ac_var=\${ac_cv_header_${f}_h}
     test "X${as_ac_var}" = Xyes || {
       ]AC_MSG_ERROR([you must have ${f}.h on your system])[
     }
  done
  test "X${ac_cv_header_inttypes_h-no}" = Xyes || \
    echo '#include <stdint.h>' > inttypes.h]

  # ----------------------------------------------------------------------
  # Checks for typedefs
  # ----------------------------------------------------------------------
  AC_CHECK_TYPES(wchar_t)
  AC_CHECK_TYPES(wint_t, [], [], [
    AC_INCLUDES_DEFAULT
    #if HAVE_RUNETYPE_H
    # include <runetype.h>
    #endif
    #if HAVE_WCHAR_H
    # include <wchar.h>
    #endif
  ])
  AC_CHECK_TYPES([int8_t, uint8_t, int16_t, uint16_t, int32_t, uint32_t,
  intptr_t, uintptr_t, uint_t, pid_t, size_t, ptrdiff_t])
  AC_CHECK_SIZEOF(char *, 8)
  AC_CHECK_SIZEOF(int,    4)
  AC_CHECK_SIZEOF(long,   8)
  AC_CHECK_SIZEOF(short,  2)

  # ------------
  # AC_CHECK_LIB
  # ------------
  AC_CHECK_LIB(gen, pathfind)
  AC_CHECK_LIB(intl,gettext)
  AC_FUNC_VPRINTF
  AC_FUNC_FORK
  AC_CHECK_FUNCS([mmap canonicalize_file_name snprintf strdup strchr \
                 strrchr strsignal fchmod fstat chmod])
  AC_PROG_SED
  [while :
  do
      POSIX_SHELL=`which bash`
      test -x "$POSIX_SHELL" && break
      POSIX_SHELL=`which dash`
      test -x "$POSIX_SHELL" && break
      POSIX_SHELL=/usr/xpg4/bin/sh
      test -x "$POSIX_SHELL" && break
      POSIX_SHELL=`/bin/sh -c '
          exec 2>/dev/null
          if ! true ; then exit 1 ; fi
          echo /bin/sh'`
      test -x "$POSIX_SHELL" && break
      ]AC_MSG_ERROR([cannot locate a working POSIX shell])[
  done]
  AC_DEFINE_UNQUOTED([POSIX_SHELL], ["${POSIX_SHELL}"],
           [define to a working POSIX compliant shell])
  AC_SUBST([POSIX_SHELL])
])
m4trace:libopts/m4/libopts.m4:141: -1- AC_DEFUN([LIBOPTS_WITH_REGEX_HEADER], [
  AC_ARG_WITH([regex-header],
    AS_HELP_STRING([--with-regex-header], [a reg expr header is specified]),
    [libopts_cv_with_regex_header=${with_regex_header}],
    AC_CACHE_CHECK([whether a reg expr header is specified], libopts_cv_with_regex_header,
      libopts_cv_with_regex_header=no)
  ) # end of AC_ARG_WITH
  if test "X${libopts_cv_with_regex_header}" != Xno
  then
    AC_DEFINE_UNQUOTED([REGEX_HEADER],[<${libopts_cv_with_regex_header}>])
  else
    AC_DEFINE([REGEX_HEADER],[<regex.h>],[name of regex header file])
  fi

])
m4trace:libopts/m4/libopts.m4:158: -1- AC_DEFUN([LIBOPTS_WITHLIB_REGEX], [
  AC_ARG_WITH([libregex],
    AS_HELP_STRING([--with-libregex], [libregex installation prefix]),
    [libopts_cv_with_libregex_root=${with_libregex}],
    AC_CACHE_CHECK([whether with-libregex was specified], libopts_cv_with_libregex_root,
      libopts_cv_with_libregex_root=no)
  ) # end of AC_ARG_WITH libregex

  if test "${with_libregex+set}" = set && \
     test "X${withval}" = Xno
  then ## disabled by request
    libopts_cv_with_libregex_root=no
    libopts_cv_with_libregex_cflags=no
    libopts_cv_with_libregex_libs=no
  else

  AC_ARG_WITH([libregex-cflags],
    AS_HELP_STRING([--with-libregex-cflags], [libregex compile flags]),
    [libopts_cv_with_libregex_cflags=${with_libregex_cflags}],
    AC_CACHE_CHECK([whether with-libregex-cflags was specified], libopts_cv_with_libregex_cflags,
      libopts_cv_with_libregex_cflags=no)
  ) # end of AC_ARG_WITH libregex-cflags

  AC_ARG_WITH([libregex-libs],
    AS_HELP_STRING([--with-libregex-libs], [libregex link command arguments]),
    [libopts_cv_with_libregex_libs=${with_libregex_libs}],
    AC_CACHE_CHECK([whether with-libregex-libs was specified], libopts_cv_with_libregex_libs,
      libopts_cv_with_libregex_libs=no)
  ) # end of AC_ARG_WITH libregex-libs

  case "X${libopts_cv_with_libregex_cflags}" in
  Xyes|Xno|X )
    case "X${libopts_cv_with_libregex_root}" in
    Xyes|Xno|X ) libopts_cv_with_libregex_cflags=no ;;
    * ) libopts_cv_with_libregex_cflags=-I${libopts_cv_with_libregex_root}/include ;;
    esac
  esac
  case "X${libopts_cv_with_libregex_libs}" in
  Xyes|Xno|X )
    case "X${libopts_cv_with_libregex_root}" in
    Xyes|Xno|X ) libopts_cv_with_libregex_libs=no ;;
    * )        libopts_cv_with_libregex_libs="-L${libopts_cv_with_libregex_root}/lib -lregex" ;;
    esac
  esac
  libopts_save_CPPFLAGS="${CPPFLAGS}"
  libopts_save_LIBS="${LIBS}"
  case "X${libopts_cv_with_libregex_cflags}" in
  Xyes|Xno|X )
    libopts_cv_with_libregex_cflags="" ;;
  * ) CPPFLAGS="${CPPFLAGS} ${libopts_cv_with_libregex_cflags}" ;;
  esac
  case "X${libopts_cv_with_libregex_libs}" in
  Xyes|Xno|X )
    libopts_cv_with_libregex_libs="" ;;
  * )
    LIBS="${LIBS} ${libopts_cv_with_libregex_libs}" ;;
  esac
  LIBREGEX_CFLAGS=""
  LIBREGEX_LIBS=""
  AC_MSG_CHECKING([whether libregex functions properly])
  AC_CACHE_VAL([libopts_cv_with_libregex],[
  AC_RUN_IFELSE([@%:@include <stdio.h>
@%:@include <stdlib.h>
@%:@include <sys/types.h>
@%:@include REGEX_HEADER
static regex_t re;
void comp_re(char const * pzPat) {
  int res = regcomp( &re, pzPat, REG_EXTENDED|REG_ICASE|REG_NEWLINE );
  if (res == 0) return;
  exit( res ); }
int main() {
  regmatch_t m@<:@2@:>@;
  comp_re( "^.*\@S|@"   );
  comp_re( "()|no.*" );
  comp_re( "."       );
  if (regexec( &re, "X", 2, m, 0 ) != 0)  return 1;
  if ((m@<:@0@:>@.rm_so != 0) || (m@<:@0@:>@.rm_eo != 1)) {
    fputs( "error: regex -->.<-- did not match\n", stderr );
    return 1;
  }
  return 0; }],
    [libopts_cv_with_libregex=yes], [libopts_cv_with_libregex=no],
    [libopts_cv_with_libregex=no]) # end of AC_RUN_IFELSE 
  ]) # end of AC_CACHE_VAL for libopts_cv_with_libregex
  fi ## disabled by request
  AC_MSG_RESULT([${libopts_cv_with_libregex}])
  if test "X${libopts_cv_with_libregex}" != Xno
  then
    AC_DEFINE([WITH_LIBREGEX],[1],
        [Define this if a working libregex can be found])
  else
    CPPFLAGS="${libopts_save_CPPFLAGS}"
    LIBS="${libopts_save_LIBS}"
    libopts_cv_with_libregex_root=no
libopts_cv_with_libregex_cflags=no
libopts_cv_with_libregex_libs=no
libopts_cv_with_libregex=no
  fi

])
m4trace:libopts/m4/libopts.m4:260: -1- AC_DEFUN([LIBOPTS_RUN_PATHFIND], [
  AC_MSG_CHECKING([whether pathfind(3) works])
  AC_CACHE_VAL([libopts_cv_run_pathfind],[
  AC_RUN_IFELSE([@%:@include <string.h>
@%:@include <stdlib.h>
int main (int argc, char ** argv) {
   char * pz = pathfind( getenv( "PATH" ), "sh", "x" );
   return (pz == 0) ? 1 : 0;
}],
    [libopts_cv_run_pathfind=yes],[libopts_cv_run_pathfind=no],[libopts_cv_run_pathfind=no]
  ) # end of RUN_IFELSE
  ]) # end of AC_CACHE_VAL for libopts_cv_run_pathfind
  AC_MSG_RESULT([${libopts_cv_run_pathfind}])
  if test "X${libopts_cv_run_pathfind}" != Xno
  then
    AC_DEFINE([HAVE_PATHFIND],[1],
        [Define this if pathfind(3) works])
  fi

])
m4trace:libopts/m4/libopts.m4:282: -1- AC_DEFUN([LIBOPTS_TEST_DEV_ZERO], [
  AC_MSG_CHECKING([whether /dev/zero is readable device])
  AC_CACHE_VAL([libopts_cv_test_dev_zero],[
    libopts_cv_test_dev_zero=`exec 2> /dev/null
dzero=\`ls -lL /dev/zero | egrep ^c......r\`
test -z "${dzero}" && exit 1
echo ${dzero}`
    if test $? -ne 0 || test -z "$libopts_cv_test_dev_zero"
    then libopts_cv_test_dev_zero=no
    fi
  ]) # end of CACHE_VAL of libopts_cv_test_dev_zero
  AC_MSG_RESULT([${libopts_cv_test_dev_zero}])
  if test "X${libopts_cv_test_dev_zero}" != Xno
  then
    AC_DEFINE([HAVE_DEV_ZERO],[1],
        [Define this if /dev/zero is readable device])
  fi

])
m4trace:libopts/m4/libopts.m4:303: -1- AC_DEFUN([LIBOPTS_RUN_REALPATH], [
  AC_MSG_CHECKING([whether we have a functional realpath(3C)])
  AC_CACHE_VAL([libopts_cv_run_realpath],[
  AC_RUN_IFELSE([@%:@include <limits.h>
@%:@include <stdlib.h>
int main (int argc, char ** argv) {
@%:@ifndef PATH_MAX
choke me!!
@%:@else
   char zPath@<:@PATH_MAX+1@:>@;
@%:@endif
   char *pz = realpath(argv@<:@0@:>@, zPath);
   return (pz == zPath) ? 0 : 1;
}],
    [libopts_cv_run_realpath=yes],[libopts_cv_run_realpath=no],[libopts_cv_run_realpath=no]
  ) # end of RUN_IFELSE
  ]) # end of AC_CACHE_VAL for libopts_cv_run_realpath
  AC_MSG_RESULT([${libopts_cv_run_realpath}])
  if test "X${libopts_cv_run_realpath}" != Xno
  then
    AC_DEFINE([HAVE_REALPATH],[1],
        [Define this if we have a functional realpath(3C)])
  fi

])
m4trace:libopts/m4/libopts.m4:330: -1- AC_DEFUN([LIBOPTS_RUN_STRFTIME], [
  AC_MSG_CHECKING([whether strftime() works])
  AC_CACHE_VAL([libopts_cv_run_strftime],[
  AC_RUN_IFELSE([@%:@include <time.h>
@%:@include <string.h>
char t_buf@<:@ 64 @:>@;
int main() {
  static char const z@<:@@:>@ = "Thursday Aug 28 240";
  struct tm tm;
  tm.tm_sec   = 36;  /* seconds after the minute @<:@0, 61@:>@  */
  tm.tm_min   = 44;  /* minutes after the hour @<:@0, 59@:>@ */
  tm.tm_hour  = 12;  /* hour since midnight @<:@0, 23@:>@ */
  tm.tm_mday  = 28;  /* day of the month @<:@1, 31@:>@ */
  tm.tm_mon   =  7;  /* months since January @<:@0, 11@:>@ */
  tm.tm_year  = 86;  /* years since 1900 */
  tm.tm_wday  =  4;  /* days since Sunday @<:@0, 6@:>@ */
  tm.tm_yday  = 239; /* days since January 1 @<:@0, 365@:>@ */
  tm.tm_isdst =  1;  /* flag for daylight savings time */
  strftime( t_buf, sizeof( t_buf ), "%A %b %d %j", &tm );
  return (strcmp( t_buf, z ) != 0); }],
    [libopts_cv_run_strftime=yes],[libopts_cv_run_strftime=no],[libopts_cv_run_strftime=no]
  ) # end of RUN_IFELSE
  ]) # end of AC_CACHE_VAL for libopts_cv_run_strftime
  AC_MSG_RESULT([${libopts_cv_run_strftime}])
  if test "X${libopts_cv_run_strftime}" != Xno
  then
    AC_DEFINE([HAVE_STRFTIME],[1],
        [Define this if strftime() works])
  fi

])
m4trace:libopts/m4/libopts.m4:363: -1- AC_DEFUN([LIBOPTS_RUN_FOPEN_BINARY], [
  AC_MSG_CHECKING([whether fopen accepts "b" mode])
  AC_CACHE_VAL([libopts_cv_run_fopen_binary],[
  AC_RUN_IFELSE([@%:@include <stdio.h>
int main (int argc, char ** argv) {
FILE * fp = fopen("conftest.@S|@ac_ext", "rb");
return (fp == NULL) ? 1 : fclose(fp); }],
    [libopts_cv_run_fopen_binary=yes],[libopts_cv_run_fopen_binary=no],[libopts_cv_run_fopen_binary=no]
  ) # end of RUN_IFELSE
  ]) # end of AC_CACHE_VAL for libopts_cv_run_fopen_binary
  AC_MSG_RESULT([${libopts_cv_run_fopen_binary}])
  if test "X${libopts_cv_run_fopen_binary}" != Xno
  then
    AC_DEFINE([FOPEN_BINARY_FLAG],"b",
	[fopen(3) accepts a 'b' in the mode flag])
  else
    AC_DEFINE([FOPEN_BINARY_FLAG],"",
	[fopen(3) accepts a 'b' in the mode flag])
  fi

])
m4trace:libopts/m4/libopts.m4:386: -1- AC_DEFUN([LIBOPTS_RUN_FOPEN_TEXT], [
  AC_MSG_CHECKING([whether fopen accepts "t" mode])
  AC_CACHE_VAL([libopts_cv_run_fopen_text],[
  AC_RUN_IFELSE([@%:@include <stdio.h>
int main (int argc, char ** argv) {
FILE * fp = fopen("conftest.@S|@ac_ext", "rt");
return (fp == NULL) ? 1 : fclose(fp); }],
    [libopts_cv_run_fopen_text=yes],[libopts_cv_run_fopen_text=no],[libopts_cv_run_fopen_text=no]
  ) # end of RUN_IFELSE
  ]) # end of AC_CACHE_VAL for libopts_cv_run_fopen_text
  AC_MSG_RESULT([${libopts_cv_run_fopen_text}])
  if test "X${libopts_cv_run_fopen_text}" != Xno
  then
    AC_DEFINE([FOPEN_TEXT_FLAG],"t",
	[fopen(3) accepts a 't' in the mode flag])
  else
    AC_DEFINE([FOPEN_TEXT_FLAG],"",
	[fopen(3) accepts a 't' in the mode flag])
  fi

])
m4trace:libopts/m4/libopts.m4:409: -1- AC_DEFUN([LIBOPTS_DISABLE_OPTIONAL_ARGS], [
  AC_ARG_ENABLE([optional-args],
    AS_HELP_STRING([--disable-optional-args], [not wanting optional option args]),
    [libopts_cv_enable_optional_args=${enable_optional_args}],
    AC_CACHE_CHECK([whether not wanting optional option args], libopts_cv_enable_optional_args,
      libopts_cv_enable_optional_args=yes)
  ) # end of AC_ARG_ENABLE
  if test "X${libopts_cv_enable_optional_args}" = Xno
  then
    AC_DEFINE([NO_OPTIONAL_OPT_ARGS], [1],
          [Define this if optional arguments are disallowed])
  fi

])
m4trace:libopts/m4/libopts.m4:425: -1- AC_DEFUN([INVOKE_LIBOPTS_MACROS], [
  AC_REQUIRE([INVOKE_LIBOPTS_MACROS_FIRST])
  # Check to see if a reg expr header is specified.
  LIBOPTS_WITH_REGEX_HEADER

  # Check to see if a working libregex can be found.
  LIBOPTS_WITHLIB_REGEX

  # Check to see if pathfind(3) works.
  LIBOPTS_RUN_PATHFIND

  # Check to see if /dev/zero is readable device.
  LIBOPTS_TEST_DEV_ZERO

  # Check to see if we have a functional realpath(3C).
  LIBOPTS_RUN_REALPATH

  # Check to see if strftime() works.
  LIBOPTS_RUN_STRFTIME

  # Check to see if fopen accepts "b" mode.
  LIBOPTS_RUN_FOPEN_BINARY

  # Check to see if fopen accepts "t" mode.
  LIBOPTS_RUN_FOPEN_TEXT

  # Check to see if not wanting optional option args.
  LIBOPTS_DISABLE_OPTIONAL_ARGS

])
m4trace:libopts/m4/libopts.m4:481: -1- AC_DEFUN([LIBOPTS_CHECK_COMMON], [
  AC_REQUIRE([INVOKE_LIBOPTS_MACROS_FIRST])
  [NEED_LIBOPTS_DIR='']
  m4_pushdef([AO_Libopts_Dir],
	    [ifelse($1, , [libopts], [$1])])
  AC_ARG_ENABLE([local-libopts],
    AC_HELP_STRING([--enable-local-libopts],
       [Use the supplied libopts tearoff code]),[
    if test x$enableval = xyes ; then
       AC_MSG_NOTICE([Using supplied libopts tearoff])
       LIBOPTS_CFLAGS='-I$(top_srcdir)/AO_Libopts_Dir'
       NEED_LIBOPTS_DIR=true
       LIBOPTS_LDADD='$(top_builddir)/AO_Libopts_Dir/libopts.la'
    fi])

  AC_ARG_ENABLE([libopts-install],
    AC_HELP_STRING([--enable-libopts-install],
       [Install libopts with client installation]))
  AM_CONDITIONAL([INSTALL_LIBOPTS],[test "X${enable_libopts_install}" = Xyes])

  [if test -z "${NEED_LIBOPTS_DIR}" ; then]
     AC_MSG_CHECKING([whether autoopts-config can be found])
     AC_ARG_WITH([autoopts-config],
        AC_HELP_STRING([--with-autoopts-config],
             [specify the config-info script]),
        [lo_cv_with_autoopts_config=${with_autoopts_config}],
        AC_CACHE_CHECK([whether autoopts-config is specified],
             [lo_cv_with_autoopts_config],
             [if autoopts-config --help 2>/dev/null 1>&2
        then lo_cv_with_autoopts_config=autoopts-config
        elif libopts-config --help 2>/dev/null 1>&2
        then lo_cv_with_autoopts_config=libopts-config
        else lo_cv_with_autoopts_config=no ; fi])
     ) # end of AC_ARG_WITH

     AC_CACHE_VAL([lo_cv_test_autoopts],[
        if test -z "${lo_cv_with_autoopts_config}" \
                -o X"${lo_cv_with_autoopts_config}" = Xno
        then
           if autoopts-config --help 2>/dev/null 1>&2
           then lo_cv_with_autoopts_config=autoopts-config
           elif libopts-config --help 2>/dev/null 1>&2
           then lo_cv_with_autoopts_config=libopts-config
           else lo_cv_with_autoopts_config=false ; fi
        fi
        lo_cv_test_autoopts=`
            ${lo_cv_with_autoopts_config} --libs` 2> /dev/null
        if test $? -ne 0 -o -z "${lo_cv_test_autoopts}"
        then lo_cv_test_autoopts=no ; fi
     ]) # end of CACHE_VAL
     AC_MSG_RESULT([${lo_cv_test_autoopts}])

     [if test "X${lo_cv_test_autoopts}" != Xno
     then
        LIBOPTS_LDADD="${lo_cv_test_autoopts}"
        LIBOPTS_CFLAGS="`${lo_cv_with_autoopts_config} --cflags`"
     else
        LIBOPTS_LDADD='$(top_builddir)/]AO_Libopts_Dir[/libopts.la'
        LIBOPTS_CFLAGS='-I$(top_srcdir)/]AO_Libopts_Dir['
        NEED_LIBOPTS_DIR=true
     fi
  fi # end of if test -z "${NEED_LIBOPTS_DIR}"
  if test -n "${LIBOPTS_BUILD_BLOCKED}" ; then
    NEED_LIBOPTS_DIR=''
  fi]
  AM_CONDITIONAL([NEED_LIBOPTS], [test -n "${NEED_LIBOPTS_DIR}"])
  AC_SUBST(LIBOPTS_LDADD)
  AC_SUBST(LIBOPTS_CFLAGS)
  AC_SUBST(LIBOPTS_DIR, AO_Libopts_Dir)
  m4_popdef([AO_Libopts_Dir])
[# end of AC_DEFUN of LIBOPTS_CHECK_COMMON]
])
m4trace:libopts/m4/libopts.m4:560: -1- AC_DEFUN([AM_COND_IF], [
    if test -z "$$1_TRUE"; then :
      m4_n([$2])[]dnl
      m4_ifval([$3],[
    else
      $3
    ])dnl
    fi[]dnl
  ])
m4trace:libopts/m4/libopts.m4:572: -1- AC_DEFUN([LIBOPTS_CHECK_NOBUILD], [
  m4_pushdef([AO_Libopts_Dir],
	      [ifelse($1, , [libopts], [$1])])
  LIBOPTS_BUILD_BLOCKED=true
  LIBOPTS_CHECK_COMMON(AO_Libopts_Dir)
  m4_popdef([AO_Libopts_Dir])dnl
# end of AC_DEFUN of LIBOPTS_CHECK_NOBUILD
])
m4trace:libopts/m4/libopts.m4:581: -1- AC_DEFUN([LIBOPTS_CHECK], [
  m4_pushdef([AO_Libopts_Dir],
	      [ifelse($1, , [libopts], [$1])])
  LIBOPTS_BUILD_BLOCKED=''
  LIBOPTS_CHECK_COMMON(AO_Libopts_Dir)
  AM_COND_IF([NEED_LIBOPTS], [
    INVOKE_LIBOPTS_MACROS
  ])
  AC_CONFIG_FILES(AO_Libopts_Dir/Makefile)
  m4_popdef([AO_Libopts_Dir])dnl
# end of AC_DEFUN of LIBOPTS_CHECK
])
m4trace:libopts/m4/stdnoreturn.m4:10: -1- AC_DEFUN([gl_STDNORETURN_H], [
  AC_CACHE_CHECK([for working stdnoreturn.h],
    [gl_cv_header_working_stdnoreturn_h],
    [AC_COMPILE_IFELSE(
       [AC_LANG_PROGRAM(
          [[#include <stdlib.h>
            #include <stdnoreturn.h>
            /* Do not check for 'noreturn' after the return type.
               C11 allows it, but it's rarely done that way
               and circa-2012 bleeding-edge GCC rejects it when given
               -Werror=old-style-declaration.  */
            noreturn void foo1 (void) { exit (0); }
            _Noreturn void foo2 (void) { exit (0); }
            int testit (int argc, char **argv) {
              if (argc & 1)
                return 0;
              (argv[0][0] ? foo1 : foo2) ();
            }
          ]])],
       [gl_cv_header_working_stdnoreturn_h=yes],
       [gl_cv_header_working_stdnoreturn_h=no])])

  if test $gl_cv_header_working_stdnoreturn_h = yes; then
    STDNORETURN_H=''
  else
    STDNORETURN_H='stdnoreturn.h'
  fi

  AC_SUBST([STDNORETURN_H])
  AM_CONDITIONAL([GL_GENERATE_STDNORETURN_H], [test -n "$STDNORETURN_H"])
])
m4trace:m4/hms_search_lib.m4:22: -1- AC_DEFUN([HMS_SEARCH_LIBS], [AC_SEARCH_LIBS([$2], [$3], [case "$ac_cv_search_$2[]" in
 'none required') ;;
 no) ;;
 *) $1[]="$ac_cv_search_$2[] $[]$1" ;;
 esac
 $4],
 $5,
 [$6])])
m4trace:m4/ntp_cacheversion.m4:25: -1- AC_DEFUN_ONCE([NTP_CACHEVERSION], [
    AC_BEFORE([$0], [AM_INIT_AUTOMAKE])dnl
    AC_BEFORE([$0], [AC_CONFIG_HEADERS])dnl
    AC_BEFORE([$0], [AC_PROG_CC])dnl
    AC_BEFORE([$0], [AC_CONFIG_SUBDIRS])dnl

    ntp_cache_flush=1
    
    case "$ntp_cv_[$1]_cache_version" in
     [$2])
	# same version, good
	ntp_cache_flush=0
	;;
     '')
	# No cache, predates ntp_cv_$1_cache_version, or is empty.
	case "$cache_file" in
	 /dev/null)
	    ntp_cache_flush=0
	    ;;
	 *)
	    case "$NTP_CACHEVERSION_PARENT" in
	     '')
		# Do not clear the cache immediately after it is created
		# empty as it is noisy.  Differentiate a newly-created 
		# config.cache from one predating the cache version 
		# mechanism by looking for the first cached variable set 
		# by Autoconf
		case "$ac_cv_path_install" in
		 '')
		    # empty config.cache file
		    ntp_cache_flush=0
		esac
		;;
	     *)
		# Parent configure just created cache from empty,
		# flushing would be counterproductive.
		ntp_cache_flush=0;
		;;
	    esac
	esac
	;;
     *)
	# configure cache version mismatches config.cache version
	;;
    esac
    
    case "$ntp_cache_flush" in
     1)
	c_version="${ntp_cv_[$1]_cache_version:-(no version found)}"
	
	# Do we flush all variables or exclude others' version stamps?

	case "$NTP_CACHEVERSION_PARENT" in
	 '')
	    # Clear all *_cv_* variables including our child subdirs'
	    # ntp_cv_*_cache_version variables.  This prevents subdir
	    # configure scripts from noticing a version mismatch just
	    # after the top configure in the invocation cleared and
	    # recreated the cache.
	
	    c_varname_list=`set |
			    sed -n -e 's/=.*$//' \
				   -e '/_cv_/p'
			   `
	    ;;
	 *)
	    # This is not the top configure this particular invocation.
	    # Clear all *_cv_* variables sparing the version stamps
	    # of other configure scripts, so we don't trigger
	    # useless repeated clearings.

	    c_varname_list=`set |
			    sed -n -e 's/=.*$//' \
				   -e '/ntp_cv_.*_cache_version/d' \
				   -e '/_cv_/p'
			   `
	esac
	
	for c_varname in $c_varname_list
	do
	    dnl AS_UNSET([$c_varname])
	    dnl With Autoconf 2.61 and automake 1.10.3, using AS_UNSET
	    dnl here triggers generation of a syntax error in configure.
	    dnl Once we require a newer Autoconf we can revert to the
	    dnl AS_UNSET code.
	    { eval $c_varname=; unset $c_varname; }
	done
	
	AC_MSG_NOTICE([[$cache_file saved by another version, ignored.]])
	AC_MSG_NOTICE([[configure script cache version: ]][$2])
	AC_MSG_NOTICE([[$cache_file version: $c_version]])
	AS_UNSET([c_varname])
	AS_UNSET([c_varname_list])
	AS_UNSET([c_version])
    esac

    AS_UNSET([ntp_cache_flush])

    # save configure version in config.cache for next time
    ntp_cv_[$1]_cache_version="[$2]"

    # let any subdir configure.ac NTP_CACHEVERSION invocations
    # know they are not the top level.
    NTP_CACHEVERSION_PARENT='[$1]' ; export NTP_CACHEVERSION_PARENT
])
m4trace:m4/ntp_compiler.m4:3: -1- AC_DEFUN([NTP_COMPILER], [
AC_REQUIRE([AC_PROG_CC_C89])
AC_REQUIRE([AC_PROG_CC_C99])

CFLAGS_NTP=
CPPFLAGS_NTP=
LDADD_NTP=
LDFLAGS_NTP=
AC_SUBST([CFLAGS_NTP])
AC_SUBST([CPPFLAGS_NTP])
AC_SUBST([LDADD_NTP])
AC_SUBST([LDFLAGS_NTP])

case "$ac_cv_prog_cc_c89" in
 no)
    AC_MSG_WARN([ANSI C89/ISO C90 is the minimum to compile NTP]
		[ version 4.2.5 and higher.])
    ;;
esac

AC_CACHE_CHECK(
    [if $CC can handle @%:@warning],
    [ntp_cv_cpp_warning],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM([[]], [[#warning foo]])],
	[ntp_cv_cpp_warning=yes],
	[ntp_cv_cpp_warning=no]
    )]
)
case "$ntp_cv_cpp_warning" in
 no)
    AC_DEFINE([NO_OPTION_NAME_WARNINGS], [1],
	[Should we avoid @%:@warning on option name collisions?])
esac

AC_CACHE_CHECK(
    [if $CC supports __attribute__((...))],
    [ntp_cv_cc_attribute],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[]],
	    [[void foo(void) __attribute__((__noreturn__));]]
	    )],
	[ntp_cv_cc_attribute=yes],
	[ntp_cv_cc_attribute=no]
    )]
)
case "$ntp_cv_cc_attribute" in
 yes)
    AC_DEFINE([HAVE___ATTRIBUTE__], [],
	[defined if C compiler supports __attribute__((...))])
esac
AH_VERBATIM(
    [HAVE___ATTRIBUTE___VERBATIM],
    [
	/* define away __attribute__() if unsupported */
	#ifndef HAVE___ATTRIBUTE__
	# define __attribute__(x) /* empty */
	#endif
	#define ISC_PLATFORM_NORETURN_PRE
	#define ISC_PLATFORM_NORETURN_POST __attribute__((__noreturn__))
    ]
)

case "$GCC" in
 yes)
    SAVED_CFLAGS="$CFLAGS"
    CFLAGS="$CFLAGS -Wstrict-overflow"
    AC_CACHE_CHECK(
	[if $CC can handle -Wstrict-overflow], 
	[ntp_cv_gcc_Wstrict_overflow], 
	[AC_COMPILE_IFELSE(
	    [AC_LANG_PROGRAM([[]], [[]])],
	    [ntp_cv_gcc_Wstrict_overflow=yes],
	    [ntp_cv_gcc_Wstrict_overflow=no]
	)	]
    )
    #
    # $ntp_cv_gcc_Wstrict_overflow is tested later to add the 
    # flag to CFLAGS.
    #
    CFLAGS="$SAVED_CFLAGS -Winit-self"
    AC_CACHE_CHECK(
	[if $CC can handle -Winit-self], 
	[ntp_cv_gcc_Winit_self],
	[
	    AC_COMPILE_IFELSE(
		[AC_LANG_PROGRAM([[]], [[]])],
		[ntp_cv_gcc_Winit_self=yes],
		[ntp_cv_gcc_Winit_self=no]
	    )
	]
    )
    CFLAGS="$SAVED_CFLAGS"
    AS_UNSET([SAVED_CFLAGS])
    #
    # $ntp_cv_gcc_Winit_self is tested later to add the 
    # flag to CFLAGS_NTP.
    #
    AC_CACHE_CHECK(
	[if linker supports omitting unused code and data],
	[ntp_cv_gc_sections_runs],
	[
	    dnl  NetBSD will link but likely not run with --gc-sections
	    dnl  http://bugs.ntp.org/1844
	    dnl  http://gnats.netbsd.org/40401
	    dnl  --gc-sections causes attempt to load as linux elf, with
	    dnl  wrong syscalls in place.  Test a little gauntlet of
	    dnl  simple stdio read code checking for errors, expecting
	    dnl  enough syscall differences that the NetBSD code will
	    dnl  fail even with Linux emulation working as designed.
	    dnl  A shorter test could be refined by someone with access
	    dnl  to a NetBSD host with Linux emulation working.
	    origCFLAGS="$CFLAGS"
	    CFLAGS="$CFLAGS -Wl,--gc-sections"
	    AC_LINK_IFELSE(
		[AC_LANG_PROGRAM(
		    [[
			#include <stdlib.h>
			#include <stdio.h>
		    ]],
		    [[
			FILE *	fpC;
			char	buf[32];
			size_t	cch;
			int	read_success_once;

			fpC = fopen("conftest.c", "r");
			if (NULL == fpC)
				exit(1);
			do {
				cch = fread(buf, sizeof(buf), 1, fpC);
				read_success_once |= (0 != cch);
			} while (0 != cch);
			if (!read_success_once)
				exit(2);
			if (!feof(fpC))
				exit(3);
			if (0 != fclose(fpC))
				exit(4);

			exit(EXIT_SUCCESS);
		    ]]
		)],
		[
		    if test "X$cross_compiling" = "Xyes" || grep gc-sections conftest.err ; then
			ntp_cv_gc_sections_runs=no
		    else
			ntp_cv_gc_sections_runs=no
			./conftest >/dev/null 2>&1 && ntp_cv_gc_sections_runs=yes
		    fi
		],
		[ntp_cv_gc_sections_runs=no]
	    )
	    CFLAGS="$origCFLAGS"
	    AS_UNSET([origCFLAGS])
	]
    )
    case "$ntp_cv_gc_sections_runs" in
     yes)
	LDADD_LIBNTP="-Wl,--gc-sections"
	CFLAGS_NTP="$CFLAGS_NTP -ffunction-sections -fdata-sections"
	;;
     no)
	LDADD_LIBNTP=
	;;
    esac
    CFLAGS_NTP="$CFLAGS_NTP -Wall"
    CFLAGS_NTP="$CFLAGS_NTP -Wcast-align"
    CFLAGS_NTP="$CFLAGS_NTP -Wcast-qual"
    # CFLAGS_NTP="$CFLAGS_NTP -Wconversion"
    # CFLAGS_NTP="$CFLAGS_NTP -Werror"
    # CFLAGS_NTP="$CFLAGS_NTP -Wextra"
    # CFLAGS_NTP="$CFLAGS_NTP -Wfloat-equal"
    CFLAGS_NTP="$CFLAGS_NTP -Wmissing-prototypes"
    CFLAGS_NTP="$CFLAGS_NTP -Wpointer-arith"
    CFLAGS_NTP="$CFLAGS_NTP -Wshadow"
    # CFLAGS_NTP="$CFLAGS_NTP -Wtraditional"
    # CFLAGS_NTP="$CFLAGS_NTP -Wwrite-strings"
    case "$ntp_cv_gcc_Winit_self" in
     yes)
	CFLAGS_NTP="$CFLAGS_NTP -Winit-self"
    esac
    case "$ntp_cv_gcc_Wstrict_overflow" in
     yes)
	CFLAGS_NTP="$CFLAGS_NTP -Wstrict-overflow"
    esac
    # -W[no-]strict-prototypes might be added by NTP_OPENSSL
esac

NTP_OS_CFLAGS

])
m4trace:m4/ntp_crosscompile.m4:2: -1- AC_DEFUN([NTP_CROSSCOMPILE], [

# Expose a cross-compilation indicator to makefiles
AM_CONDITIONAL([NTP_CROSSCOMPILE], [test $build != $host])

])
m4trace:m4/ntp_debug.m4:3: -1- AC_DEFUN([NTP_DEBUG], [

AC_MSG_CHECKING([if we're including debugging code])
AC_ARG_ENABLE(
    [debugging],
    [AS_HELP_STRING(
        [--enable-debugging],
        [+ include ntpd debugging code]
    )],
    [ntp_ok=$enableval],
    [ntp_ok=yes]
)
case "$ntp_ok" in
 yes)
    AC_DEFINE([DEBUG], [1], [Enable debugging code?])
esac
AC_MSG_RESULT([$ntp_ok])

])
m4trace:m4/ntp_dir_sep.m4:3: -1- AC_DEFUN([NTP_DIR_SEP], [
AC_CACHE_CHECK(
    [for directory path separator],
    [ntp_cv_dir_sep],
    [
	case "$ntp_cv_dir_sep" in
	 '')
	    case "$host_os" in
	     *djgpp | *mingw32* | *emx*)
		ntp_cv_dir_sep="'\\'"
		;;
	     *) 
		ntp_cv_dir_sep="'/'"
		;;
	    esac
	esac
    ]
)
AC_DEFINE_UNQUOTED([DIR_SEP], [$ntp_cv_dir_sep],
    [Directory separator character, usually / or \\])
])
m4trace:m4/ntp_facilitynames.m4:3: -1- AC_DEFUN([NTP_FACILITYNAMES], [
AC_CACHE_CHECK([for facilitynames in syslog.h],ac_cv_HAVE_SYSLOG_FACILITYNAMES,[
AC_TRY_COMPILE([
#define SYSLOG_NAMES
#include <stdlib.h>
#include <syslog.h>
],
[ void *fnames; fnames = facilitynames; ],
ac_cv_HAVE_SYSLOG_FACILITYNAMES=yes,ac_cv_HAVE_SYSLOG_FACILITYNAMES=no,ac_cv_HAVE_SYSLOG_FACILITYNAMES=cross)])
case "$ac_cv_HAVE_SYSLOG_FACILITYNAMES" in
 yes)
    AC_DEFINE(HAVE_SYSLOG_FACILITYNAMES,1,[ ])
    ;;
 no)
    AC_MSG_WARN([No facilitynames in <syslog.h>])
    ;;
 cross)
    AC_MSG_WARN([facilitynames in <syslog.h> - cross-compiling])
    ;;
esac
])
m4trace:m4/ntp_googletest.m4:3: -1- AC_DEFUN([NTP_GOOGLETEST], [
gta=false
AC_ARG_WITH(
    [gtest],
    [AS_HELP_STRING(
	[--with-gtest],
	[Use the gtest framework (Default: if it's available)]
    )],
    [try_gtest=$withval],
    [try_gtest=yes]
)
case "$try_gtest" in
 yes)
    AC_PATH_PROG([GTEST_CONFIG], [gtest-config])
    AS_UNSET([ac_cv_path_GTEST_CONFIG])
    case x${GTEST_CONFIG} in
     x) ;;
     *)
	AC_MSG_CHECKING([gtest version])
	gtest_version_test=`$GTEST_CONFIG --min-version=1.5 || echo toolow`
	case "$gtest_version_test" in
	 toolow*)
	    ;;
	 *)
	    GTEST_LDFLAGS=`$GTEST_CONFIG --ldflags`
	    GTEST_LIBS=`$GTEST_CONFIG --libs`
	    GTEST_CXXFLAGS=`$GTEST_CONFIG --cxxflags`
	    GTEST_CPPFLAGS=`$GTEST_CONFIG --cppflags`
	    AC_SUBST([GTEST_LDFLAGS])
	    AC_SUBST([GTEST_LIBS])
	    AC_SUBST([GTEST_CXXFLAGS])
	    AC_SUBST([GTEST_CPPFLAGS])
	    gta=true
	    ;;
	esac
	gtest_version=`$GTEST_CONFIG --version`
	case "$gta" in
	 true)
	    AC_MSG_RESULT([($gtest_version) ok])
	    ;;
	 *) AC_MSG_RESULT([($gtest_version) not ok])
	    ;;
	esac
	AS_UNSET([gtest_version_test])
	AS_UNSET([gtest_version])
    esac
esac
AM_CONDITIONAL([GTEST_AVAILABLE], [$gta])

])
m4trace:m4/ntp_ipv6.m4:3: -1- AC_DEFUN([NTP_IPV6], [

AC_CACHE_CHECK(
    [for struct sockaddr_storage],
    [ntp_cv_sockaddr_storage],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
		#ifdef HAVE_SYS_TYPES_H
		# include <sys/types.h>
		#endif
		#ifdef HAVE_SYS_SOCKET_H
		# include <sys/socket.h>
		#endif
		#ifdef HAVE_NETINET_IN_H
		# include <netinet/in.h>
		#endif
	    ]],
	    [[
		struct sockaddr_storage n;
	    ]]
	)],
	[ntp_cv_sockaddr_storage=yes],
	[ntp_cv_sockaddr_storage=no]
    )]
)
case "$ntp_cv_sockaddr_storage" in
 yes)
    AC_DEFINE([HAVE_STRUCT_SOCKADDR_STORAGE], [1],
	[Does a system header define struct sockaddr_storage?])
    AC_CACHE_CHECK(
	[for sockaddr_storage.__ss_family],
	[ntp_cv_have___ss_family],
	[AC_COMPILE_IFELSE(
	    [AC_LANG_PROGRAM(
		[[
		    #ifdef HAVE_SYS_TYPES_H
		    # include <sys/types.h>
		    #endif
		    #ifdef HAVE_SYS_SOCKET_H
		    # include <sys/socket.h>
		    #endif
		    #ifdef HAVE_NETINET_IN_H
		    # include <netinet/in.h>
		    #endif
		]],
		[[
		    struct sockaddr_storage s;
		    s.__ss_family = 1;
		]]
	    )],
	    [ntp_cv_have___ss_family=yes],
	    [ntp_cv_have___ss_family=no]
	)]
    )
    case "$ntp_cv_have___ss_family" in
     yes)
	AC_DEFINE([HAVE___SS_FAMILY_IN_SS], [1],
		  [Does struct sockaddr_storage have __ss_family?])
    esac
    AH_VERBATIM(
	[HAVE___SS_FAMILY_IN_SS_VERBATIM],
	[
	    /* Handle sockaddr_storage.__ss_family */
	    #ifdef HAVE___SS_FAMILY_IN_SS
	    # define ss_family __ss_family
	    #endif /* HAVE___SS_FAMILY_IN_SS */
	]
    )
esac


#
# Look for in_port_t.
#
AC_CACHE_CHECK(
    [for in_port_t],
    [isc_cv_have_in_port_t],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
		#include <sys/types.h>
		#include <netinet/in.h>
	    ]],
	    [[
		in_port_t port = 25; 
		return (0);
	    ]]
	)],
	[isc_cv_have_in_port_t=yes],
	[isc_cv_have_in_port_t=no]
    )]
)
case "$isc_cv_have_in_port_t" in
 no)
	AC_DEFINE([ISC_PLATFORM_NEEDPORTT], [1],
	    [Declare in_port_t?])
esac

AC_CACHE_CHECK(
    [type of socklen arg for getsockname()],
    [ntp_cv_getsockname_socklen_type],
    [
    getsockname_socklen_type_found=no
    for getsockname_arg2 in 'struct sockaddr *' 'void *'; do
	for ntp_cv_getsockname_socklen_type in 'socklen_t' 'size_t' 'unsigned int' 'int'; do
	    AC_COMPILE_IFELSE(
		[AC_LANG_PROGRAM(
		    [[
			#ifdef HAVE_SYS_TYPES_H
			# include <sys/types.h>
			#endif
			#ifdef HAVE_SYS_SOCKET_H
			# include <sys/socket.h>
			#endif
		    ]], [[
			extern
			getsockname(int, $getsockname_arg2, 
				$ntp_cv_getsockname_socklen_type *);
		    ]]
		)],
		[getsockname_socklen_type_found=yes ; break 2],
		[]
	    )
	done
    done
    case "$getsockname_socklen_type_found" in
     no)
	ntp_cv_getsockname_socklen_type='socklen_t'
    esac
    AS_UNSET([getsockname_arg2])
    AS_UNSET([getsockname_socklen_type_found])
    ]
)
AC_DEFINE_UNQUOTED([GETSOCKNAME_SOCKLEN_TYPE],
		   [$ntp_cv_getsockname_socklen_type],
		   [What is getsockname()'s socklen type?])

AC_CACHE_CHECK(
    [struct sockaddr for sa_len],
    [isc_cv_platform_havesalen],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
		#include <sys/types.h>
		#include <sys/socket.h>
	    ]],
	    [[
		extern struct sockaddr *ps;
		return ps->sa_len;
	    ]]
	)],
	[isc_cv_platform_havesalen=yes],
	[isc_cv_platform_havesalen=no]
    )]
)
case "$isc_cv_platform_havesalen" in
 yes)
    AC_DEFINE([ISC_PLATFORM_HAVESALEN], [1],
	 [struct sockaddr has sa_len?])
esac

AC_ARG_ENABLE(
    [ipv6],
    [AS_HELP_STRING(
	[--enable-ipv6],
	[s use IPv6?]
    )]
)

case "$enable_ipv6" in
 yes|''|autodetect)
    case "$host" in
     powerpc-ibm-aix4*)
	;;
     *)
	AC_DEFINE([WANT_IPV6], [1], [configure --enable-ipv6])
	;;
    esac
    ;;
 no)
    ;;
esac


dnl [Bug 1984] ntp/libisc fails to compile on OS X 10.7 (Lion)
case "$host" in
 *-*-darwin*)
    AC_DEFINE([__APPLE_USE_RFC_3542], [1], [Are we _special_?])
esac


AC_CACHE_CHECK(
    [for IPv6 structures],
    [isc_cv_found_ipv6],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
		#include <sys/types.h>
		#include <sys/socket.h>
		#include <netinet/in.h>
	    ]],
	    [[
		struct sockaddr_in6 sin6;
	    ]]
	)],
	[isc_cv_found_ipv6=yes],
	[isc_cv_found_ipv6=no]
    )]
)

#
# See whether IPv6 support is provided via a Kame add-on.
# This is done before other IPv6 linking tests so LIBS is properly set.
#
AC_MSG_CHECKING([for Kame IPv6 support])
AC_ARG_WITH(
    [kame],
    [AS_HELP_STRING(
	[--with-kame],
	[- =/usr/local/v6]
    )],
    [use_kame="$withval"],
    [use_kame="no"]
)
case "$use_kame" in
 no)
    ;;
 yes)
    kame_path=/usr/local/v6
    ;;
 *)
    kame_path="$use_kame"
    ;;
esac
case "$use_kame" in
 no)
    AC_MSG_RESULT([no])
    ;;
 *)
    if test -f $kame_path/lib/libinet6.a; then
	AC_MSG_RESULT([$kame_path/lib/libinet6.a])
	LIBS="-L$kame_path/lib -linet6 $LIBS"
    else
	AC_MSG_ERROR([$kame_path/lib/libinet6.a not found.

Please choose the proper path with the following command:

    configure --with-kame=PATH
])
    fi
    ;;
esac

#
# Whether netinet6/in6.h is needed has to be defined in isc/platform.h.
# Including it on Kame-using platforms is very bad, though, because
# Kame uses #error against direct inclusion.   So include it on only
# the platform that is otherwise broken without it -- BSD/OS 4.0 through 4.1.
# This is done before the in6_pktinfo check because that's what
# netinet6/in6.h is needed for.
#
case "$host" in
 *-bsdi4.[[01]]*)
    AC_DEFINE([ISC_PLATFORM_NEEDNETINET6IN6H], [1],
	[Do we need netinet6/in6.h?])
    isc_netinet6in6_hack="#include <netinet6/in6.h>"
    ;;
 *)
    isc_netinet6in6_hack=""
    ;;
esac

#
# This is similar to the netinet6/in6.h issue.
#
case "$host" in
 *-sco-sysv*uw*|*-*-sysv*UnixWare*|*-*-sysv*OpenUNIX*)
    AC_DEFINE([ISC_PLATFORM_FIXIN6ISADDR], [1],
	[Do we need to fix in6isaddr?])
    isc_netinetin6_hack="#include <netinet/in6.h>"
    ;;
 *)
    isc_netinetin6_hack=""
    ;;
esac


case "$isc_cv_found_ipv6" in
 yes)
    AC_DEFINE([ISC_PLATFORM_HAVEIPV6], [1], [have IPv6?])
    AC_CACHE_CHECK(
	[for in6_pktinfo],
	[isc_cv_have_in6_pktinfo],
	[AC_COMPILE_IFELSE(
	    [AC_LANG_PROGRAM(
		[[
		    #include <sys/types.h>
		    #include <sys/socket.h>
		    #include <netinet/in.h>
		    $isc_netinetin6_hack
		    $isc_netinet6in6_hack
		]],
		[[
		    struct in6_pktinfo xyzzy;
		]]
	    )],
	    [isc_cv_have_in6_pktinfo=yes],
	    [isc_cv_have_in6_pktinfo=no]
	)]
    )
    case "$isc_cv_have_in6_pktinfo" in
     yes)
	AC_DEFINE([ISC_PLATFORM_HAVEIN6PKTINFO], [1],
		[have struct in6_pktinfo?])
    esac


    # HMS: Use HAVE_STRUCT_SOCKADDR_IN6_SIN6_SCOPE_ID instead?
    AC_CACHE_CHECK(
	[for sockaddr_in6.sin6_scope_id],
	[isc_cv_have_sin6_scope_id],
	[AC_COMPILE_IFELSE(
	    [AC_LANG_PROGRAM(
		[[
		    #include <sys/types.h>
		    #include <sys/socket.h>
		    #include <netinet/in.h>
		    $isc_netinetin6_hack
		    $isc_netinet6in6_hack
		]],
		[[
		    struct sockaddr_in6 xyzzy;
		    xyzzy.sin6_scope_id = 0;
		]]
	    )],
	    [isc_cv_have_sin6_scope_id=yes],
	    [isc_cv_have_sin6_scope_id=no]
	)]
    )

    case "$isc_cv_have_sin6_scope_id" in
     yes)
	AC_DEFINE([ISC_PLATFORM_HAVESCOPEID], [1], [sin6_scope_id?])
    esac
esac


# We need this check run even without isc_cv_found_ipv6=yes

AC_CACHE_CHECK(
    [for in6addr_any],
    [isc_cv_in6addr_any_links],
    [
	SAVED_LIBS="$LIBS"
	LIBS="$LDADD_LIBNTP $LIBS"
	AC_LINK_IFELSE(
	    [AC_LANG_PROGRAM(
		AC_INCLUDES_DEFAULT [[
		    #include <sys/socket.h>
		    #include <netinet/in.h>
		    $isc_netinetin6_hack
		    $isc_netinet6in6_hack
		]],
		[[
		    printf("%x", in6addr_any.s6_addr[15]);
		]]
	    )],
	    [isc_cv_in6addr_any_links=yes],
	    [isc_cv_in6addr_any_links=no]
	)
	LIBS="$SAVED_LIBS"
	AS_UNSET([SAVED_LIBS])
    ]
)

case "$isc_cv_in6addr_any_links" in
 no)
    AC_DEFINE([ISC_PLATFORM_NEEDIN6ADDRANY], [1], [missing in6addr_any?])
esac


AC_CACHE_CHECK(
    [for struct if_laddrconf],
    [isc_cv_struct_if_laddrconf],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
		#include <sys/types.h>
		#include <net/if6.h>
	    ]],
	    [[
		struct if_laddrconf a;
	    ]]
	)],
	[isc_cv_struct_if_laddrconf=yes],
	[isc_cv_struct_if_laddrconf=no]
    )]
)

case "$isc_cv_struct_if_laddrconf" in
 yes)
    AC_DEFINE([ISC_PLATFORM_HAVEIF_LADDRCONF], [1],
	[have struct if_laddrconf?])
esac

AC_CACHE_CHECK(
    [for struct if_laddrreq],
    isc_cv_struct_if_laddrreq,
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
		#include <sys/types.h>
		#include <net/if6.h>
	    ]],
	    [[
		struct if_laddrreq a;
	    ]]
	)],
	[isc_cv_struct_if_laddrreq=yes],
	[isc_cv_struct_if_laddrreq=no]
    )]
)

case "$isc_cv_struct_if_laddrreq" in
 yes)
    AC_DEFINE([ISC_PLATFORM_HAVEIF_LADDRREQ], [1],
	[have struct if_laddrreq?])
esac

AC_CACHE_CHECK(
    [for multicast IP support],
    [ntp_cv_multicast],
    [
	ntp_cv_multicast=no
	case "$host" in
	 i386-sequent-sysv4)
	    ;;
	 *)
	    AC_COMPILE_IFELSE(
		[AC_LANG_PROGRAM(
		    [[
			#ifdef HAVE_NETINET_IN_H
			# include <netinet/in.h>
			#endif
		    ]],
		    [[
			struct ip_mreq ipmr;
			ipmr.imr_interface.s_addr = 0;
		    ]]
		)],
		[ntp_cv_multicast=yes],
		[]
	    )
	    ;;
	esac
    ]
)
case "$ntp_cv_multicast" in
 yes)
    AC_DEFINE([MCAST], [1], [Does the target support multicast IP?])
    AC_CACHE_CHECK(
	[arg type needed for setsockopt() IP*_MULTICAST_LOOP],
	[ntp_cv_typeof_ip_multicast_loop],
	[
	    case "$host" in
	     *-*-netbsd*|*-*-*linux*)
		ntp_cv_typeof_ip_multicast_loop=u_int
		;;
	     *)
		ntp_cv_typeof_ip_multicast_loop=u_char
		;;
	    esac
	]
    )
    AC_DEFINE_UNQUOTED([TYPEOF_IP_MULTICAST_LOOP],
	[$ntp_cv_typeof_ip_multicast_loop],
	[What type to use for setsockopt])
esac

AC_ARG_ENABLE(
    [getifaddrs],
    [AS_HELP_STRING(
	[--enable-getifaddrs],
	[+ Enable the use of getifaddrs() [[yes|no]].]
    )],
    [want_getifaddrs="$enableval"],
    [want_getifaddrs="yes"]
)

case $want_getifaddrs in
 glibc)
    AC_MSG_WARN([--enable-getifaddrs=glibc is no longer required])
esac
case $want_getifaddrs in
 no)
    ;;
 *)
    SAVED_LIBS="$LIBS"
    LIBS="$LDADD_LIBNTP $LIBS"
    AC_CHECK_FUNCS([getifaddrs])
    LIBS="$SAVED_LIBS"
    AS_UNSET([SAVED_LIBS])
    ;;
esac

#
# Check for if_nametoindex() for IPv6 scoped addresses support
#
case "$host" in
 *-hp-hpux*)
    AC_SEARCH_LIBS([if_nametoindex], [ipv6])
esac
SAVED_LIBS="$LIBS"
LIBS="$LDADD_LIBNTP $LIBS"
AC_CHECK_FUNCS([if_nametoindex])
LIBS="$SAVED_LIBS"
AS_UNSET([SAVED_LIBS])
case "$ac_cv_func_if_nametoindex" in
 yes)
	AC_DEFINE([ISC_PLATFORM_HAVEIFNAMETOINDEX], [1],
	    [ISC: do we have if_nametoindex()?])
esac

])
m4trace:m4/ntp_lib_m.m4:3: -1- AC_DEFUN([NTP_LIB_M], [
LIBM=
case "$host" in
 *-*-darwin*)
    ;;
 *)
    _libs=$LIBS
    AC_SEARCH_LIBS([cos], [m], [LIBM="-lm"])
    LIBS=$_libs
    ;;
esac
AC_SUBST([LIBM])
AS_UNSET([_libs])
])
m4trace:m4/ntp_libevent.m4:31: -1- AC_DEFUN([NTP_ENABLE_LOCAL_LIBEVENT], [

AC_ARG_ENABLE(
    [local-libevent],
    [AC_HELP_STRING(
	[--enable-local-libevent],
	[Force using the supplied libevent tearoff code]
    )],
    [ntp_use_local_libevent=$enableval],
    [ntp_use_local_libevent=${ntp_use_local_libevent-detect}]
)

])
m4trace:m4/ntp_libevent.m4:60: -1- AC_DEFUN([NTP_LIBEVENT_CHECK_NOBUILD], [
AC_REQUIRE([NTP_PKG_CONFIG])dnl
AC_REQUIRE([NTP_ENABLE_LOCAL_LIBEVENT])dnl

ntp_libevent_min_version=m4_default([$1], [2.0.9])
ntp_libevent_tearoff=m4_default([$2], [libevent])

AC_SUBST([CFLAGS_LIBEVENT])
AC_SUBST([CPPFLAGS_LIBEVENT])
AC_SUBST([LDADD_LIBEVENT])

case "$ntp_use_local_libevent" in
 yes)
    ;;
 *) # If we have (a good enough) pkg-config, see if it can find libevent
    case "$PKG_CONFIG" in
     /*)
	AC_MSG_CHECKING([if libevent $ntp_libevent_min_version or later is installed])
	if $PKG_CONFIG --atleast-version=$ntp_libevent_min_version libevent
	then
	    ntp_use_local_libevent=no
	    AC_MSG_NOTICE([Using the installed libevent])
	    CFLAGS_LIBEVENT=`$PKG_CONFIG --cflags libevent_pthreads`
	    CPPFLAGS_LIBEVENT=`$PKG_CONFIG --cflags-only-I libevent`
	    # HMS: I hope the following is accurate.
	    # We don't need -levent, we only need  -levent_core.
	    # While we could grab only the -L stuff, there *might* be
	    # other flags there we want.  Originally we just removed -levent
	    # but then somebody decided to install -levent-2.0
	    # LDADD_LIBEVENT=`$PKG_CONFIG --libs libevent | sed 's:-levent::'`
	    # So now we dance...
	    LDADD_LIBEVENT=
	    for i in `$PKG_CONFIG --libs libevent` `$PKG_CONFIG --cflags-only-other libevent_pthreads`
	    do
		case "$i" in
		 -D*) ;;
		 -levent*) ;;
		 *) case "$LDADD_LIBEVENT" in
		     '') LDADD_LIBEVENT="$i" ;;
		     *) LDADD_LIBEVENT="$LDADD_LIBEVENT $i" ;;
		    esac
		    ;;
		esac
	    done
	    case "$LIBISC_PTHREADS_NOTHREADS" in
	     pthreads)
		LDADD_LIBEVENT="$LDADD_LIBEVENT -levent_pthreads"
	    esac
	    LDADD_LIBEVENT="$LDADD_LIBEVENT -levent_core"
	    AC_MSG_RESULT([yes])
	else
	    ntp_use_local_libevent=yes
	    # HMS: do we only need to do this if LIBISC_PTHREADS_NOTHREADS
	    # is "pthreads"?
	    CFLAGS_LIBEVENT=`$PKG_CONFIG --cflags libevent_pthreads`
	    AC_MSG_RESULT([no])
	fi
	;;
     *)
	ntp_use_local_libevent=yes
	;;
    esac
    ;;
esac

case "$ntp_use_local_libevent" in
 yes)
    AC_MSG_NOTICE([Using libevent tearoff])
    CPPFLAGS_LIBEVENT="-I\$(top_builddir)/$ntp_libevent_tearoff/include -I\$(top_srcdir)/$ntp_libevent_tearoff/include"
    case "$LIBISC_PTHREADS_NOTHREADS" in
     pthreads)
	LDADD_LIBEVENT="\$(top_builddir)/$ntp_libevent_tearoff/libevent_pthreads.la \$(top_builddir)/$ntp_libevent_tearoff/libevent_core.la"
	;;
     *)
	LDADD_LIBEVENT="\$(top_builddir)/$ntp_libevent_tearoff/libevent_core.la"
    esac
esac

dnl AC_ARG_ENABLE(
dnl     [cflags-libevent],
dnl     [AC_HELP_STRING(
dnl 	[--enable-cflags-libevent=-pthread],
dnl 	[CFLAGS value to build with pthreads]
dnl     )],
dnl     [CFLAGS_LIBEVENT=$enableval],
dnl     [# See above about LIBISC_PTHREADS_NOTHREADS
dnl     case "$CFLAGS_LIBEVENT" in
dnl      '') CFLAGS_LIBEVENT="-pthread" ;;	
dnl      *) ;;
dnl     esac]
dnl )
dnl AC_MSG_NOTICE([LIBISC_PTHREADS_NOTHREADS is <$LIBISC_PTHREADS_NOTHREADS>])
dnl AC_MSG_NOTICE([CFLAGS_LIBEVENT is <$CFLAGS_LIBEVENT>])

AM_CONDITIONAL([BUILD_LIBEVENT], [test "x$ntp_use_local_libevent" = "xyes"])

])
m4trace:m4/ntp_libevent.m4:159: -1- AC_DEFUN([NTP_LIBEVENT_CHECK], [

AC_SUBST([NTP_FORCE_LIBEVENT_DIST])
NTP_LIBEVENT_CHECK_NOBUILD([$1], [$2])

case "$ntp_libevent_tearoff" in
 libevent)
    ;;
 *)
    AC_MSG_ERROR([ntp_libevent.m4 dir must be libevent, not $ntp_libevent_tearoff])
    ;;
esac

case "$ntp_use_local_libevent" in
 yes)
    dnl ac_configure_args is undocumented but widely abused, as here,
    dnl to modify the defaults of the libevent subpackage, by prefixing
    dnl our changes to the child configure arguments already assembled.
    dnl User-supplied contradictory choices should prevail thanks to
    dnl "last wins".
    ac_configure_args=" --disable-openssl${ac_configure_args}"
    ac_configure_args=" --disable-shared${ac_configure_args}"
    ac_configure_args=" --disable-libevent-regress${ac_configure_args}"
    ac_configure_args=" --disable-libevent-install${ac_configure_args}"
    ac_configure_args=" --enable-silent-rules${ac_configure_args}"
    ac_configure_args=" --enable-function-sections${ac_configure_args}"
    AC_CONFIG_SUBDIRS([libevent])
    ;;
 *)
    NTP_FORCE_LIBEVENT_DIST=libevent
    ;;
esac

])
m4trace:m4/ntp_libntp.m4:9: -1- AC_DEFUN([NTP_LIBNTP], [

AC_REQUIRE([NTP_CROSSCOMPILE])

# HMS: Save $LIBS and empty it.
# any LIBS we add here should go in to LDADD_LIBNTP
AC_SUBST([LDADD_LIBNTP])
__LIBS=$LIBS
LIBS=

dnl The contents of NTP_PROG_CC used to be here...

AC_PROG_INSTALL
# [Bug 2332] because we need to know if we are using GNU ld...
LT_PATH_LD

NTP_DIR_SEP
NTP_LINEEDITLIBS
NTP_LIB_M

AC_FUNC_FORK
AC_FUNC_ALLOCA
AC_FUNC_STRERROR_R

ac_busted_vpath_in_make=no
case "$build" in
 *-*-irix6.1*)	# 64 bit only
    # busted vpath?
    ;;
 *-*-irix6*)	# 6.2 (and later?)
    ac_busted_vpath_in_make=yes
    ;;
 *-*-solaris2.5.1)
    ac_busted_vpath_in_make=yes
    ;;
 *-*-unicosmp*)
    ac_busted_vpath_in_make=yes
    ;;
esac

case "$ac_busted_vpath_in_make$srcdir" in
 yes.|no*)
    ;;
 *) case "`${MAKE-make} -v -f /dev/null 2>/dev/null | grep 'GNU Make'`" in
     '')
	AC_MSG_ERROR([building outside of the main directory requires GNU make])
    esac
    ;;
esac

case "$host" in
 *-*-aix4*)
	# Bug 2516:
	# Was *-*-aix[[4-9]]*
	# XXX only verified thru AIX6.  But...
	# Ken Link says this is fine for AIX 5.3 and 7.1, and sees no reason
	# that this support would be in 5.3, removed in 6, and added back.
	#
	# (prr) aix 4.1 doesn't have clock_settime, but in aix 4.3 it's a stub
	# (returning ENOSYS).  I didn't check 4.2.  If, in the future,
	# IBM pulls its thumbs out long enough to implement clock_settime,
	# this conditional will need to change.  Maybe use AC_TRY_RUN
	# instead to try to set the time to itself and check errno.
    ;;
 *)
    HMS_SEARCH_LIBS([LDADD_LIBNTP], [clock_gettime], [rt])
    AC_CHECK_FUNCS([clock_getres clock_gettime clock_settime])
    ;;
esac

AC_CHECK_FUNCS([getclock stime timegm strlcpy strlcat])

# Bug 2713
LDADD_LIBUTIL=
AC_SUBST([LDADD_LIBUTIL])
HMS_SEARCH_LIBS([LDADD_LIBUTIL], [snprintb], [util],
		[AC_DEFINE([USE_SNPRINTB], 1, [OK to use snprintb()?])])

dnl  HP-UX 11.31 on HPPA has a net/if.h that can't be compiled with gcc4
dnl  due to an incomplete type (a union) mpinfou used in an array.  gcc3
dnl  compiles it without complaint.  The mpinfou union is defined later
dnl  in the resulting preprocessed source than the spu_info array in
dnl  /usr/include/machine/sys/getppdp.h:
dnl	extern union mpinfou spu_info[];
dnl  triggering the error.  Our strategy is on HP-UX only, test compile
dnl  net/if.h.  If that fails, try adding a duplicate definition of
dnl  mpinfou, and if that helps add it to confdefs.h (used for further
dnl  configure tests) and config.h.
#
AC_CHECK_HEADERS([errno.h sys/socket.h sys/types.h time.h])
AC_CHECK_HEADERS([net/if.h], [], [], [
    #ifdef HAVE_SYS_SOCKET_H
    # include <sys/socket.h>
    #endif
])
case "$host" in
 *-hp-hpux*)
    AC_CACHE_CHECK(
	[if net/if.h requires mpinfou predeclaration],
	[ntp_cv_predecl_mpinfou],
	[
	    np_cv_predecl_mpinfou=no
	    case "$ac_cv_header_net_if_h" in
	     no)
		AC_COMPILE_IFELSE(
		    [AC_LANG_PROGRAM(
			[[
			    typedef union mpinfou {
				    struct pdk_mpinfo *pdkptr;
				    struct mpinfo *pikptr;
			    } mpinfou_t;
			    #ifdef HAVE_SYS_SOCKET_H
			    # include <sys/socket.h>
			    #endif
			    #include <net/if.h>
			]],
			[[
			]]
		    )],
		    [
			ntp_cv_predecl_mpinfou=yes
			ac_cv_header_net_if_h=yes
		    ]
		)
	    esac
	]
    )
    case "$ntp_cv_predecl_mpinfou" in
     yes)
	cat >>confdefs.h <<_ACEOF
#ifndef MPINFOU_PREDECLARED
# define MPINFOU_PREDECLARED
typedef union mpinfou {
	struct pdk_mpinfo *pdkptr;
	struct mpinfo *pikptr;
} mpinfou_t;
#endif
_ACEOF
	AH_BOTTOM([
#ifndef MPINFOU_PREDECLARED
# define MPINFOU_PREDECLARED
typedef union mpinfou {
	struct pdk_mpinfo *pdkptr;
	struct mpinfo *pikptr;
} mpinfou_t;
#endif
])
    esac
esac

case "$host" in
 *-linux*)
    AC_CHECK_HEADERS([linux/if_addr.h], [], [], [
	#ifdef HAVE_SYS_SOCKET_H
	# include <sys/socket.h>
	#endif
    ])
esac

AC_CHECK_HEADERS([arpa/nameser.h sys/param.h sys/time.h sys/timers.h])
# sys/sysctl.h depends on sys/param.h on OpenBSD - Bug 1576
AC_CHECK_HEADERS([sys/sysctl.h], [], [], [
    #if defined HAVE_SYS_PARAM_H
    # include <sys/param.h>
    #endif
])
AC_CHECK_HEADERS([netinet/in_system.h netinet/in_systm.h netinet/in.h])

AC_CHECK_HEADERS([resolv.h], [], [], [
    #ifdef HAVE_SYS_TYPES_H
    # include <sys/types.h>
    #endif
    #ifdef HAVE_NETINET_IN_H
    # include <netinet/in.h>
    #endif
    #ifdef HAVE_ARPA_NAMESER_H
    # include <arpa/nameser.h>
    #endif
])

AC_CHECK_HEADERS([net/if_var.h], [], [], [
    #if HAVE_SYS_TYPES_H
    # include <sys/types.h>
    #endif
    #ifdef HAVE_SYS_SOCKET_H
    # include <sys/socket.h>
    #endif
    #ifdef HAVE_NETINET_IN_H
    # include <netinet/in.h>
    #endif
    #ifdef HAVE_NET_IF_H
    # include <net/if.h>
    #endif
])

AC_CHECK_HEADERS([netinet/ip.h netinet/in_var.h], [], [], [
    #ifdef HAVE_SYS_TYPES_H
    # include <sys/types.h>
    #endif
    #ifdef HAVE_SYS_SOCKET_H
    # include <sys/socket.h>
    #endif
    #ifdef HAVE_NET_IF_H
    # include <net/if.h>
    #endif
    #ifdef HAVE_NETINET_IN_H
    # include <netinet/in.h>
    #endif
    #ifdef HAVE_NET_IF_VAR_H
    # include <net/if_var.h>
    #endif
    #ifdef HAVE_NETINET_IN_SYSTM_H
    # include <netinet/in_systm.h>
    #endif
])

# HMS: Do we need to check for -lsocket before or after these tests?
HMS_SEARCH_LIBS([LDADD_LIBNTP], [inet_pton], [nsl])
HMS_SEARCH_LIBS([LDADD_LIBNTP], [inet_ntop], [resolv], , , [-lnsl])

# [Bug 1628] On Solaris, we need -lxnet -lsocket.  Generalize this to
# avoid keying on the OS name:  If we find socket functions in
# libsocket, next try for them in libxnet without libsocket, if found,
# list both.  If we simply tested libxnet first, we would find the
# functions there and never add libsocket.  See also [Bug 660]
# http://bugs.ntp.org/show_bug.cgi?id=660#c9
saved_LIBS=$LIBS
HMS_SEARCH_LIBS([LDADD_LIBNTP], [setsockopt], [socket])
case "$ac_cv_search_setsockopt" in
 -lsocket)
    LIBS="$saved_LIBS"
    HMS_SEARCH_LIBS([LDADD_LIBNTP], [getsockopt], [xnet])
    # XXX Possible trouble here - reading the comments above and looking at the
    # code below I wonder if we'll add -lxnet when we don't need it.
    # Also, do we need to add -lxnet to LDADD_LIBNTP, or perhaps see if it's
    # there when it is not needed?
    case "$ac_cv_search_getsockopt" in
     -lxnet)
	LIBS="-lxnet -lsocket $saved_LIBS"
	;;
     *) LIBS="-lsocket $saved_LIBS"
	;;
    esac
    ;;
esac
AS_UNSET([saved_LIBS])

# Bug 2427 - look for recvmsg here.
AC_CHECK_FUNCS([recvmsg])

AC_C_INLINE

case "$ac_cv_c_inline" in
 '')
    ;;
 *)
    AC_DEFINE([HAVE_INLINE], [1], [inline keyword or macro available])
    AC_SUBST([HAVE_INLINE])
esac

AC_HEADER_TIME
AC_CHECK_SIZEOF([time_t])
AC_C_CHAR_UNSIGNED		dnl CROSS_COMPILE?
AC_CHECK_SIZEOF([signed char])
AC_CHECK_TYPES([s_char, long long])
AC_CHECK_SIZEOF([short])
AC_CHECK_SIZEOF([int])
AC_CHECK_SIZEOF([long])

case "$ac_cv_type_long_long" in
 no)
    ;;
 *)
    AC_CHECK_SIZEOF([long long])
    ;;
esac

case "$ac_cv_c_char_unsigned$ac_cv_sizeof_signed_char$ac_cv_type_s_char" in
 *yes)
    # We have a typedef for s_char.  Might as well believe it...
    ;;
 no0no)
    # We have signed chars, can't say 'signed char', no s_char typedef.
    AC_DEFINE([NEED_S_CHAR_TYPEDEF], [1],
	[Do we need an s_char typedef?])
    ;;
 no1no)
    # We have signed chars, can say 'signed char', no s_char typedef.
    AC_DEFINE([NEED_S_CHAR_TYPEDEF], [1],
	[Do we need an s_char typedef?])
    ;;
 yes0no)
    # We have unsigned chars, can't say 'signed char', no s_char typedef.
    AC_MSG_ERROR([No way to specify a signed character!])
    ;;
 yes1no)
    # We have unsigned chars, can say 'signed char', no s_char typedef.
    AC_DEFINE([NEED_S_CHAR_TYPEDEF], [1],
	[Do we need an s_char typedef?])
    ;;
esac

AC_TYPE_UID_T

m4_divert_text([HELP_ENABLE],
[AS_HELP_STRING([defaults:],
    [+ yes, - no, s system-specific])])

NTP_DEBUG

# check if we can compile with pthreads
AC_CHECK_HEADERS([semaphore.h])
AC_CHECK_FUNCS([socketpair])
AC_ARG_ENABLE(
    [thread-support],
    [AS_HELP_STRING([--enable-thread-support],
		    [s use threads (+ if available)])],
    [],
    [enable_thread_support=yes]
    )
have_pthreads=no
case "$enable_thread_support" in
 no) ;;
 *)
    ol_found_pthreads=no
    OL_THREAD_CHECK([ol_found_pthreads=yes])
    case "$ol_found_pthreads" in
     yes)
	saved_LIBS="$LIBS"
	LIBS="$LTHREAD_LIBS $LIBS"
	saved_CFLAGS="$CFLAGS"
	CFLAGS="$PTHREAD_CFLAGS $CFLAGS"
	AC_CHECK_FUNCS([sem_timedwait])
	LIBS="$saved_LIBS"
	AS_UNSET([saved_LIBS])
	CFLAGS="$saved_CFLAGS"
	AS_UNSET([saved_CFLAGS])
	case "$ac_cv_func_sem_timedwait" in
	 yes)
	    PTHREAD_LIBS="$LTHREAD_LIBS"
	    have_pthreads=yes
	esac
    esac
esac
AC_SUBST([PTHREAD_LIBS])
case "$have_pthreads" in
 yes)
    CFLAGS_NTP="$CFLAGS_NTP $PTHREAD_CFLAGS"
    saved_LIBS="$LIBS"
    LIBS="$LTHREAD_LIBS $LIBS"
    saved_CFLAGS="$CFLAGS"
    CFLAGS="$PTHREAD_CFLAGS $CFLAGS"
    AC_CHECK_SIZEOF(
	[pthread_t],
	,
	[
	    AC_INCLUDES_DEFAULT()
	    #include <pthread.h>
	]
    )
    LIBISC_PTHREADS_NOTHREADS=pthreads
    AC_DEFINE([ISC_PLATFORM_USETHREADS], [1],
	      [enable libisc thread support?])
    #
    # We'd like to use sigwait() too
    #
    AC_CHECK_FUNC(
	[sigwait],
	[have_sigwait=yes],
	[AC_CHECK_LIB(
	    [c],
	    [sigwait],
	    [have_sigwait=yes],
	    [AC_CHECK_LIB(
		[pthread],
		[sigwait],
		[have_sigwait=yes],
		[AC_CHECK_LIB(
		    [pthread],
		    [_Psigwait],
		    [have_sigwait=yes],
		    [have_sigwait=no]
		)]
	    )]
	)]
    )
    case "$host:$have_sigwait" in
     *-freebsd*:no)
	AC_CHECK_LIB(
	    [c_r],
	    [sigwait],
	    [have_sigwait=yes]
	)
    esac
    case "$have_sigwait" in
     yes)
	ac_cv_func_sigwait=yes
	AC_DEFINE([HAVE_SIGWAIT], [1], [sigwait() available?])
    esac

    AC_CHECK_FUNCS([pthread_attr_getstacksize])
    AC_CHECK_FUNCS([pthread_attr_setstacksize sysconf])

    case "$host" in
     *-freebsd5.[[012]]|*-freebsd5.[[012]].*)
	;;
     *-freebsd5.[[3456789]]|*-freebsd5.[[3456789]].*|*-freebsd6.*)
	AC_DEFINE([NEED_PTHREAD_SCOPE_SYSTEM], [1],
		  [use PTHREAD_SCOPE_SYSTEM?])
	;;
     *-bsdi3.*|*-bsdi4.0*)
	AC_DEFINE([NEED_PTHREAD_INIT], [1], [pthread_init() required?])
	;;
     *-linux*)
	AC_DEFINE([HAVE_LINUXTHREADS], [1], [using Linux pthread?])
	;;
     *-solaris*)
	AC_DEFINE([_POSIX_PTHREAD_SEMANTICS], [1])
	AC_CHECK_FUNCS([pthread_setconcurrency])
	case "$ac_cv_func_pthread_setconcurrency" in
	 yes)
	    AC_DEFINE([CALL_PTHREAD_SETCONCURRENCY], [1],
		      [why not HAVE_P_S?])
	esac
	;;
     *-sco-sysv*uw*|*-*-sysv*UnixWare*|*-*-sysv*OpenUNIX*)
	AC_DEFINE([HAVE_UNIXWARE_SIGWAIT], [1], [deviant sigwait?])
	;;
    esac
    hack_shutup_pthreadonceinit=no
    case "$host" in
     *-aix5.[[123]].*)
	hack_shutup_pthreadonceinit=yes
	;;
     *-solaris2.[[89]])
	hack_shutup_pthreadonceinit=yes
	;;
     *-solaris2.1[[0-9]])
	AC_CACHE_CHECK(
	    [if extra braces are needed for PTHREAD_ONCE_INIT],
	    [ntp_cv_braces_around_pthread_once_init],
	    [AC_COMPILE_IFELSE(
		[AC_LANG_PROGRAM(
		    [[
			#include <pthread.h>
		    ]],
		    [[
		        static pthread_once_t once_test =
						PTHREAD_ONCE_INIT;
		    ]]
		)],
		[ntp_cv_braces_around_pthread_once_init=no],
		[ntp_cv_braces_around_pthread_once_init=yes]
	    )]
	)
	case "$ntp_cv_braces_around_pthread_once_init" in
	 yes)
	    hack_shutup_pthreadonceinit=yes
	esac
	;;
    esac
    case "$hack_shutup_pthreadonceinit" in
     yes)
	AC_DEFINE([ISC_PLATFORM_BRACEPTHREADONCEINIT], [1],
		  [Enclose PTHREAD_ONCE_INIT in extra braces?])
    esac
    LIBS="$saved_LIBS"
    AS_UNSET([saved_LIBS])
    CFLAGS="$saved_CFLAGS"
    AS_UNSET([saved_CFLAGS])
    ;;
 *)
    LIBISC_PTHREADS_NOTHREADS=nothreads
    ;;
esac
AC_SUBST([LIBISC_PTHREADS_NOTHREADS])
AM_CONDITIONAL([PTHREADS], [test "$have_pthreads" != "no"])

AC_DEFUN([NTP_BEFORE_HW_FUNC_VSNPRINTF], [
    AC_BEFORE([$0], [HW_FUNC_VSNPRINTF])dnl
    AC_BEFORE([$0], [HW_FUNC_SNPRINTF])dnl
    AC_ARG_ENABLE(
	[c99-snprintf],
	[AS_HELP_STRING([--enable-c99-snprintf], [s force replacement])],
	[force_c99_snprintf=$enableval],
	[force_c99_snprintf=no]
	)
    case "$force_c99_snprintf" in
     yes)
	hw_force_rpl_snprintf=yes
	hw_force_rpl_vsnprintf=yes
    esac
    AH_VERBATIM(
	[snprinte],dnl	sorted in config.h just before #define snprintf
	[
	    #if !defined(_KERNEL) && !defined(PARSESTREAM)
	    /*
	     * stdio.h must be included after _GNU_SOURCE is defined
	     * but before #define snprintf rpl_snprintf
	     */
	    # include <stdio.h>	
	    #endif
	])
    AH_BOTTOM([
	#if !defined(_KERNEL) && !defined(PARSESTREAM)
	# if defined(HW_WANT_RPL_VSNPRINTF)
	#  if defined(__cplusplus)
	extern "C" {
	# endif
	# include <stdarg.h>
	int rpl_vsnprintf(char *, size_t, const char *, va_list);
	# if defined(__cplusplus)
	}
	#  endif
	# endif
	# if defined(HW_WANT_RPL_SNPRINTF)
	#  if defined(__cplusplus)
	extern "C" {
	#  endif
	int rpl_snprintf(char *, size_t, const char *, ...);
	#  if defined(__cplusplus)
	}
	#  endif
	# endif
	#endif	/* !defined(_KERNEL) && !defined(PARSESTREAM) */
	])
]) dnl end of AC_DEFUN of NTP_BEFORE_HW_FUNC_VSNPRINTF

AC_DEFUN([NTP_C99_SNPRINTF], [
    AC_REQUIRE([NTP_BEFORE_HW_FUNC_VSNPRINTF])dnl
    AC_REQUIRE([HW_FUNC_VSNPRINTF])dnl
    AC_REQUIRE([HW_FUNC_SNPRINTF])dnl
]) dnl end of DEFUN of NTP_C99_SNPRINTF

NTP_C99_SNPRINTF

dnl C99-snprintf does not handle %m
case "$hw_use_rpl_vsnprintf:$hw_cv_func_vsnprintf" in
 no:yes)
    AC_CACHE_CHECK(
	[if vsnprintf expands "%m" to strerror(errno)],
	[ntp_cv_vsnprintf_percent_m],
	[AC_RUN_IFELSE(
	    [AC_LANG_PROGRAM(
		[[
		    #include <stdarg.h>
		    #include <errno.h>
		    #include <stdio.h>
		    #include <string.h>

		    int call_vsnprintf(
			    char *	dst,
			    size_t	sz,
			    const char *fmt,
			    ...
			    );

		    int call_vsnprintf(
			    char *	dst,
			    size_t	sz,
			    const char *fmt,
			    ...
			    )
		    {
			    va_list	ap;
			    int		rc;

			    va_start(ap, fmt);
			    rc = vsnprintf(dst, sz, fmt, ap);
			    va_end(ap);

			    return rc;
		    }
		]],
		[[
		    char	sbuf[512];
		    char	pbuf[512];
		    int		slen;

		    strcpy(sbuf, strerror(ENOENT));
		    errno = ENOENT;
		    slen = call_vsnprintf(pbuf, sizeof(pbuf), "%m",
					  "wrong");
		    return strcmp(sbuf, pbuf);
		]]
	    )],
	    [ntp_cv_vsnprintf_percent_m=yes],
	    [ntp_cv_vsnprintf_percent_m=no],
	    [ntp_cv_vsnprintf_percent_m=no]
	)]
    )
    case "$ntp_cv_vsnprintf_percent_m" in
     yes)
	AC_DEFINE([VSNPRINTF_PERCENT_M], [1],
		  [vsnprintf expands "%m" to strerror(errno)])
    esac
esac

AC_CHECK_HEADERS([sys/clockctl.h])

AC_ARG_ENABLE(
    [clockctl],
    [AS_HELP_STRING(
	[--enable-clockctl],
	[s Use /dev/clockctl for non-root clock control]
    )],
    [ntp_use_dev_clockctl=$enableval],
    [ntp_use_dev_clockctl=$ac_cv_header_sys_clockctl_h]
)

AC_MSG_CHECKING([if we should use /dev/clockctl])
AC_MSG_RESULT([$ntp_use_dev_clockctl])


AC_CHECK_HEADERS([sys/capability.h sys/prctl.h])

AC_MSG_CHECKING([if we have linux capabilities (libcap)])

case "$ac_cv_header_sys_capability_h$ac_cv_header_sys_prctl_h" in
 yesyes)
    case "$host" in
     mips-sgi-irix*)
	ntp_have_linuxcaps=no
	;;
     *) ntp_have_linuxcaps=yes
	;;
    esac
    ;;
 *)
    ntp_have_linuxcaps=no
    ;;
esac

AC_ARG_ENABLE(
    [linuxcaps],
    [AS_HELP_STRING(
	[--enable-linuxcaps],
	[+ Use Linux capabilities for non-root clock control]
    )],
    [ntp_have_linuxcaps=$enableval]
)

AC_MSG_RESULT([$ntp_have_linuxcaps])

case "$ntp_have_linuxcaps" in
 yes)
    AC_DEFINE([HAVE_LINUX_CAPABILITIES], [1],
	[Do we have Linux capabilities?])
    LIBS="$LIBS -lcap"
    ;;
esac


AC_CHECK_HEADERS([priv.h])

AC_MSG_CHECKING([if we have solaris privileges])

case "$ac_cv_header_priv_h" in
 yes)
    case "$host" in 
     *-solaris*)
	AC_CHECK_FUNC(
    	    [setppriv],
    	    [ntp_have_solarisprivs=yes],
    	    [ntp_have_solarisprivs=no]
	)
	;;
    esac
esac

AC_ARG_ENABLE(
    [solarisprivs],
    [AS_HELP_STRING(
	[--enable-solarisprivs],
	[+ Use Solaris privileges for non-root clock control]
    )],
    [ntp_have_solarisprivs=$enableval]
)


case "$ntp_have_solarisprivs" in
 yes)
    AC_DEFINE([HAVE_SOLARIS_PRIVS], [1],
	[Are Solaris privileges available?])
esac

AC_MSG_RESULT([$ntp_have_solarisprivs])

case "$ntp_use_dev_clockctl$ntp_have_linuxcaps$ntp_have_solarisprivs" in
 *yes*)
    AC_DEFINE([HAVE_DROPROOT], [1],
	[Can we drop root privileges?])
esac

case "$host" in
 *-*-darwin*)
    AC_SEARCH_LIBS([res_9_init], [resolv])
    ;;
 *) AC_SEARCH_LIBS([res_init], [resolv])
    ;;
esac
AC_HEADER_RESOLV
#HMS: Why do we do this check so "early"?
AC_CHECK_FUNCS([res_init], , [AC_CHECK_FUNCS([__res_init])])

# We also need -lsocket, but we have tested for that already.
AC_CHECK_FUNC([inet_ntop], [], 
    [AC_DEFINE([ISC_PLATFORM_NEEDNTOP], [1], [ISC: provide inet_ntop()])])
AC_CHECK_FUNC([inet_pton], [],
    [AC_DEFINE([ISC_PLATFORM_NEEDPTON], [1], [ISC: provide inet_pton()])])

AC_CHECK_TYPES([uintptr_t, int32, u_int32])
 
AH_VERBATIM([TYPEDEF_UINTPTR_T],
[/* Provide a typedef for uintptr_t? */
#ifndef HAVE_UINTPTR_T
typedef unsigned int	uintptr_t;
#define HAVE_UINTPTR_T	1
#endif])

case "$ac_cv_type_int32::$ac_cv_header_resolv_h" in
 no::yes)
    AC_CACHE_CHECK(
	[for int32 with DNS headers included],
	[ntp_cv_type_int32_with_dns],
	[AC_COMPILE_IFELSE(
	    [AC_LANG_PROGRAM(
		[[
		    #ifdef HAVE_ARPA_NAMESER_H
		    # include <arpa/nameser.h>
		    #endif
		    #include <resolv.h>
		]],
		[[
		    size_t cb = sizeof(int32);
		]]
	    )],
	    [ntp_cv_type_int32_with_dns=yes],
	    [ntp_cv_type_int32_with_dns=no]
	)]
    )
    case "$ntp_cv_type_int32_with_dns" in
     yes)
	AC_DEFINE([HAVE_INT32_ONLY_WITH_DNS], [1],
	    [int32 type in DNS headers, not others.])
    esac
esac

case "$ac_cv_type_u_int32::$ac_cv_header_resolv_h" in
 no::yes)
    AC_CACHE_CHECK(
	[for u_int32 with DNS headers included],
	[ntp_cv_type_u_int32_with_dns],
	[AC_COMPILE_IFELSE(
	    [AC_LANG_PROGRAM(
		[[
		    #ifdef HAVE_ARPA_NAMESER_H
		    # include <arpa/nameser.h>
		    #endif
		    #include <resolv.h>
		]],
		[[
		    size_t cb = sizeof(u_int32);
		]]
	    )],
	    [ntp_cv_type_u_int32_with_dns=yes],
	    [ntp_cv_type_u_int32_with_dns=no]
	)]
    )
    case "$ntp_cv_type_u_int32_with_dns" in
     yes)
	AC_DEFINE([HAVE_U_INT32_ONLY_WITH_DNS], [1],
	    [u_int32 type in DNS headers, not others.])
    esac
esac

AC_CHECK_HEADERS(
    [sys/timepps.h],
    [],
    [],
    [
	#ifdef HAVE_SYS_TIME_H
	# include <sys/time.h>
	#endif
	#ifdef HAVE_ERRNO_H
	# include <errno.h>
	#endif
    ]
)

AC_CACHE_CHECK(
    [for struct timespec],
    [ntp_cv_struct_timespec],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
		#include <sys/time.h>
		/* Under SunOS, timespec is in sys/timepps.h,
		   which needs errno.h and FRAC */
		#ifdef HAVE_ERRNO_H
		# include <errno.h>
		#endif
		#ifdef HAVE_SYS_TIMEPPS_H
		# define FRAC 4294967296
		# include <sys/timepps.h>
		#endif
	    ]],
	    [[
		struct timespec n;
	    ]]
	)],
	[ntp_cv_struct_timespec=yes],
	[ntp_cv_struct_timespec=no]
    )]
)
case "$ntp_cv_struct_timespec" in
 yes)
    AC_DEFINE([HAVE_STRUCT_TIMESPEC], [1], [struct timespec declared?])
esac

AC_CACHE_CHECK(
    [for struct ntptimeval],
    [ntp_cv_struct_ntptimeval],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
		#include <sys/time.h>
		#include <sys/timex.h>
	    ]],
	    [[
		struct ntptimeval n;
	    ]]
	)],
	[ntp_cv_struct_ntptimeval=yes],
	[ntp_cv_struct_ntptimeval=no]
    )]
)
case "$ntp_cv_struct_ntptimeval" in
 yes)
    AC_DEFINE([HAVE_STRUCT_NTPTIMEVAL], [1],
	[Do we have struct ntptimeval?])
esac

AC_CHECK_HEADERS(
    [md5.h],
    [],
    [],
    [
	#ifdef HAVE_SYS_TYPES_H
	# include <sys/types.h>
	#endif
    ]
)

AC_SEARCH_LIBS([MD5Init], [md5 md])
AC_CHECK_FUNCS([MD5Init sysconf getdtablesize sigaction sigset sigvec])

AC_CACHE_CHECK(
    [for SIGIO],
    [ntp_cv_hdr_def_sigio],
    [AC_PREPROC_IFELSE(
	[AC_LANG_SOURCE([
	    #include <signal.h>

	    #ifndef SIGIO
	    # error
	    #endif
	])],
	[ntp_cv_hdr_def_sigio=yes],
	[ntp_cv_hdr_def_sigio=no]
    )]
 )

dnl Override those system that have a losing SIGIO
AC_MSG_CHECKING([if we want to use SIGIO])
ans=no
case "$ntp_cv_hdr_def_sigio" in
 yes)
    ans=yes
    case "$host" in
     alpha*-dec-osf4*|alpha*-dec-osf5*)
	ans=no
	;;
     *-convex-*)
	ans=no
	;;
     *-dec-*)
	ans=no
	;;
     *-pc-cygwin*)
	ans=no
	;;
     *-sni-sysv*)
	ans=no
	;;
     *-stratus-vos)
	ans=no
	;;
     *-univel-sysv*)
	ans=no
	;;
     *-*-irix6*)
	ans=no
	;;
     *-*-freebsd*)
	ans=no
	;;
     *-*-*linux*)
	ans=no
	;;
     *-*-unicosmp*)
	ans=no
	;;
     *-*-kfreebsd*)
	ans=no
	;;
     m68k-*-mint*)
	ans=no
	;;
    esac
    ;;
esac
case "$ans" in
 yes)
    AC_DEFINE([HAVE_SIGNALED_IO], [1],
	[Can we use SIGIO for tcp and udp IO?])
esac
AC_MSG_RESULT([$ans])

AC_CACHE_CHECK(
    [for SIGPOLL],
    [ntp_cv_hdr_def_sigpoll],
    [AC_PREPROC_IFELSE(
	[AC_LANG_SOURCE([
	    #include <signal.h>
	    
	    #ifndef SIGPOLL
	    # error
	    #endif
	])],
	[ntp_cv_hdr_def_sigpoll=yes],
	[ntp_cv_hdr_def_sigpoll=no]
    )]
)

AC_MSG_CHECKING([if we can use SIGPOLL for UDP I/O])
ans=no
case "$ntp_cv_hdr_def_sigpoll" in
 yes)
    case "$host" in
     mips-sgi-irix*)
	ans=no
	;;
     vax-dec-bsd)
	ans=no
	;;
     *-pc-cygwin*)
	ans=no
	;;
     *-sni-sysv*)
	ans=no
	;;
     *-stratus-vos)
	ans=no
	;;
     *-*-aix[[4-9]]*)
	# XXX Only verified thru AIX6
	ans=no
	;;
     *-*-hpux*)
	ans=no
	;;
     *-*-*linux*)
	ans=no
	;;
     *-*-osf*)
	ans=no
	;;
     *-*-qnx*)
	ans=no
	;;
     *-*-sunos*)
	ans=no
	;;
     *-*-solaris*)
	ans=no
	;;
     *-*-ultrix*)
	ans=no
	;;
     *-*-unicosmp*)
	ans=no
	;;
     *-*-kfreebsd*)
	ans=no
	;;
     *) ans=yes
	;;
    esac
    ;;
esac
case "$ans" in
 yes)
    AC_DEFINE([USE_UDP_SIGPOLL], [1], [Can we use SIGPOLL for UDP?])
esac
AC_MSG_RESULT([$ans])

AC_MSG_CHECKING([if we can use SIGPOLL for TTY I/O])
ans=no
case "$ntp_cv_hdr_def_sigpoll" in
 yes)
    case "$host" in
     mips-sgi-irix*)
	ans=no
	;;
     vax-dec-bsd)
	ans=no
	;;
     *-pc-cygwin*)
	ans=no
	;;
     *-sni-sysv*)
	ans=no
	;;
     *-stratus-vos)
	ans=no
	;;
     *-*-aix[[4-9]]*)
	# XXX Only verified thru AIX6
	ans=no
	;;
     *-*-hpux*)
	ans=no
	;;
     *-*-*linux*)
	ans=no
	;;
     *-*-osf*)
	ans=no
	;;
     *-*-sunos*)
	ans=no
	;;
     *-*-ultrix*)
	ans=no
	;;
     *-*-qnx*)
	ans=no
	;;
     *-*-unicosmp*)
	ans=no
	;;
     *-*-kfreebsd*)
	ans=no
	;;
     *) ans=yes
	;;
    esac
    ;;
esac
case "$ans" in
 yes)
    AC_DEFINE([USE_TTY_SIGPOLL], [1], [Can we use SIGPOLL for tty IO?])
esac
AC_MSG_RESULT([$ans])

AC_CACHE_CHECK(
    [number of arguments to gettimeofday()],
    [ntp_cv_func_Xettimeofday_nargs],
    [AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
		#include <sys/time.h>
	    ]],
	    [[
		gettimeofday(0, 0);
		settimeofday(0, 0);
	    ]]
	)],
	[ntp_cv_func_Xettimeofday_nargs=2],
	[ntp_cv_func_Xettimeofday_nargs=1]
    )]
)
case "$ntp_cv_func_Xettimeofday_nargs" in
 1)
    AC_DEFINE([SYSV_TIMEOFDAY], [1], [Does Xettimeofday take 1 arg?])
esac

AC_CHECK_FUNCS([settimeofday], ,[
    case "$host" in
     *-*-mpeix*) ac_cv_func_settimeofday=yes
    esac
])

AC_MSG_CHECKING([if we'll use clock_settime or settimeofday or stime])
ntp_warning='GRONK'
ans=none
case "$ac_cv_func_clock_settime$ac_cv_func_settimeofday$ac_cv_func_stime" in
 yes*)
    ntp_warning=''
    ans='clock_settime()'
    ;;
 noyes*)
    ntp_warning='But clock_settime() would be better (if we had it)'
    ans='settimeofday()'
    ;;
 nonoyes)
    ntp_warning='Which is the worst of the three'
    ans='stime()'
    ;;
 *) 
    case "$build" in
     $host) 
	ntp_warning='Which leaves us with nothing to use!'
    esac
esac
AC_MSG_RESULT([$ans])
case "$ntp_warning" in
 '')
    ;;
 *)
    AC_MSG_WARN([*** $ntp_warning ***])
    ;;
esac


dnl add to LDADD_LIBNTP set by ntp_compiler.m4
LDADD_LIBNTP="$LDADD_LIBNTP $LIBS"
LIBS=$__LIBS
AS_UNSET([__LIBS])

])
m4trace:m4/ntp_lineeditlibs.m4:1: -1- AC_DEFUN([NTP_LINEEDITLIBS], [
    NTP_ORIG_LIBS="$LIBS"
    AC_ARG_WITH(
	[lineeditlibs],
	[AS_HELP_STRING(
	    [--with-lineeditlibs],
	    [edit,editline (readline may be specified if desired)]
	)],
	[use_lineeditlibs="$withval"],
	[use_lineeditlibs="edit,editline"]
    )
    AC_MSG_CHECKING([line editing libraries])
    AC_MSG_RESULT([$use_lineeditlibs])
    case "$use_lineeditlibs" in
     no) 
	ntp_lib_lineedit=no
	;;
     *)
	for lineedit_lib in `echo $use_lineeditlibs | sed -e 's/,/ /'`; do
	    for term_lib in "" termcap curses ncurses; do
		case "$term_lib" in
		 '') 
		    TRY_LIB="-l$lineedit_lib"
		    ;;
		 *)
		    TRY_LIB="-l$lineedit_lib -l$term_lib"
		    ;;
		esac
		LIBS="$NTP_ORIG_LIBS $TRY_LIB"
		AC_MSG_CHECKING([for readline() with $TRY_LIB])
		AC_TRY_LINK_FUNC([readline], [ntp_lib_lineedit="$TRY_LIB"])
		case "$ntp_lib_lineedit" in
		 '')
		    AC_MSG_RESULT([no])
		    ;;
		 *) 
		    # Use readline()
		    AC_MSG_RESULT([yes])
		    break
		esac
		case "$term_lib" in
		 '')
		    # do not try el_gets without a terminal library
		    ;;
		 *)
		    AC_MSG_CHECKING([for el_gets() with $TRY_LIB])
		    AC_TRY_LINK_FUNC([el_gets], [ntp_lib_lineedit="$TRY_LIB"])
		    case "$ntp_lib_lineedit" in
		     '')
			AC_MSG_RESULT([no])
			;;
		     *) # Use el_gets()
			AC_MSG_RESULT([yes])
			break
			;;
		    esac	# $ntp_lib_lineedit
		esac		# $term_lib
	    done
	    case "$ntp_lib_lineedit" in
	     '')
		;;
	     *)
		break
		;;
	    esac
	done
	LIBS="$NTP_ORIG_LIBS"
	;;
    esac	# $use_lineeditlibs

    case "$ntp_lib_lineedit" in
     '')
	ntp_lib_lineedit="no"
	;;
     no)
	;;
     *)
	EDITLINE_LIBS="$ntp_lib_lineedit"
	AC_SUBST([EDITLINE_LIBS])
	;;
    esac	# $ntp_lib_lineedit

    case "$ntp_lib_lineedit" in
     no)
	;;
     *)
	AC_CHECK_HEADERS([readline.h readline/readline.h histedit.h])
	AC_CHECK_HEADERS([history.h readline/history.h])

	case "$ac_cv_header_histedit_h" in
	 yes)
	    AC_CACHE_CHECK(
		[number of arguments to el_init()],
		[ntp_cv_el_init_args],
		[AC_COMPILE_IFELSE(
		    [AC_LANG_PROGRAM(
			[[
			    #include <stdio.h>
			    #include <histedit.h>
			]],
			[[
			    el_init("conftest", stdin, stdout, stderr);
			]]
		    )],
		    [ntp_cv_el_init_args=4],
		    [ntp_cv_el_init_args=3]
		)]
	    )
	    AC_DEFINE_UNQUOTED(
		[EL_INIT_ARGS], 
		[$ntp_cv_el_init_args],
		[number of args to el_init()]
		)
	esac
	
	AC_MSG_CHECKING([whether readline supports history])
	
	ntp_lib_lineedit_history="no"
	ORIG_LIBS="$LIBS"
	LIBS="$ORIG_LIBS $ntp_lib_lineedit"
	AC_TRY_LINK_FUNC([add_history], [ntp_lib_lineedit_history="yes"])
	LIBS="$ORIG_LIBS"

	AC_MSG_RESULT([$ntp_lib_lineedit_history])

	case "$ntp_lib_lineedit_history" in
	 yes)
	    AC_DEFINE([HAVE_READLINE_HISTORY], [1],
		[Define if your readline library has \`add_history'])
	esac
    esac	# $ntp_lib_lineedit
    AS_UNSET([NTP_ORIG_LIBS])
    AS_UNSET([ORIG_LIBS])
    AS_UNSET([TRY_LIB])
    AS_UNSET([use_lineeditlibs])
])
m4trace:m4/ntp_locinfo.m4:9: -1- AC_DEFUN([NTP_LOCINFO], [

AC_MSG_CHECKING([for install dir and man conventions])

AC_ARG_WITH(
    [locfile],
    [AS_HELP_STRING(
	[--with-locfile=XXX],
	[os-specific or "legacy"]
    )],
    [],
    [with_locfile=no]
)

(									\
    SENTINEL_DIR="$PWD" &&						\
    cd $srcdir/$1 &&							\
    case "$with_locfile" in						\
     yes|no|'')								\
	scripts/genLocInfo -d "$SENTINEL_DIR"				\
	;;								\
     *)									\
	scripts/genLocInfo -d "$SENTINEL_DIR" -f "$with_locfile"	\
	;;								\
    esac								\
) > genLocInfo.i 2> genLocInfo.err
. ./genLocInfo.i

case "$GENLOCINFO" in
 OK)
    AC_MSG_RESULT([in file $GENLOCINFOFILE])
    rm genLocInfo.err genLocInfo.i
    ;;
 *)
    AC_MSG_RESULT([failed.])
    AC_MSG_ERROR([Problem with genLocInfo!])
    ;;
esac

AM_CONDITIONAL([WANT_CALC_TICKADJ_MS], [test "$CALC_TICKADJ_MS" ])

AC_SUBST([CALC_TICKADJ_DB])
AC_SUBST([CALC_TICKADJ_DL])
AC_SUBST([CALC_TICKADJ_DS])
AC_SUBST([CALC_TICKADJ_MS])
AC_SUBST([CALC_TICKADJ_NI])
AC_SUBST([MANTAGFMT])
AC_SUBST([NTPDATE_DB])
AC_SUBST([NTPDATE_DL])
AC_SUBST([NTPDATE_DS])
AC_SUBST([NTPDATE_MS])
AC_SUBST([NTPDATE_NI])
AC_SUBST([NTPDC_DB])
AC_SUBST([NTPDC_DL])
AC_SUBST([NTPDC_DS])
AC_SUBST([NTPDC_MS])
AC_SUBST([NTPDC_NI])
AC_SUBST([NTPDSIM_DB])
AC_SUBST([NTPDSIM_DL])
AC_SUBST([NTPDSIM_DS])
AC_SUBST([NTPDSIM_MS])
AC_SUBST([NTPDSIM_NI])
AC_SUBST([NTPD_DB])
AC_SUBST([NTPD_DL])
AC_SUBST([NTPD_DS])
AC_SUBST([NTPD_MS])
AC_SUBST([NTPD_NI])
AC_SUBST([NTPQ_DB])
AC_SUBST([NTPQ_DL])
AC_SUBST([NTPQ_DS])
AC_SUBST([NTPQ_MS])
AC_SUBST([NTPQ_NI])
AC_SUBST([NTPSNMPD_DB])
AC_SUBST([NTPSNMPD_DL])
AC_SUBST([NTPSNMPD_DS])
AC_SUBST([NTPSNMPD_MS])
AC_SUBST([NTPSNMPD_NI])
AC_SUBST([NTPSWEEP_DB])
AC_SUBST([NTPSWEEP_DL])
AC_SUBST([NTPSWEEP_DS])
AC_SUBST([NTPSWEEP_MS])
AC_SUBST([NTPSWEEP_NI])
AM_CONDITIONAL([INSTALL_NTPSWEEP], [test -z "$NTPSWEEP_NI" ])
AC_SUBST([NTPTIME_DB])
AC_SUBST([NTPTIME_DL])
AC_SUBST([NTPTIME_DS])
AC_SUBST([NTPTIME_MS])
AC_SUBST([NTPTIME_NI])
AC_SUBST([NTPTRACE_DB])
AC_SUBST([NTPTRACE_DL])
AC_SUBST([NTPTRACE_DS])
AC_SUBST([NTPTRACE_MS])
AC_SUBST([NTPTRACE_NI])
AC_SUBST([NTP_KEYGEN_DB])
AC_SUBST([NTP_KEYGEN_DL])
AC_SUBST([NTP_KEYGEN_DS])
AC_SUBST([NTP_KEYGEN_MS])
AC_SUBST([NTP_KEYGEN_NI])
AC_SUBST([NTP_WAIT_DB])
AC_SUBST([NTP_WAIT_DL])
AC_SUBST([NTP_WAIT_DS])
AC_SUBST([NTP_WAIT_MS])
AC_SUBST([NTP_WAIT_NI])
AC_SUBST([SNTP_DB])
AC_SUBST([SNTP_DL])
AC_SUBST([SNTP_DS])
AC_SUBST([SNTP_MS])
AC_SUBST([SNTP_NI])
AC_SUBST([TICKADJ_DB])
AC_SUBST([TICKADJ_DL])
AC_SUBST([TICKADJ_DS])
AC_SUBST([TICKADJ_MS])
AC_SUBST([TICKADJ_NI])
AC_SUBST([TIMETRIM_DB])
AC_SUBST([TIMETRIM_DL])
AC_SUBST([TIMETRIM_DS])
AC_SUBST([TIMETRIM_MS])
AC_SUBST([TIMETRIM_NI])
AC_SUBST([UPDATE_LEAP_DB])
AC_SUBST([UPDATE_LEAP_DL])
AC_SUBST([UPDATE_LEAP_DS])
AC_SUBST([UPDATE_LEAP_MS])
AC_SUBST([UPDATE_LEAP_NI])
AM_CONDITIONAL([INSTALL_UPDATE_LEAP], [test -z "$UPDATE_LEAP_NI" ])

])
m4trace:m4/ntp_openssl.m4:28: -1- AC_DEFUN([NTP_OPENSSL], [
AC_REQUIRE([NTP_PKG_CONFIG])dnl
AC_REQUIRE([NTP_VER_SUFFIX])dnl

AC_ARG_WITH(
    [crypto],
    [AS_HELP_STRING(
	[--with-crypto],
	[+ =openssl,libcrypto]
    )]
)
AC_ARG_WITH(
    [openssl-libdir],
    [AS_HELP_STRING(
	[--with-openssl-libdir], 
	[+ =/something/reasonable]
    )]
)
AC_ARG_WITH(
    [openssl-incdir],
    [AS_HELP_STRING(
	[--with-openssl-incdir],
	[+ =/something/reasonable]
    )]
)
AC_ARG_WITH(
    [rpath],
    [AS_HELP_STRING(
	[--without-rpath],
	[s Disable auto-added -R linker paths]
    )]
)
ntp_openssl=no
ntp_openssl_from_pkg_config=no
with_crypto=${with_crypto:-openssl,libcrypto}
case "$with_crypto" in
 yes)
    with_crypto=openssl,libcrypto
esac
case "$with_crypto:${PKG_CONFIG:+notempty}:${with_openssl_libdir-notgiven}:${with_openssl_incdir-notgiven}" in
 no:*) ;;
 *:notempty:notgiven:notgiven)
    for pkg in `echo $with_crypto | sed -e 's/,/ /'`; do
	AC_MSG_CHECKING([pkg-config for $pkg])
	if $PKG_CONFIG --exists $pkg ; then
	    CPPFLAGS_NTP="$CPPFLAGS_NTP `$PKG_CONFIG --cflags-only-I $pkg`"
	    CFLAGS_NTP="$CFLAGS_NTP `$PKG_CONFIG --cflags-only-other $pkg`"
	    LDADD_NTP="$LDADD_NTP `$PKG_CONFIG --libs-only-L $pkg`"
	    LDADD_NTP="$LDADD_NTP `$PKG_CONFIG --libs-only-l $pkg`"
	    LDFLAGS_NTP="$LDFLAGS_NTP `$PKG_CONFIG --libs-only-other $pkg`"
	    VER_SUFFIX=o
	    ntp_openssl=yes
	    ntp_openssl_from_pkg_config=yes
	    AC_MSG_RESULT([yes])

	    break
	fi
	AC_MSG_RESULT([no])
    done
esac
case "$with_crypto:$ntp_openssl" in
 no:*) ;;
 *:no)
    need_dash_r=
    need_dash_Wlrpath=
    case "${with_rpath-notgiven}" in
     yes)
	# Lame - what to do if we need -Wl... but not -R?
	need_dash_r=1
	;;
     notgiven)
	case "$host" in
	 *-*-linux*)
	    # This may really only be true for gcc
	    need_dash_Wlrpath=1
	    ;;
	 *-*-netbsd*)
	    need_dash_r=1
	    ;;
	 *-*-solaris*)
	    need_dash_r=1
	    ;;
	esac
	;;
    esac

    AC_MSG_CHECKING([for openssl library directory])
    with_openssl_libdir=${with_openssl_libdir-notgiven}
    case "$with_openssl_libdir" in
     notgiven)
	case "$build" in
	 $host)
	    with_openssl_libdir=default
	    ;;
	 *)
	    with_openssl_libdir=no
	    ;;
	esac
    esac
    case "$with_openssl_libdir" in
     default)
	# Look in:
	with_openssl_libdir="/usr/lib /usr/lib/openssl /usr/sfw/lib"
	with_openssl_libdir="$with_openssl_libdir /usr/local/lib"
	with_openssl_libdir="$with_openssl_libdir /usr/local/ssl/lib /lib"
    esac
    case "$with_openssl_libdir" in
     no)
	;;
     *) # Look for libcrypto.a and libssl.a:
	for i in $with_openssl_libdir no
	do
	    case "$host" in
	     *-*-darwin*)
		test -f $i/libcrypto.dylib -a -f $i/libssl.dylib && break
		;;
	     *)
		test -f $i/libcrypto.so -a -f $i/libssl.so && break
		test -f $i/libcrypto.a -a -f $i/libssl.a && break
		;;
	    esac
	done
	openssl_libdir=$i
	;;
    esac
    AC_MSG_RESULT([$openssl_libdir])
    case "$openssl_libdir" in
     no)
	openssl_libdir=
	AC_MSG_WARN([libcrypto and libssl not found in any of $with_openssl_libdir])
    esac

    AC_MSG_CHECKING([for openssl include directory])
    with_openssl_incdir=${with_openssl_incdir-notgiven}
    case "$with_openssl_incdir" in
     notgiven)
	# Look in:
	with_openssl_incdir="/usr/include /usr/sfw/include"
	with_openssl_incdir="$with_openssl_incdir /usr/local/include"
	with_openssl_incdir="$with_openssl_incdir /usr/local/ssl/include"
    esac
    case "$with_openssl_incdir" in
     no)
	;;
     *) # look for openssl/evp.h:
	for i in $with_openssl_incdir no
	do
	    test -f $i/openssl/evp.h && break
	done
	openssl_incdir=$i
	;;
    esac
    AS_UNSET([i])
    AC_MSG_RESULT([$openssl_incdir])
    case "$openssl_incdir" in
     no)
	openssl_incdir=
	AC_MSG_WARN([did not find openssl/evp.h in any of $with_openssl_incdir])
    esac
    if test -z "$openssl_libdir" -o -z "$openssl_incdir"
    then
	ntp_openssl=no
    else
	ntp_openssl=yes
	VER_SUFFIX=o
    fi
    case "$ntp_openssl" in
     yes)
	# We have OpenSSL inc/lib dirs - use them.
	case "$openssl_incdir" in
	 /usr/include)
	    ;;
	 *)
	    CPPFLAGS_NTP="$CPPFLAGS_NTP -I$openssl_incdir"
	    ;;
	esac
	case "$openssl_libdir" in
	 /usr/lib)
	    ;;
	 *)
	    LDADD_NTP="$LDADD_NTP -L$openssl_libdir"
	    case "$need_dash_r" in
	     1)
		LDFLAGS_NTP="$LDFLAGS_NTP -R$openssl_libdir"
	    esac
	    case "$need_dash_Wlrpath" in
	     1)
		LDFLAGS_NTP="$LDFLAGS_NTP -Wl,-rpath,$openssl_libdir"
	    esac
	    ;;
	esac
	LDADD_NTP="$LDADD_NTP -lcrypto"
    esac
esac

AC_MSG_CHECKING([if we will use crypto])
AC_MSG_RESULT([$ntp_openssl])

case "$ntp_openssl" in
 yes)
    AC_DEFINE([OPENSSL], [], [Use OpenSSL?])
    case "$VER_SUFFIX" in
     *o*) ;;
     *) AC_MSG_ERROR([OPENSSL set but no 'o' in VER_SUFFIX!]) ;;
    esac
    ;;
esac

NTPO_SAVED_CPPFLAGS="$CPPFLAGS"
CPPFLAGS="$CPPFLAGS $CPPFLAGS_NTP"
NTPO_SAVED_LIBS="$LIBS"

#
# check for linking with -lcrypto failure, and try -lcrypto -lz.
# Helps m68k-atari-mint
#
case "$ntp_openssl:$ntp_openssl_from_pkg_config" in
 yes:no)
    LIBS="$NTPO_SAVED_LIBS $LDADD_NTP"
    AC_CACHE_CHECK(
	[if linking with -lcrypto alone works],
	[ntp_cv_bare_lcrypto],
	[AC_LINK_IFELSE(
	    [AC_LANG_PROGRAM(
		[[
		    #include "openssl/err.h"
		    #include "openssl/evp.h"
		]],
		[[
		    ERR_load_crypto_strings();
		    OpenSSL_add_all_algorithms();
		]]
	    )],
	    [ntp_cv_bare_lcrypto=yes],
	    [ntp_cv_bare_lcrypto=no]
	)]
    )
    case "$ntp_cv_bare_lcrypto" in
     no)
	LIBS="$NTPO_SAVED_LIBS $LDADD_NTP -lz"
	AC_CACHE_CHECK(
	    [if linking with -lcrypto -lz works],
	    [ntp_cv_lcrypto_lz],
	    [AC_LINK_IFELSE(
		[AC_LANG_PROGRAM(
		    [[
			#include "openssl/err.h"
			#include "openssl/evp.h"
		    ]],
		    [[
			ERR_load_crypto_strings();
			OpenSSL_add_all_algorithms();
		    ]]
		)],
		[ntp_cv_lcrypto_lz=yes],
		[ntp_cv_lcrypto_lz=no]
	    )]
	)
	case "$ntp_cv_lcrypto_lz" in
	 yes)
	     LDADD_NTP="$LDADD_NTP -lz"
	esac
    esac
esac

#
# Older OpenSSL headers have a number of callback prototypes inside
# other function prototypes which trigger copious warnings with gcc's
# -Wstrict-prototypes, which is included in -Wall.
#
# An example:
#
# int i2d_RSA_NET(const RSA *a, unsigned char **pp, 
#		  int (*cb)(), int sgckey);
#		  ^^^^^^^^^^^
#
# 
#
openssl_triggers_warnings=unknown
NTPO_SAVED_CFLAGS="$CFLAGS"

case "$ntp_openssl:$GCC" in
 yes:yes)
    CFLAGS="$CFLAGS -Werror"
    AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM(
	    [[
	    ]],
	    [[
		/* see if -Werror breaks gcc */
	    ]]
	)],
	[gcc_handles_Werror=yes],
	[gcc_handles_Werror=no]
    )
    case "$gcc_handles_Werror" in
     no)
	# if this gcc doesn't do -Werror go ahead and use
	# -Wstrict-prototypes.
	openssl_triggers_warnings=yes
	;;
     yes)
	CFLAGS="$CFLAGS -Wstrict-prototypes"
	AC_COMPILE_IFELSE(
	    [AC_LANG_PROGRAM(
		[[
		    #include "openssl/asn1_mac.h"
		    #include "openssl/bn.h"
		    #include "openssl/err.h"
		    #include "openssl/evp.h"
		    #include "openssl/pem.h"
		    #include "openssl/rand.h"
		    #include "openssl/x509v3.h"
		]],
		[[
		    /* empty body */
		]]
	    )],
	    [openssl_triggers_warnings=no],
	    [openssl_triggers_warnings=yes]
	)
    esac
    case "$openssl_triggers_warnings" in
     yes)
	CFLAGS_NTP="$CFLAGS_NTP -Wno-strict-prototypes"
	;;
     *)
	CFLAGS_NTP="$CFLAGS_NTP -Wstrict-prototypes"
    esac
    ;;
 no:yes)
    # gcc without OpenSSL
    CFLAGS_NTP="$CFLAGS_NTP -Wstrict-prototypes"
esac

# Because we don't want -Werror for the EVP_MD_do_all_sorted check
CFLAGS="$NTPO_SAVED_CFLAGS"

case "$ntp_openssl" in
 yes)
    LIBS="$NTPO_SAVED_LIBS $LDADD_NTP"
    AC_CHECK_FUNCS([EVP_MD_do_all_sorted])
    ;;
esac

CPPFLAGS="$NTPO_SAVED_CPPFLAGS"
LIBS="$NTPO_SAVED_LIBS"
AS_UNSET([NTPO_SAVED_CFLAGS])
AS_UNSET([NTPO_SAVED_CPPFLAGS])
AS_UNSET([NTPO_SAVED_LIBS])
AS_UNSET([openssl_triggers_warnings])
AS_UNSET([ntp_openssl_from_pkg_config])
])
m4trace:m4/ntp_pkg_config.m4:6: -1- AC_DEFUN([NTP_PKG_CONFIG], [

dnl lower the minimum version if you find an earlier one works
ntp_pkgconfig_min_version='0.15.0'
AC_PATH_TOOL([PKG_CONFIG], [pkg-config])
AS_UNSET([ac_cv_path_PKG_CONFIG])
AS_UNSET([ac_cv_path_ac_pt_PKG_CONFIG])

case "$PKG_CONFIG" in
 /*)
    AC_MSG_CHECKING([if pkg-config is at least version $ntp_pkgconfig_min_version])
    if $PKG_CONFIG --atleast-pkgconfig-version $ntp_pkgconfig_min_version; then
	AC_MSG_RESULT([yes])
    else
	AC_MSG_RESULT([no])
	PKG_CONFIG=""
    fi
    ;;
esac

])
m4trace:m4/ntp_prog_cc.m4:4: -1- AC_DEFUN([NTP_PROG_CC], [

dnl must come before AC_PROG_CC or similar
AC_USE_SYSTEM_EXTENSIONS

dnl  we need to check for cross compile tools for vxWorks here
AC_PROG_CC
# Ralf Wildenhues: With per-target flags we need CC_C_O
# AM_PROG_CC_C_O supersets AC_PROG_CC_C_O
AM_PROG_CC_C_O
AC_PROG_GCC_TRADITIONAL
NTP_COMPILER
AC_C_BIGENDIAN
AC_C_VOLATILE
AC_PROG_CPP

])
m4trace:m4/ntp_sntp.m4:3: -1- AC_DEFUN([NTP_WITHSNTP], [

dnl preset withsntp=no in env to change default to --without-sntp
AC_MSG_CHECKING([if sntp will be built])
AC_ARG_WITH(
    [sntp],
    [AS_HELP_STRING(
	[--without-sntp],
	[- disable building sntp and sntp/tests]
    )],
    [],
    [with_sntp="${withsntp=yes}"]
)
case "$with_sntp" in
 no)
    SNTP=
    ;;
 *)
    SNTP=sntp
    ;;
esac
AC_SUBST([SNTP])
AM_CONDITIONAL([BUILD_SNTP], [test -n "$SNTP"])
AC_MSG_RESULT([$with_sntp])

])
m4trace:m4/ntp_sysexits.m4:3: -1- AC_DEFUN([NTP_SYSEXITS_H], [

AC_CHECK_HEADERS([sysexits.h], [],[
AC_DEFINE([EX_OK], [0], [successful termination])
AC_DEFINE([EX_SOFTWARE], [70], [internal software error])
])dnl

])
m4trace:m4/ntp_unitytest.m4:4: -1- AC_DEFUN([NTP_UNITYBUILD], [
# We may not need have_unity
have_unity=false
AC_PATH_PROG([PATH_RUBY], [ruby])
case "$PATH_RUBY" in
 /*)
    have_unity=true
    ;;
 *) PATH_RUBY="false"
    ;;
esac
# We may not need UNITYBUILD_AVAILABLE
AM_CONDITIONAL([UNITYBUILD_AVAILABLE], [$have_unity])

])
m4trace:m4/ntp_ver_suffix.m4:8: -1- AC_DEFUN([NTP_VER_SUFFIX], [

AC_SUBST([VER_SUFFIX])
VER_SUFFIX=
])
m4trace:m4/openldap-thread-check.m4:23: -1- AC_DEFUN([OL_THREAD_CHECK], [
AC_REQUIRE([AC_CANONICAL_HOST])
AC_LANG_SAVE
AC_LANG([C])
OL_ARG_WITH(threads,[  --with-threads	  with threads],
	auto, [auto nt posix mach pth lwp yes no manual] )

case "$ol_with_threads$host" in
 auto*-*-solaris2.[[0-6]])
    dnl signals sometimes delivered to wrong thread with Solaris 2.6
    ol_with_threads=no
    ;;
esac

dnl AIX Thread requires we use cc_r or xlc_r.
dnl But only do this IF AIX and CC is not set
dnl and threads are auto|yes|posix.
dnl
dnl If we find cc_r|xlc_r, force pthreads and assume
dnl		pthread_create is in $LIBS (ie: don't bring in
dnl		any additional thread libraries)
dnl If we do not find cc_r|xlc_r, disable threads

ol_aix_threads=no
case "$host" in
*-*-aix*) dnl all AIX is not a good idea.
	if test -z "$CC" ; then
		case "$ol_with_threads" in
		auto | yes |  posix) ol_aix_threads=yes ;;
		esac
	fi
;;
esac

if test $ol_aix_threads = yes ; then
	if test -z "${CC}" ; then
		AC_CHECK_PROGS(CC,cc_r xlc_r cc)

		if test "$CC" = cc ; then
			dnl no CC! don't allow --with-threads
			if test $ol_with_threads != auto ; then
				AC_MSG_ERROR([--with-threads requires cc_r (or other suitable compiler) on AIX])
			else
				AC_MSG_WARN([disabling threads, no cc_r on AIX])
			fi
			ol_with_threads=no
  		fi
	fi

	case ${CC} in cc_r | xlc_r)
		ol_with_threads=posix
		ol_cv_pthread_create=yes
		;;
	esac
fi

dnl ----------------------------------------------------------------
dnl Threads?
ol_link_threads=no
dnl ol_with_yielding_select=${ol_with_yielding_select:-auto}
OL_ARG_WITH(yielding_select,[  --with-yielding-select  with yielding select],
	auto, [auto yes no manual] )

case $ol_with_threads in auto | yes | nt)

	OL_NT_THREADS

	if test "$ol_cv_nt_threads" = yes ; then
		ol_link_threads=nt
		ol_with_threads=found
		ol_with_yielding_select=yes

		AC_DEFINE([HAVE_NT_SERVICE_MANAGER], [1], [if you have NT Service Manager])
		AC_DEFINE([HAVE_NT_EVENT_LOG], [1], [if you have NT Event Log])
	fi

	if test $ol_with_threads = nt ; then
		AC_MSG_ERROR([could not locate NT Threads])
	fi
	;;
esac

case $ol_with_threads in auto | yes | posix)

	AC_CHECK_HEADERS(pthread.h)

	if test $ac_cv_header_pthread_h = yes ; then
		OL_POSIX_THREAD_VERSION

		if test $ol_cv_pthread_version != 0 ; then
			AC_DEFINE_UNQUOTED([HAVE_PTHREADS], [$ol_cv_pthread_version],
				[define to pthreads API spec revision])
		else
			AC_MSG_ERROR([unknown pthread version])
		fi

		# consider threads found
		ol_with_threads=found

		OL_HEADER_LINUX_THREADS
		OL_HEADER_GNU_PTH_PTHREAD_H

		if test $ol_cv_header_gnu_pth_pthread_h = no ; then
			AC_CHECK_HEADERS(sched.h)
		fi

		dnl Now the hard part, how to link?
		dnl
		dnl currently supported checks:
		dnl
		dnl Check for no flags 
		dnl 	pthread_create() in $LIBS
		dnl
		dnl Check special pthread (final) flags
		dnl 	[skipped] pthread_create() with -mt (Solaris) [disabled]
		dnl 	pthread_create() with -kthread (FreeBSD)
		dnl 	pthread_create() with -pthread (FreeBSD/Digital Unix)
		dnl 	pthread_create() with -pthreads (?)
		dnl 	pthread_create() with -mthreads (AIX)
		dnl 	pthread_create() with -thread (?)
		dnl
		dnl Check pthread (final) libraries
		dnl 	pthread_mutex_unlock() in -lpthread -lmach -lexc -lc_r (OSF/1)
		dnl 	pthread_mutex_lock() in -lpthread -lmach -lexc (OSF/1)
		dnl 	[skipped] pthread_mutex_trylock() in -lpthread -lexc (OSF/1)
		dnl 	pthread_join() -Wl,-woff,85 -lpthread (IRIX)
		dnl 	pthread_create() in -lpthread (many)
		dnl 	pthread_create() in -lc_r (FreeBSD)
		dnl
		dnl Check pthread (draft4) flags (depreciated)
		dnl 	pthread_create() with -threads (OSF/1)
		dnl
		dnl Check pthread (draft4) libraries (depreciated)
		dnl 	pthread_mutex_unlock() in -lpthreads -lmach -lexc -lc_r (OSF/1)
		dnl 	pthread_mutex_lock() in -lpthreads -lmach -lexc (OSF/1)
		dnl 	pthread_mutex_trylock() in -lpthreads -lexc (OSF/1)
		dnl 	pthread_create() in -lpthreads (many)
		dnl

		dnl pthread_create in $LIBS
		AC_CACHE_CHECK([for pthread_create in default libraries],
			ol_cv_pthread_create,[
			AC_RUN_IFELSE([OL_PTHREAD_TEST_PROGRAM],
				[ol_cv_pthread_create=yes],
				[ol_cv_pthread_create=no],
				[AC_TRY_LINK(OL_PTHREAD_TEST_INCLUDES,OL_PTHREAD_TEST_FUNCTION,
					[ol_cv_pthread_create=yes],
					[ol_cv_pthread_create=no])])])

		if test $ol_cv_pthread_create != no ; then
			ol_link_threads=posix
			ol_link_pthreads=""
		fi
		
dnl		OL_PTHREAD_TRY([-mt],		[ol_cv_pthread_mt])
		OL_PTHREAD_TRY([-kthread],	[ol_cv_pthread_kthread])
		OL_PTHREAD_TRY([-pthread],	[ol_cv_pthread_pthread])
		OL_PTHREAD_TRY([-pthreads],	[ol_cv_pthread_pthreads])
		OL_PTHREAD_TRY([-mthreads],	[ol_cv_pthread_mthreads])
		OL_PTHREAD_TRY([-thread],	[ol_cv_pthread_thread])

		OL_PTHREAD_TRY([-lpthread -lmach -lexc -lc_r],
			[ol_cv_pthread_lpthread_lmach_lexc_lc_r])
		OL_PTHREAD_TRY([-lpthread -lmach -lexc],
			[ol_cv_pthread_lpthread_lmach_lexc])
dnl		OL_PTHREAD_TRY([-lpthread -lexc],
dnl			[ol_cv_pthread_lpthread_lexc])

		OL_PTHREAD_TRY([-lpthread -Wl,-woff,85],
			[ol_cv_pthread_lib_lpthread_woff])

		OL_PTHREAD_TRY([-lpthread],	[ol_cv_pthread_lpthread])
		OL_PTHREAD_TRY([-lc_r],		[ol_cv_pthread_lc_r])

		OL_PTHREAD_TRY([-threads],	[ol_cv_pthread_threads])

		OL_PTHREAD_TRY([-lpthreads -lmach -lexc -lc_r],
			[ol_cv_pthread_lpthreads_lmach_lexc_lc_r])
		OL_PTHREAD_TRY([-lpthreads -lmach -lexc],
			[ol_cv_pthread_lpthreads_lmach_lexc])
		OL_PTHREAD_TRY([-lpthreads -lexc],
			[ol_cv_pthread_lpthreads_lexc])

		OL_PTHREAD_TRY([-lpthreads],[ol_cv_pthread_lib_lpthreads])

AC_MSG_NOTICE([ol_link_threads: <$ol_link_threads> ol_link_pthreads <$ol_link_pthreads>])

		if test $ol_link_threads != no ; then
			LTHREAD_LIBS="$LTHREAD_LIBS $ol_link_pthreads"

			dnl save flags
			save_CPPFLAGS="$CPPFLAGS"
			save_LIBS="$LIBS"
			LIBS="$LTHREAD_LIBS $LIBS"

			dnl All POSIX Thread (final) implementations should have
			dnl sched_yield instead of pthread yield.
			dnl check for both, and thr_yield for Solaris
			AC_CHECK_FUNCS(sched_yield pthread_yield thr_yield)

			if test $ac_cv_func_sched_yield = no &&
			   test $ac_cv_func_pthread_yield = no &&
			   test $ac_cv_func_thr_yield = no ; then
				dnl Digital UNIX has sched_yield() in -lrt
				AC_CHECK_LIB(rt, sched_yield,
					[LTHREAD_LIBS="$LTHREAD_LIBS -lrt"
					AC_DEFINE([HAVE_SCHED_YIELD], [1],
						[Define if you have the sched_yield function.])
					ac_cv_func_sched_yield=yes],
					[ac_cv_func_sched_yield=no])
			fi
			if test $ac_cv_func_sched_yield = no &&
			   test $ac_cv_func_pthread_yield = no &&
			   test "$ac_cv_func_thr_yield" = no ; then
				AC_MSG_WARN([could not locate sched_yield() or pthread_yield()])
			fi

			dnl Check functions for compatibility
			AC_CHECK_FUNCS(pthread_kill)

			dnl Check for pthread_rwlock_destroy with <pthread.h>
			dnl as pthread_rwlock_t may not be defined.
			AC_CACHE_CHECK([for pthread_rwlock_destroy with <pthread.h>],
				[ol_cv_func_pthread_rwlock_destroy], [
				dnl save the flags
				AC_LINK_IFELSE([AC_LANG_PROGRAM([[
#include <pthread.h>
pthread_rwlock_t rwlock;
]], [[pthread_rwlock_destroy(&rwlock);]])],[ol_cv_func_pthread_rwlock_destroy=yes],[ol_cv_func_pthread_rwlock_destroy=no])
			])
			if test $ol_cv_func_pthread_rwlock_destroy = yes ; then
				AC_DEFINE([HAVE_PTHREAD_RWLOCK_DESTROY], [1],
					[define if you have pthread_rwlock_destroy function])
			fi

			dnl Check for pthread_detach with <pthread.h> inclusion
			dnl as it's symbol may have been mangled.
			AC_CACHE_CHECK([for pthread_detach with <pthread.h>],
				[ol_cv_func_pthread_detach], [
				dnl save the flags
				AC_LINK_IFELSE([AC_LANG_PROGRAM([[
#include <pthread.h>
#ifndef NULL
#define NULL (void*)0
#endif
]], [[pthread_detach(NULL);]])],[ol_cv_func_pthread_detach=yes],[ol_cv_func_pthread_detach=no])
			])

			if test $ol_cv_func_pthread_detach = no ; then
				AC_MSG_ERROR([could not locate pthread_detach()])
			fi

			AC_DEFINE([HAVE_PTHREAD_DETACH], [1],
				[define if you have pthread_detach function])

			dnl Check for setconcurreny functions
			AC_CHECK_FUNCS(	\
				pthread_setconcurrency \
				pthread_getconcurrency \
				thr_setconcurrency \
				thr_getconcurrency \
			)

			OL_SYS_LINUX_THREADS
			OL_LINUX_THREADS

			if test $ol_cv_linux_threads = error; then
				AC_MSG_ERROR([LinuxThreads header/library mismatch]);
			fi

			AC_CACHE_CHECK([if pthread_create() works],
				ol_cv_pthread_create_works,[
			AC_RUN_IFELSE([OL_PTHREAD_TEST_PROGRAM],
				[ol_cv_pthread_create_works=yes],
				[ol_cv_pthread_create_works=no],
				[dnl assume yes
				ol_cv_pthread_create_works=yes])])

			if test $ol_cv_pthread_create_works = no ; then
				AC_MSG_ERROR([pthread_create is not usable, check environment settings])
			fi

			ol_replace_broken_yield=no
dnl			case "$host" in
dnl			*-*-linux*) 
dnl				AC_CHECK_FUNCS(nanosleep)
dnl				ol_replace_broken_yield=yes
dnl			;;
dnl			esac

			if test $ol_replace_broken_yield = yes ; then
				AC_DEFINE([REPLACE_BROKEN_YIELD], [1],
					[define if sched_yield yields the entire process])
			fi

			dnl Check if select causes an yield
			if test x$ol_with_yielding_select = xauto ; then
				AC_CACHE_CHECK([if select yields when using pthreads],
					ol_cv_pthread_select_yields,[
				AC_RUN_IFELSE([AC_LANG_SOURCE([[
#include <sys/types.h>
#include <sys/time.h>
#include <unistd.h>
#include <pthread.h>
#ifndef NULL
#define NULL (void*) 0
#endif

static int fildes[2];

static void *task(p)
	void *p;
{
	int i;
	struct timeval tv;

	fd_set rfds;

	tv.tv_sec=10;
	tv.tv_usec=0;

	FD_ZERO(&rfds);
	FD_SET(fildes[0], &rfds);

	/* we're not interested in any fds */
	i = select(FD_SETSIZE, &rfds, NULL, NULL, &tv);

	if(i < 0) {
		perror("select");
		exit(10);
	}

	exit(0); /* if we exit here, the select blocked the whole process */
}

int main(argc, argv)
	int argc;
	char **argv;
{
	pthread_t t;

	/* create a pipe to select */
	if(pipe(&fildes[0])) {
		perror("select");
		exit(1);
	}

#ifdef HAVE_PTHREAD_SETCONCURRENCY
	(void) pthread_setconcurrency(2);
#else
#ifdef HAVE_THR_SETCONCURRENCY
	/* Set Solaris LWP concurrency to 2 */
	thr_setconcurrency(2);
#endif
#endif

#if HAVE_PTHREADS < 6
	pthread_create(&t, pthread_attr_default, task, NULL);
#else
	pthread_create(&t, NULL, task, NULL);
#endif

	/* make sure task runs first */
#ifdef HAVE_THR_YIELD
	thr_yield();
#elif defined( HAVE_SCHED_YIELD )
	sched_yield();
#elif defined( HAVE_PTHREAD_YIELD )
	pthread_yield();
#endif

	exit(2);
}]])],[ol_cv_pthread_select_yields=no],[ol_cv_pthread_select_yields=yes],[ol_cv_pthread_select_yields=cross])])

				if test $ol_cv_pthread_select_yields = cross ; then
					AC_MSG_ERROR([crossing compiling: use --with-yielding-select=yes|no|manual])
				fi

				if test $ol_cv_pthread_select_yields = yes ; then
					ol_with_yielding_select=yes
				fi
			fi

			dnl restore flags
			CPPFLAGS="$save_CPPFLAGS"
			LIBS="$save_LIBS"
		else
			AC_MSG_ERROR([could not locate usable POSIX Threads])
		fi
	fi

	if test $ol_with_threads = posix ; then
		AC_MSG_ERROR([could not locate POSIX Threads])
	fi
	;;
esac

case $ol_with_threads in auto | yes | mach)

	dnl check for Mach CThreads
	AC_CHECK_HEADERS(mach/cthreads.h cthreads.h)
	if test $ac_cv_header_mach_cthreads_h = yes ; then
		ol_with_threads=found

		dnl check for cthreads support in current $LIBS
		AC_CHECK_FUNC(cthread_fork,[ol_link_threads=yes])

		if test $ol_link_threads = no ; then
			dnl try -all_load
			dnl this test needs work
			AC_CACHE_CHECK([for cthread_fork with -all_load],
				[ol_cv_cthread_all_load], [
				dnl save the flags
				save_LIBS="$LIBS"
				LIBS="-all_load $LIBS"
				AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <mach/cthreads.h>]], [[
					cthread_fork((void *)0, (void *)0);
					]])],[ol_cv_cthread_all_load=yes],[ol_cv_cthread_all_load=no])
				dnl restore the LIBS
				LIBS="$save_LIBS"
			])

			if test $ol_cv_cthread_all_load = yes ; then
				LTHREAD_LIBS="$LTHREAD_LIBS -all_load"
				ol_link_threads=mach
				ol_with_threads=found
			fi
		fi

	elif test $ac_cv_header_cthreads_h = yes ; then
		dnl Hurd variant of Mach Cthreads
		dnl uses <cthreads.h> and -lthreads

		ol_with_threads=found
 
		dnl save the flags
		save_LIBS="$LIBS"
		LIBS="$LIBS -lthreads"
		AC_CHECK_FUNC(cthread_fork,[ol_link_threads=yes])
		LIBS="$save_LIBS"

		if test $ol_link_threads = yes ; then
			LTHREAD_LIBS="-lthreads"
			ol_link_threads=mach
			ol_with_threads=found
		else
			AC_MSG_ERROR([could not link with Mach CThreads])
		fi

	elif test $ol_with_threads = mach ; then
		AC_MSG_ERROR([could not locate Mach CThreads])
	fi

	if test $ol_link_threads = mach ; then
		AC_DEFINE([HAVE_MACH_CTHREADS], [1],
			[define if you have Mach Cthreads])
	elif test $ol_with_threads = found ; then
		AC_MSG_ERROR([could not link with Mach CThreads])
	fi
	;;
esac

case $ol_with_threads in auto | yes | pth)

	AC_CHECK_HEADERS(pth.h)

	if test $ac_cv_header_pth_h = yes ; then
		AC_CHECK_LIB(pth, pth_version, [have_pth=yes], [have_pth=no])

		if test $have_pth = yes ; then
			AC_DEFINE([HAVE_GNU_PTH], [1], [if you have GNU Pth])
			LTHREAD_LIBS="$LTHREAD_LIBS -lpth"
			ol_link_threads=pth
			ol_with_threads=found

			if test x$ol_with_yielding_select = xauto ; then
				ol_with_yielding_select=yes
			fi
		fi
	fi
	;;
esac

case $ol_with_threads in auto | yes | lwp)

	dnl check for SunOS5 LWP
	AC_CHECK_HEADERS(thread.h synch.h)
	if test $ac_cv_header_thread_h = yes &&
	   test $ac_cv_header_synch_h = yes ; then
		AC_CHECK_LIB(thread, thr_create, [have_thr=yes], [have_thr=no])

		if test $have_thr = yes ; then
			AC_DEFINE([HAVE_THR], [1],
				[if you have Solaris LWP (thr) package])
			LTHREAD_LIBS="$LTHREAD_LIBS -lthread"
			ol_link_threads=thr

			if test x$ol_with_yielding_select = xauto ; then
				ol_with_yielding_select=yes
			fi

			dnl Check for setconcurrency functions
			AC_CHECK_FUNCS(	\
				thr_setconcurrency \
				thr_getconcurrency \
			)
		fi
	fi

	dnl check for SunOS4 LWP
	AC_CHECK_HEADERS(lwp/lwp.h)
	if test $ac_cv_header_lwp_lwp_h = yes ; then
		AC_CHECK_LIB(lwp, lwp_create, [have_lwp=yes], [have_lwp=no])

		if test $have_lwp = yes ; then
			AC_DEFINE([HAVE_LWP], [1],
				[if you have SunOS LWP package])
			LTHREAD_LIBS="$LTHREAD_LIBS -llwp"
			ol_link_threads=lwp

			if test x$ol_with_yielding_select = xauto ; then
				ol_with_yielding_select=no
			fi
		fi
	fi
	;;
esac

if test $ol_with_yielding_select = yes ; then
	AC_DEFINE([HAVE_YIELDING_SELECT], [1],
		[define if select implicitly yields])
fi

if test $ol_with_threads = manual ; then
	dnl User thinks he can manually configure threads.
	ol_link_threads=yes

	AC_MSG_WARN([thread defines and link options must be set manually])

	AC_CHECK_HEADERS(pthread.h sched.h)
	AC_CHECK_FUNCS(sched_yield pthread_yield)
	OL_HEADER_LINUX_THREADS

	AC_CHECK_HEADERS(mach/cthreads.h)
	AC_CHECK_HEADERS(lwp/lwp.h)
	AC_CHECK_HEADERS(thread.h synch.h)
fi

if test $ol_link_threads != no && test $ol_link_threads != nt ; then
	dnl needed to get reentrant/threadsafe versions
	dnl
	AC_DEFINE([REENTRANT], [1], [enable thread safety])
	AC_DEFINE([_REENTRANT], [1], [enable thread safety])
	AC_DEFINE([THREAD_SAFE], [1], [enable thread safety])
	AC_DEFINE([_THREAD_SAFE], [1], [enable thread safety])
	AC_DEFINE([THREADSAFE], [1], [enable thread safety])
	AC_DEFINE([_THREADSAFE], [1], [enable thread safety])
	AC_DEFINE([_SGI_MP_SOURCE], [1], [enable thread safety])

	dnl The errno declaration may dependent upon _REENTRANT.
	dnl If it does, we must link with thread support.
	AC_CACHE_CHECK([for thread specific errno],
		[ol_cv_errno_thread_specific], [
		AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <errno.h>]], [[errno = 0;]])],[ol_cv_errno_thread_specific=yes],[ol_cv_errno_thread_specific=no])
	])

	dnl The h_errno declaration may dependent upon _REENTRANT.
	dnl If it does, we must link with thread support.
	AC_CACHE_CHECK([for thread specific h_errno],
		[ol_cv_h_errno_thread_specific], [
		AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <netdb.h>]], [[h_errno = 0;]])],[ol_cv_h_errno_thread_specific=yes],[ol_cv_h_errno_thread_specific=no])
	])

	if test $ol_cv_errno_thread_specific != yes ||
	   test $ol_cv_h_errno_thread_specific != yes ; then
		LIBS="$LTHREAD_LIBS $LIBS"
		LTHREAD_LIBS=""
	fi

dnl When in thread environment, use 
dnl		#if defined( HAVE_REENTRANT_FUNCTIONS ) || defined( HAVE_FUNC_R )
dnl			func_r(...);
dnl		#else
dnl		#	if defined( HAVE_THREADS ) 
dnl				/* lock */
dnl		#	endif
dnl				func(...);
dnl		#	if defined( HAVE_THREADS ) 
dnl				/* unlock */
dnl		#	endif
dnl		#endif
dnl
dnl HAVE_REENTRANT_FUNCTIONS is derived from:
dnl		_POSIX_REENTRANT_FUNCTIONS
dnl		_POSIX_THREAD_SAFE_FUNCTIONS
dnl		_POSIX_THREADSAFE_FUNCTIONS
dnl
dnl		and is currently defined in <ldap_pvt_thread.h>
dnl
dnl HAVE_THREADS is defined by <ldap_pvt_thread.h> iff -UNO_THREADS
dnl 
dnl libldap/*.c should only include <ldap_pvt_thread.h> iff
dnl LDAP_R_COMPILE is defined.  ie:
dnl		#ifdef LDAP_R_COMPILE
dnl		#	include <ldap_pvt_thread.h>
dnl		#endif
dnl
dnl LDAP_R_COMPILE is defined by libldap_r/Makefile.in
dnl specifically for compiling the threadsafe version of
dnl	the ldap library (-lldap_r).
dnl		
dnl	dnl check for reentrant/threadsafe functions
dnl	dnl
dnl	dnl note: these should only be used when linking
dnl	dnl		with $LTHREAD_LIBS
dnl	dnl
dnl	save_CPPFLAGS="$CPPFLAGS"
dnl	save_LIBS="$LIBS"
dnl	LIBS="$LTHREAD_LIBS $LIBS"
dnl	AC_CHECK_FUNCS(	\
dnl		gmtime_r \
dnl		gethostbyaddr_r gethostbyname_r \
dnl		feof_unlocked unlocked_feof \
dnl		putc_unlocked unlocked_putc \
dnl		flockfile ftrylockfile \
dnl	)
dnl	CPPFLAGS="$save_CPPFLAGS"
dnl	LIBS="$save_LIBS"
fi  

if test $ol_link_threads = no ; then
	if test $ol_with_threads = yes ; then
		AC_MSG_ERROR([no suitable thread support])
	fi

	if test $ol_with_threads = auto ; then
		AC_MSG_WARN([no suitable thread support, disabling threads])
		ol_with_threads=no
	fi

	AC_DEFINE([NO_THREADS], [1],
		[define if you have (or want) no threads])
	LTHREAD_LIBS=""
	BUILD_THREAD=no
else
	BUILD_THREAD=yes
fi

if test $ol_link_threads != no ; then
	AC_DEFINE([LDAP_API_FEATURE_X_OPENLDAP_THREAD_SAFE], [1],
		[define to 1 if library is thread safe])
fi

# Finally, execute ACTION-IF-FOUND/ACTION-IF-NOT-FOUND:
case "$ol_with_threads" in
 no)
    ol_pthread_ok=no
    $2
    ;;
 *)
    ifelse([$1],,AC_DEFINE(HAVE_PTHREAD,1,[Define if you have POSIX threads libraries and header files.]),[$1])
    ;;
esac

AC_LANG_RESTORE

AC_SUBST(BUILD_THREAD)
AC_SUBST(LTHREAD_LIBS)

])
m4trace:m4/openldap.m4:24: -1- AC_DEFUN([OL_ARG_ENABLE], [# OpenLDAP --enable-$1
	pushdef([ol_DefVal],ifelse($3,,auto,$3))
	AC_ARG_ENABLE($1,ifelse($4,,[$2],[$2] translit([$4],[ ],[|])) ifelse($3,--,,@<:@ol_DefVal@:>@),[
	ol_arg=invalid
	for ol_val in ifelse($4,,[auto yes no],[$4]) ; do
		if test "$enableval" = "$ol_val" ; then
			ol_arg="$ol_val"
		fi
	done
	if test "$ol_arg" = "invalid" ; then
		AC_MSG_ERROR(bad value $enableval for --enable-$1)
	fi
	ol_enable_$1="$ol_arg"
]ifelse($3,--,,[,
[	ol_enable_$1=ifelse($5,,ol_DefVal,[${]$5[:-]ol_DefVal[}])]]))dnl
dnl AC_MSG_RESULT([OpenLDAP -enable-$1 $ol_enable_$1])
	popdef([ol_DefVal])
# end --enable-$1
])
m4trace:m4/openldap.m4:51: -1- AC_DEFUN([OL_ARG_WITH], [# OpenLDAP --with-$1
	AC_ARG_WITH($1,[$2 @<:@]ifelse($3,,yes,$3)@:>@,[
	ol_arg=invalid
	for ol_val in ifelse($4,,[yes no],[$4]) ; do
		if test "$withval" = "$ol_val" ; then
			ol_arg="$ol_val"
		fi
	done
	if test "$ol_arg" = "invalid" ; then
		AC_MSG_ERROR(bad value $withval for --with-$1)
	fi
	ol_with_$1="$ol_arg"
],
[	ol_with_$1=ifelse($3,,"no","$3")])dnl
dnl AC_MSG_RESULT([OpenLDAP --with-$1 $ol_with_$1])
# end --with-$1
])
m4trace:m4/openldap.m4:70: -1- AC_DEFUN([OL_MKDEPEND], [# test for make depend flag
OL_MKDEP=
OL_MKDEP_FLAGS=
if test -z "${MKDEP}"; then
	OL_MKDEP="${CC-cc}"
	if test -z "${MKDEP_FLAGS}"; then
		AC_CACHE_CHECK([for ${OL_MKDEP} depend flag], ol_cv_mkdep, [
			ol_cv_mkdep=no
			for flag in "-M" "-xM"; do
				cat > conftest.c <<EOF
 noCode;
EOF
				if AC_TRY_COMMAND($OL_MKDEP $flag conftest.c) \
					| grep '^conftest\.'"${ac_objext}" >/dev/null 2>&1
				then
					if test ! -f conftest."${ac_object}" ; then
						ol_cv_mkdep=$flag
						OL_MKDEP_FLAGS="$flag"
						break
					fi
				fi
			done
			rm -f conftest*
		])
		test "$ol_cv_mkdep" = no && OL_MKDEP=":"
	else
		cc_cv_mkdep=yes
		OL_MKDEP_FLAGS="${MKDEP_FLAGS}"
	fi
else
	cc_cv_mkdep=yes
	OL_MKDEP="${MKDEP}"
	OL_MKDEP_FLAGS="${MKDEP_FLAGS}"
fi
AC_SUBST(OL_MKDEP)
AC_SUBST(OL_MKDEP_FLAGS)
])
m4trace:m4/openldap.m4:110: -1- AC_DEFUN([OL_CPP_EBCDIC], [# test for EBCDIC
AC_CACHE_CHECK([for EBCDIC],ol_cv_cpp_ebcdic,[
	AC_PREPROC_IFELSE([AC_LANG_SOURCE([[
#if !('M' == 0xd4)
#include <__ASCII__/generate_error.h>
#endif
]])],[ol_cv_cpp_ebcdic=yes],[ol_cv_cpp_ebcdic=no])])
if test $ol_cv_cpp_ebcdic = yes ; then
	AC_DEFINE(HAVE_EBCDIC,1, [define if system uses EBCDIC instead of ASCII])
fi
])
m4trace:m4/openldap.m4:124: -1- AC_DEFUN([OL_MSVC], [AC_REQUIRE_CPP()dnl
AC_CACHE_CHECK([whether we are using MS Visual C++], ol_cv_msvc,
[AC_PREPROC_IFELSE([AC_LANG_SOURCE([[
#ifndef _MSC_VER
#include <__FOO__/generate_error.h>
#endif
]])],[ol_cv_msvc=yes],[ol_cv_msvc=no])])])
m4trace:m4/openldap.m4:135: -1- AC_DEFUN([OL_HEADER_STDC], [AC_REQUIRE_CPP()dnl
AC_REQUIRE([OL_CPP_EBCDIC])dnl
AC_CACHE_CHECK([for ANSI C header files], ol_cv_header_stdc,
[AC_PREPROC_IFELSE([AC_LANG_SOURCE([[#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>]])],[ol_cv_header_stdc=yes],[ol_cv_header_stdc=no])

if test $ol_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
AC_EGREP_HEADER(memchr, string.h, , ol_cv_header_stdc=no)
fi

if test $ol_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
AC_EGREP_HEADER(free, stdlib.h, , ol_cv_header_stdc=no)
fi

if test $ol_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
AC_RUN_IFELSE([AC_LANG_SOURCE([[#include <ctype.h>
#ifndef HAVE_EBCDIC
#	define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#	define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
#	define ISLOWER(c) (('a' <= (c) && (c) <= 'i') \
		|| ('j' <= (c) && (c) <= 'r') \
		|| ('s' <= (c) && (c) <= 'z'))
#	define TOUPPER(c)	(ISLOWER(c) ? ((c) | 0x40) : (c))
#endif
#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }
]])],[],[ol_cv_header_stdc=no],[:])
fi])
if test $ol_cv_header_stdc = yes; then
  AC_DEFINE([STDC_HEADERS], [1], [is standard C provided?])
fi
ac_cv_header_stdc=disable
])
m4trace:m4/openldap.m4:180: -1- AC_DEFUN([OL_RESOLVER_TRY], [if test $ol_cv_lib_resolver = no ; then
	AC_CACHE_CHECK([for resolver link (]ifelse($2,,default,$2)[)],[$1],
[
	ol_RESOLVER_LIB=ifelse($2,,,$2)
	ol_LIBS=$LIBS
	LIBS="$ol_RESOLVER_LIB $LIBS"

	AC_LINK_IFELSE([AC_LANG_PROGRAM([[
#ifdef HAVE_SYS_TYPES_H
#	include <sys/types.h>
#endif
#include <netinet/in.h>
#ifdef HAVE_ARPA_NAMESER_H
#	include <arpa/nameser.h>
#endif
#ifdef HAVE_RESOLV_H
#	include <resolv.h>
#endif
]], [[{
	int len, status;
	char *request = NULL;
	unsigned char reply[64*1024];
	unsigned char host[64*1024];
	unsigned char *p;

#ifdef NS_HFIXEDSZ
	/* Bind 8/9 interface */
	len = res_query(request, ns_c_in, ns_t_srv, reply, sizeof(reply));
#else
	/* Bind 4 interface */
# ifndef T_SRV
#  define T_SRV 33
# endif
	len = res_query(request, C_IN, T_SRV, reply, sizeof(reply));
#endif
	p = reply;
#ifdef NS_HFIXEDSZ
	/* Bind 8/9 interface */
	p += NS_HFIXEDSZ;
#elif defined(HFIXEDSZ)
	/* Bind 4 interface w/ HFIXEDSZ */
	p += HFIXEDSZ;
#else
	/* Bind 4 interface w/o HFIXEDSZ */
	p += sizeof(HEADER);
#endif
	status = dn_expand( reply, reply+len, p, host, sizeof(host));
}]])],[$1=yes],[$1=no])

	LIBS="$ol_LIBS"
])

	if test $$1 = yes ; then
		ol_cv_lib_resolver=ifelse($2,,yes,$2)
	fi
fi
])
m4trace:m4/openldap.m4:240: -1- AC_DEFUN([OL_RESOLVER_LINK], [ol_cv_lib_resolver=no
OL_RESOLVER_TRY(ol_cv_resolver_none)
OL_RESOLVER_TRY(ol_cv_resolver_resolv,[-lresolv])
OL_RESOLVER_TRY(ol_cv_resolver_bind,[-lbind])
])
m4trace:m4/openldap.m4:249: -1- AC_DEFUN([OL_ICU], [ol_icu=no
AC_CHECK_HEADERS( unicode/utypes.h )
if test $ac_cv_header_unicode_utypes_h = yes ; then
	dnl OL_ICULIBS="-licui18n -licuuc -licudata"
	OL_ICULIBS="-licuuc -licudata"

	AC_CACHE_CHECK([for ICU libraries], [ol_cv_lib_icu], [
		ol_LIBS="$LIBS"
		LIBS="$OL_ICULIBS $LIBS"
		AC_LINK_IFELSE([AC_LANG_PROGRAM([[
#include <unicode/utypes.h>
]], [[
(void) u_errorName(0);
]])],[ol_cv_lib_icu=yes],[ol_cv_lib_icu=no])
		LIBS="$ol_LIBS"
])

	if test $ol_cv_lib_icu != no ; then
		ol_icu="$OL_ICULIBS"
		AC_DEFINE([HAVE_ICU], [1], [define if you actually have ICU])
	fi
fi
])
m4trace:m4/openldap.m4:279: -1- AC_DEFUN([OL_BERKELEY_DB_TRY], [if test $ol_cv_lib_db = no ; then
	AC_CACHE_CHECK([for Berkeley DB link (]ifelse($2,,default,$2)[)],[$1],
[
	ol_DB_LIB=ifelse($2,,,$2)
	ol_LIBS=$LIBS
	LIBS="$ol_DB_LIB $LTHREAD_LIBS $LIBS"

	AC_LINK_IFELSE([AC_LANG_PROGRAM([[
#ifdef HAVE_DB_185_H
# include <db_185.h>
#else
# include <db.h>
#endif

#ifndef DB_VERSION_MAJOR
# define DB_VERSION_MAJOR 1
#endif

#ifndef NULL
#define NULL ((void*)0)
#endif
]], [[
#if DB_VERSION_MAJOR > 2
	db_env_create( NULL, 0 );
#elif DB_VERSION_MAJOR > 1
	db_appexit( NULL );
#else
	(void) dbopen( NULL, 0, 0, 0, NULL);
#endif
]])],[$1=yes],[$1=no])

	LIBS="$ol_LIBS"
])

	if test $$1 = yes ; then
		ol_cv_lib_db=ifelse($2,,yes,$2)
	fi
fi
])
m4trace:m4/openldap.m4:322: -1- AC_DEFUN([OL_BDB_HEADER_VERSION], [AC_CACHE_CHECK([for Berkeley DB major version in db.h], [ol_cv_bdb_major],[
	AC_LANG_CONFTEST([
#include <db.h>
#ifndef DB_VERSION_MAJOR
#	define DB_VERSION_MAJOR 1
#endif
__db_version DB_VERSION_MAJOR
])
	set X `eval "$ac_cpp conftest.$ac_ext" | $EGREP __db_version` none none
	ol_cv_bdb_major=${3}
])
case $ol_cv_bdb_major in [[1-9]]*) : ;; *)
	AC_MSG_ERROR([Unknown Berkeley DB major version in db.h]) ;;
esac

dnl Determine minor version
AC_CACHE_CHECK([for Berkeley DB minor version in db.h], [ol_cv_bdb_minor],[
	AC_LANG_CONFTEST([
#include <db.h>
#ifndef DB_VERSION_MINOR
#	define DB_VERSION_MINOR 0
#endif
__db_version DB_VERSION_MINOR
])
	set X `eval "$ac_cpp conftest.$ac_ext" | $EGREP __db_version` none none
	ol_cv_bdb_minor=${3}
])
case $ol_cv_bdb_minor in [[0-9]]*) : ;; *)
	AC_MSG_ERROR([Unknown Berkeley DB minor version in db.h]) ;;
esac
])
m4trace:m4/openldap.m4:357: -1- AC_DEFUN([OL_BERKELEY_DB_LINK], [ol_cv_lib_db=no

if test $ol_cv_bdb_major = 4 ; then
	OL_BERKELEY_DB_TRY(ol_cv_db_db_4_dot_m,[-ldb-4.$ol_cv_bdb_minor])
	OL_BERKELEY_DB_TRY(ol_cv_db_db4m,[-ldb4$ol_cv_bdb_minor])
	OL_BERKELEY_DB_TRY(ol_cv_db_db_4m,[-ldb-4$ol_cv_bdb_minor])
	OL_BERKELEY_DB_TRY(ol_cv_db_db_4_m,[-ldb-4-$ol_cv_bdb_minor])
	OL_BERKELEY_DB_TRY(ol_cv_db_db_4,[-ldb-4])
	OL_BERKELEY_DB_TRY(ol_cv_db_db4,[-ldb4])
	OL_BERKELEY_DB_TRY(ol_cv_db_db,[-ldb])
fi
OL_BERKELEY_DB_TRY(ol_cv_db_none)
])
m4trace:m4/openldap.m4:374: -1- AC_DEFUN([OL_BERKELEY_DB_VERSION], [AC_CACHE_CHECK([for Berkeley DB library and header version match], [ol_cv_berkeley_db_version], [
	ol_LIBS="$LIBS"
	LIBS="$LTHREAD_LIBS $LIBS"
	if test $ol_cv_lib_db != yes ; then
		LIBS="$ol_cv_lib_db $LIBS"
	fi

	AC_RUN_IFELSE([AC_LANG_SOURCE([[
#ifdef HAVE_DB_185_H
	choke me;
#else
#include <db.h>
#endif
#ifndef DB_VERSION_MAJOR
# define DB_VERSION_MAJOR 1
#endif
#ifndef NULL
#define NULL ((void *)0)
#endif
main()
{
#if DB_VERSION_MAJOR > 1
	char *version;
	int major, minor, patch;

	version = db_version( &major, &minor, &patch );

	if( major != DB_VERSION_MAJOR ||
		minor != DB_VERSION_MINOR ||
		patch != DB_VERSION_PATCH )
	{
		printf("Berkeley DB version mismatch\n"
			"\theader: %s\n\tlibrary: %s\n",
			DB_VERSION_STRING, version);
		return 1;
	}
#endif

	return 0;
}]])],[ol_cv_berkeley_db_version=yes],[ol_cv_berkeley_db_version=no],[ol_cv_berkeley_db_version=cross])

	LIBS="$ol_LIBS"
])

	if test $ol_cv_berkeley_db_version = no ; then
		AC_MSG_ERROR([Berkeley DB version mismatch])
	fi
])
m4trace:m4/openldap.m4:426: -1- AC_DEFUN([OL_BERKELEY_DB_THREAD], [AC_CACHE_CHECK([for Berkeley DB thread support], [ol_cv_berkeley_db_thread], [
	ol_LIBS="$LIBS"
	LIBS="$LTHREAD_LIBS $LIBS"
	if test $ol_cv_lib_db != yes ; then
		LIBS="$ol_cv_lib_db $LIBS"
	fi

	AC_RUN_IFELSE([AC_LANG_SOURCE([[
#ifdef HAVE_DB_185_H
	choke me;
#else
#include <db.h>
#endif
#ifndef NULL
#define NULL ((void *)0)
#endif
main()
{
	int rc;
	u_int32_t flags = DB_CREATE |
#ifdef DB_PRIVATE
		DB_PRIVATE |
#endif
		DB_THREAD;

#if DB_VERSION_MAJOR > 2
	DB_ENV *env = NULL;

	rc = db_env_create( &env, 0 );

	flags |= DB_INIT_MPOOL;
#ifdef DB_MPOOL_PRIVATE
	flags |= DB_MPOOL_PRIVATE;
#endif

	if( rc ) {
		printf("BerkeleyDB: %s\n", db_strerror(rc) );
		return rc;
	}

#if (DB_VERSION_MAJOR > 3) || (DB_VERSION_MINOR >= 1)
	rc = (env->open)( env, NULL, flags, 0 );
#else
	rc = (env->open)( env, NULL, NULL, flags, 0 );
#endif

	if ( rc == 0 ) {
		rc = env->close( env, 0 );
	}

	if( rc ) {
		printf("BerkeleyDB: %s\n", db_strerror(rc) );
		return rc;
	}

#else
	DB_ENV env;
	memset( &env, '\0', sizeof(env) );

	rc = db_appinit( NULL, NULL, &env, flags );

	if( rc == 0 ) {
		db_appexit( &env );
	}

	unlink("__db_mpool.share");
	unlink("__db_lock.share");
#endif

	return rc;
}]])],[ol_cv_berkeley_db_thread=yes],[ol_cv_berkeley_db_thread=no],[ol_cv_berkeley_db_thread=cross])

	LIBS="$ol_LIBS"
])

	if test $ol_cv_berkeley_db_thread != no ; then
		AC_DEFINE([HAVE_BERKELEY_DB_THREAD], [1],
			[define if Berkeley DB has DB_THREAD support])
	fi
])
m4trace:m4/openldap.m4:510: -1- AC_DEFUN([OL_BERKELEY_DB], [ol_cv_berkeley_db=no
AC_CHECK_HEADERS(db.h)
if test $ac_cv_header_db_h = yes; then
	OL_BDB_HEADER_VERSION
	OL_BDB_COMPAT

	if test $ol_cv_bdb_compat != yes ; then
		AC_MSG_ERROR([BerkeleyDB version incompatible with BDB/HDB backends])
	fi

	OL_BERKELEY_DB_LINK
	if test "$ol_cv_lib_db" != no ; then
		ol_cv_berkeley_db=yes
		OL_BERKELEY_DB_VERSION
		OL_BERKELEY_DB_THREAD
	fi
fi
])
m4trace:m4/openldap.m4:531: -1- AC_DEFUN([OL_BDB_COMPAT], [AC_CACHE_CHECK([if Berkeley DB version supported by BDB/HDB backends], [ol_cv_bdb_compat],[
	AC_EGREP_CPP(__db_version_compat,[
#include <db.h>

 /* this check could be improved */
#ifndef DB_VERSION_MAJOR
#	define DB_VERSION_MAJOR 1
#endif
#ifndef DB_VERSION_MINOR
#	define DB_VERSION_MINOR 0
#endif

#define DB_VERSION_MM	((DB_VERSION_MAJOR<<8)|DB_VERSION_MINOR)

/* require 4.4 or later */
#if DB_VERSION_MM >= 0x0404
	__db_version_compat
#endif
	], [ol_cv_bdb_compat=yes], [ol_cv_bdb_compat=no])])
])
m4trace:m4/openldap.m4:576: -1- AC_DEFUN([OL_POSIX_THREAD_VERSION], [AC_CACHE_CHECK([POSIX thread version],[ol_cv_pthread_version],[
	AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
#		include <pthread.h>
	]], [[
		int i = PTHREAD_CREATE_JOINABLE;
	]])],[
	AC_EGREP_HEADER(pthread_detach,pthread.h,
	ol_cv_pthread_version=10, ol_cv_pthread_version=8)],[
	AC_EGREP_CPP(draft7,[
#		include <pthread.h>
#		ifdef PTHREAD_CREATE_UNDETACHED
		draft7
#		endif
	], ol_cv_pthread_version=7, [
	AC_EGREP_HEADER(pthread_attr_init,pthread.h,
	ol_cv_pthread_version=6, [
	AC_EGREP_CPP(draft5,[
#		include <pthread.h>
#ifdef		PTHREAD_MUTEX_INITIALIZER
		draft5
#endif
	], ol_cv_pthread_version=5, ol_cv_pthread_version=4) ]) ]) ])
])
])
m4trace:m4/openldap.m4:603: -1- AC_DEFUN([OL_PTHREAD_TEST_INCLUDES], [[
/* pthread test headers */
#include <pthread.h>
#if HAVE_PTHREADS < 7
#include <errno.h>
#endif
#ifndef NULL
#define NULL (void*)0
#endif

static void *task(p)
	void *p;
{
	return (void *) (p == NULL);
}
]])
m4trace:m4/openldap.m4:619: -1- AC_DEFUN([OL_PTHREAD_TEST_FUNCTION], [[
	/* pthread test function */
#ifndef PTHREAD_CREATE_DETACHED
#define	PTHREAD_CREATE_DETACHED	1
#endif
	pthread_t t;
	int status;
	int detach = PTHREAD_CREATE_DETACHED;

#if HAVE_PTHREADS > 4
	/* Final pthreads */
	pthread_attr_t attr;

	status = pthread_attr_init(&attr);
	if( status ) return status;

#if HAVE_PTHREADS < 7
	status = pthread_attr_setdetachstate(&attr, &detach);
	if( status < 0 ) status = errno;
#else
	status = pthread_attr_setdetachstate(&attr, detach);
#endif
	if( status ) return status;
	status = pthread_create( &t, &attr, task, NULL );
#if HAVE_PTHREADS < 7
	if( status < 0 ) status = errno;
#endif
	if( status ) return status;
#else
	/* Draft 4 pthreads */
	status = pthread_create( &t, pthread_attr_default, task, NULL );
	if( status ) return errno;

	/* give thread a chance to complete */
	/* it should remain joinable and hence detachable */
	sleep( 1 );

	status = pthread_detach( &t );
	if( status ) return errno;
#endif

#ifdef HAVE_LINUX_THREADS
	pthread_kill_other_threads_np();
#endif

	return 0;
]])
m4trace:m4/openldap.m4:667: -1- AC_DEFUN([OL_PTHREAD_TEST_PROGRAM], [
AC_LANG_SOURCE([OL_PTHREAD_TEST_INCLUDES

int main(argc, argv)
	int argc;
	char **argv;
{
OL_PTHREAD_TEST_FUNCTION
}
])])
m4trace:m4/openldap.m4:678: -1- AC_DEFUN([OL_PTHREAD_TRY], [# Pthread try link: $1 ($2)
if test "$ol_link_threads" = no ; then
	# try $1
	AC_CACHE_CHECK([for pthread link with $1], [$2], [
		# save the flags
		ol_LIBS="$LIBS"
		LIBS="$1 $LIBS"

		AC_RUN_IFELSE([OL_PTHREAD_TEST_PROGRAM],
			[$2=yes],
			[$2=no],
			[AC_LINK_IFELSE([AC_LANG_PROGRAM(OL_PTHREAD_TEST_INCLUDES,
				OL_PTHREAD_TEST_FUNCTION)],
				[$2=yes], [$2=no])])

		# restore the LIBS
		LIBS="$ol_LIBS"
	])

	if test $$2 = yes ; then
		ol_link_pthreads="$1"
		ol_link_threads=posix
	fi
fi
])
m4trace:m4/openldap.m4:712: -1- AC_DEFUN([OL_HEADER_GNU_PTH_PTHREAD_H], [
	AC_CACHE_CHECK([for GNU Pth pthread.h],
		[ol_cv_header_gnu_pth_pthread_h],
		[AC_EGREP_CPP(__gnu_pth__,
			[#include <pthread.h>
#ifdef _POSIX_THREAD_IS_GNU_PTH
	__gnu_pth__;
#endif
],
			[ol_cv_header_gnu_pth_pthread_h=yes],
			[ol_cv_header_gnu_pth_pthread_h=no])
		])
])
m4trace:m4/openldap.m4:727: -1- AC_DEFUN([OL_NT_THREADS], [
	AC_CHECK_FUNC(_beginthread)

	if test $ac_cv_func__beginthread = yes ; then
		AC_DEFINE([HAVE_NT_THREADS], [1], [if you have NT Threads])
		ol_cv_nt_threads=yes
	fi
])
m4trace:m4/openldap.m4:743: -1- AC_DEFUN([OL_HEADER_LINUX_THREADS], [
	AC_CACHE_CHECK([for LinuxThreads pthread.h],
		[ol_cv_header_linux_threads],
		[AC_EGREP_CPP(pthread_kill_other_threads_np,
			[#include <pthread.h>],
			[ol_cv_header_linux_threads=yes],
			[ol_cv_header_linux_threads=no])
		])
	if test $ol_cv_header_linux_threads = yes; then
		AC_DEFINE([HAVE_LINUX_THREADS], [1], [if you have LinuxThreads])
	fi
])
m4trace:m4/openldap.m4:761: -1- AC_DEFUN([OL_SYS_LINUX_THREADS], [
	AC_CHECK_FUNCS(pthread_kill_other_threads_np)
	AC_CACHE_CHECK([for LinuxThreads implementation],
		[ol_cv_sys_linux_threads],
		[ol_cv_sys_linux_threads=$ac_cv_func_pthread_kill_other_threads_np])
])
m4trace:m4/openldap.m4:770: -1- AC_DEFUN([OL_LINUX_THREADS], [
	AC_REQUIRE([OL_HEADER_LINUX_THREADS])
	AC_REQUIRE([OL_SYS_LINUX_THREADS])
	AC_CACHE_CHECK([for LinuxThreads consistency], [ol_cv_linux_threads], [
		if test $ol_cv_header_linux_threads = yes &&
		   test $ol_cv_sys_linux_threads = yes; then
			ol_cv_linux_threads=yes
		elif test $ol_cv_header_linux_threads = no &&
		     test $ol_cv_sys_linux_threads = no; then
			ol_cv_linux_threads=no
		else
			ol_cv_linux_threads=error
		fi
	])
])
m4trace:m4/openldap.m4:788: -1- AC_DEFUN([OL_POSIX_REGEX], [
AC_CACHE_CHECK([for compatible POSIX regex],ol_cv_c_posix_regex,[
	AC_RUN_IFELSE([AC_LANG_SOURCE([[
#include <sys/types.h>
#include <regex.h>
static char *pattern, *string;
main()
{
	int rc;
	regex_t re;

	pattern = "^A";

	if(regcomp(&re, pattern, 0)) {
		return -1;
	}
	
	string = "ALL MATCH";
	
	rc = regexec(&re, string, 0, (void*)0, 0);

	regfree(&re);

	return rc;
}]])],[ol_cv_c_posix_regex=yes],[ol_cv_c_posix_regex=no],[ol_cv_c_posix_regex=cross])])
])
m4trace:m4/openldap.m4:817: -1- AC_DEFUN([OL_C_UPPER_LOWER], [AC_CACHE_CHECK([if toupper() requires islower()],ol_cv_c_upper_lower,[
	AC_RUN_IFELSE([AC_LANG_SOURCE([[
#include <ctype.h>
main()
{
	if ('C' == toupper('C'))
		exit(0);
	else
		exit(1);
}]])],[ol_cv_c_upper_lower=no],[ol_cv_c_upper_lower=yes],[ol_cv_c_upper_lower=safe])])
if test $ol_cv_c_upper_lower != no ; then
	AC_DEFINE([C_UPPER_LOWER], [1], [define if toupper() requires islower()])
fi
])
m4trace:m4/openldap.m4:839: -1- AC_DEFUN([OL_SYS_ERRLIST], [AC_CACHE_CHECK([declaration of sys_errlist],ol_cv_dcl_sys_errlist,[
	AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
#include <stdio.h>
#include <sys/types.h>
#include <errno.h>
#ifdef _WIN32
#include <stdlib.h>
#endif ]], [[char *c = (char *) *sys_errlist]])],[ol_cv_dcl_sys_errlist=yes
	ol_cv_have_sys_errlist=yes],[ol_cv_dcl_sys_errlist=no])])
#
# It's possible (for near-UNIX clones) that sys_errlist doesn't exist
if test $ol_cv_dcl_sys_errlist = no ; then
	AC_DEFINE([DECL_SYS_ERRLIST], [1],
		[define if sys_errlist is not declared in stdio.h or errno.h])

	AC_CACHE_CHECK([existence of sys_errlist],ol_cv_have_sys_errlist,[
		AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <errno.h>]], [[char *c = (char *) *sys_errlist]])],[ol_cv_have_sys_errlist=yes],[ol_cv_have_sys_errlist=no])])
fi
if test $ol_cv_have_sys_errlist = yes ; then
	AC_DEFINE([HAVE_SYS_ERRLIST], [1],
		[define if you actually have sys_errlist in your libs])
fi
])
m4trace:m4/openldap.m4:863: -1- AC_DEFUN([OL_NONPOSIX_STRERROR_R], [AC_CACHE_CHECK([non-posix strerror_r],ol_cv_nonposix_strerror_r,[
	AC_EGREP_CPP(strerror_r,[#include <string.h>],
		ol_decl_strerror_r=yes, ol_decl_strerror_r=no)dnl

	if test $ol_decl_strerror_r = yes ; then
		AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <string.h>]], [[   /* from autoconf 2.59 */
				char buf[100];
				char x = *strerror_r (0, buf, sizeof buf);
				char *p = strerror_r (0, buf, sizeof buf);
			]])],[ol_cv_nonposix_strerror_r=yes],[ol_cv_nonposix_strerror_r=no])
	else
		AC_RUN_IFELSE([AC_LANG_SOURCE([[
			main() {
				char buf[100];
				buf[0] = 0;
				strerror_r( 1, buf, sizeof buf );
				exit( buf[0] == 0 );
			}
			]])],[ol_cv_nonposix_strerror_r=yes],[ol_cv_nonposix_strerror=no],[ol_cv_nonposix_strerror=no])
	fi
	])
if test $ol_cv_nonposix_strerror_r = yes ; then
	AC_DEFINE([HAVE_NONPOSIX_STRERROR_R], [1],
		[define if strerror_r returns char* instead of int])
fi
])
m4trace:m4/openldap.m4:891: -1- AC_DEFUN([OL_STRERROR], [OL_SYS_ERRLIST dnl TEMPORARY
AC_CHECK_FUNCS(strerror strerror_r)
ol_cv_func_strerror_r=no
if test "${ac_cv_func_strerror_r}" = yes ; then
	OL_NONPOSIX_STRERROR_R
elif test "${ac_cv_func_strerror}" = no ; then
	OL_SYS_ERRLIST
fi
])
m4trace:m4/openldap.m4:905: -1- AC_DEFUN([OL_C_VOLATILE], [AC_CACHE_CHECK(if compiler understands volatile, ol_cv_c_volatile,
    [AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[int x, y, z;]], [[volatile int a; int * volatile b = x ? &y : &z;
      /* Older MIPS compilers (eg., in Ultrix 4.2) don't like *b = 0 */
      *b = 0;]])],[ol_cv_c_volatile=yes],[ol_cv_c_volatile=no])])
  if test $ol_cv_c_volatile = yes; then
    : 
  else
    AC_DEFINE([volatile], [], [define as empty if volatile is not supported])
  fi
 ])
m4trace:m4/openldap.m4:919: -1- AC_DEFUN([OL_LIB_FETCH], [ol_LIBS=$LIBS
LIBS="-lfetch -lcom_err $LIBS"
AC_CACHE_CHECK([fetch(3) library],ol_cv_lib_fetch,[
	AC_LINK_IFELSE([AC_LANG_PROGRAM([[
#ifdef HAVE_SYS_PARAM_H
#include <sys/param.h>
#endif
#include <stdio.h>
#include <fetch.h>]], [[struct url *u = fetchParseURL("file:///"); ]])],[ol_cv_lib_fetch=yes],[ol_cv_lib_fetch=no])])
LIBS=$ol_LIBS
if test $ol_cv_lib_fetch != no ; then
	ol_link_fetch="-lfetch -lcom_err"
	AC_DEFINE([HAVE_FETCH], [1],
		[define if you actually have FreeBSD fetch(3)])
fi
])
m4trace:m4/openldap.m4:939: -1- AC_DEFUN([OL_FUNC_INET_ATON], [AC_CACHE_CHECK([for inet_aton()], ol_cv_func_inet_aton,
    [AC_LINK_IFELSE([AC_LANG_PROGRAM([[
#ifdef HAVE_SYS_TYPES_H
#	include <sys/types.h>
#endif
#ifdef HAVE_SYS_SOCKET_H
#	include <sys/socket.h>
#	ifdef HAVE_SYS_SELECT_H
#		include <sys/select.h>
#	endif
#	include <netinet/in.h>
#	ifdef HAVE_ARPA_INET_H
#		include <arpa/inet.h>
#	endif
#endif
]], [[struct in_addr in;
int rc = inet_aton( "255.255.255.255", &in );]])],[ol_cv_func_inet_aton=yes],[ol_cv_func_inet_aton=no])])
  if test $ol_cv_func_inet_aton != no; then
    AC_DEFINE(HAVE_INET_ATON, 1,
		[define to you inet_aton(3) is available])
  fi
 ])
m4trace:m4/openldap.m4:965: -1- AC_DEFUN([OL_FUNC_CTIME_R_NARGS], [AC_CACHE_CHECK(number of arguments of ctime_r, ol_cv_func_ctime_r_nargs,
   [AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <time.h>]], [[time_t ti; char *buffer; ctime_r(&ti,buffer,32);]])],[ol_cv_func_ctime_r_nargs3=yes],[ol_cv_func_ctime_r_nargs3=no])

	AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <time.h>]], [[time_t ti; char *buffer; ctime_r(&ti,buffer);]])],[ol_cv_func_ctime_r_nargs2=yes],[ol_cv_func_ctime_r_nargs2=no])

	if test $ol_cv_func_ctime_r_nargs3 = yes &&
	   test $ol_cv_func_ctime_r_nargs2 = no ; then

		ol_cv_func_ctime_r_nargs=3

	elif test $ol_cv_func_ctime_r_nargs3 = no &&
	     test $ol_cv_func_ctime_r_nargs2 = yes ; then

		ol_cv_func_ctime_r_nargs=2

	else
		ol_cv_func_ctime_r_nargs=0
	fi
  ])

  if test $ol_cv_func_ctime_r_nargs -gt 1 ; then
 	AC_DEFINE_UNQUOTED(CTIME_R_NARGS, $ol_cv_func_ctime_r_nargs,
		[set to the number of arguments ctime_r() expects])
  fi
])
m4trace:m4/openldap.m4:994: -1- AC_DEFUN([OL_FUNC_CTIME_R_TYPE], [AC_CACHE_CHECK(return type of ctime_r, ol_cv_func_ctime_r_type,
   [AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <time.h>]], [[extern int (ctime_r)();]])],[ol_cv_func_ctime_r_type="int"],[ol_cv_func_ctime_r_type="charp"])
	])
  if test $ol_cv_func_ctime_r_type = "int" ; then
	AC_DEFINE(CTIME_R_RETURNS_INT,1, [define if ctime_r() returns int])
  fi
])
m4trace:m4/openldap.m4:1004: -1- AC_DEFUN([OL_FUNC_GETHOSTBYNAME_R_NARGS], [AC_CACHE_CHECK(number of arguments of gethostbyname_r,
	ol_cv_func_gethostbyname_r_nargs,
	[AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#define BUFSIZE (sizeof(struct hostent)+10)]], [[struct hostent hent; char buffer[BUFSIZE];
		int bufsize=BUFSIZE;int h_errno;
		(void)gethostbyname_r("segovia.cs.purdue.edu", &hent,
			buffer, bufsize, &h_errno);]])],[ol_cv_func_gethostbyname_r_nargs5=yes],[ol_cv_func_gethostbyname_r_nargs5=no])

	AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#define BUFSIZE (sizeof(struct hostent)+10)]], [[struct hostent hent;struct hostent *rhent;
		char buffer[BUFSIZE];
		int bufsize=BUFSIZE;int h_errno;
		(void)gethostbyname_r("localhost", &hent, buffer, bufsize,
			&rhent, &h_errno);]])],[ol_cv_func_gethostbyname_r_nargs6=yes],[ol_cv_func_gethostbyname_r_nargs6=no])

	if test $ol_cv_func_gethostbyname_r_nargs5 = yes &&
	   test $ol_cv_func_gethostbyname_r_nargs6 = no ; then

		ol_cv_func_gethostbyname_r_nargs=5

	elif test $ol_cv_func_gethostbyname_r_nargs5 = no &&
	     test $ol_cv_func_gethostbyname_r_nargs6 = yes ; then

		ol_cv_func_gethostbyname_r_nargs=6

	else
		ol_cv_func_gethostbyname_r_nargs=0
	fi
  ])
  if test $ol_cv_func_gethostbyname_r_nargs -gt 1 ; then
	AC_DEFINE_UNQUOTED(GETHOSTBYNAME_R_NARGS,
		$ol_cv_func_gethostbyname_r_nargs,
		[set to the number of arguments gethostbyname_r() expects])
  fi
])
m4trace:m4/openldap.m4:1048: -1- AC_DEFUN([OL_FUNC_GETHOSTBYADDR_R_NARGS], [AC_CACHE_CHECK(number of arguments of gethostbyaddr_r,
	[ol_cv_func_gethostbyaddr_r_nargs],
	[AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#define BUFSIZE (sizeof(struct hostent)+10)]], [[struct hostent hent; char buffer[BUFSIZE]; 
	    struct in_addr add;
	    size_t alen=sizeof(struct in_addr);
	    int bufsize=BUFSIZE;int h_errno;
		(void)gethostbyaddr_r( (void *)&(add.s_addr),
			alen, AF_INET, &hent, buffer, bufsize, &h_errno);]])],[ol_cv_func_gethostbyaddr_r_nargs7=yes],[ol_cv_func_gethostbyaddr_r_nargs7=no])

	AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#define BUFSIZE (sizeof(struct hostent)+10)]], [[struct hostent hent;
		struct hostent *rhent; char buffer[BUFSIZE]; 
		struct in_addr add;
		size_t alen=sizeof(struct in_addr);
		int bufsize=BUFSIZE;int h_errno;
		(void)gethostbyaddr_r( (void *)&(add.s_addr),
			alen, AF_INET, &hent, buffer, bufsize, 
			&rhent, &h_errno);]])],[ol_cv_func_gethostbyaddr_r_nargs8=yes],[ol_cv_func_gethostbyaddr_r_nargs8=no])

	if test $ol_cv_func_gethostbyaddr_r_nargs7 = yes &&
	   test $ol_cv_func_gethostbyaddr_r_nargs8 = no ; then

		ol_cv_func_gethostbyaddr_r_nargs=7

	elif test $ol_cv_func_gethostbyaddr_r_nargs7 = no &&
	     test $ol_cv_func_gethostbyaddr_r_nargs8 = yes ; then

		ol_cv_func_gethostbyaddr_r_nargs=8

	else
		ol_cv_func_gethostbyaddr_r_nargs=0
	fi
  ])
  if test $ol_cv_func_gethostbyaddr_r_nargs -gt 1 ; then
    AC_DEFINE_UNQUOTED(GETHOSTBYADDR_R_NARGS,
		$ol_cv_func_gethostbyaddr_r_nargs,
		[set to the number of arguments gethostbyaddr_r() expects])
  fi
])
m4trace:m4/openldap.m4:1098: -1- AC_DEFUN([OL_SASL_COMPAT], [AC_CACHE_CHECK([Cyrus SASL library version], [ol_cv_sasl_compat],[
	AC_EGREP_CPP(__sasl_compat,[
#ifdef HAVE_SASL_SASL_H
#include <sasl/sasl.h>
#else
#include <sasl.h>
#endif

/* Require 2.1.15+ */
#if SASL_VERSION_MAJOR == 2  && SASL_VERSION_MINOR > 1
	char *__sasl_compat = "2.2+ or better okay (we guess)";
#elif SASL_VERSION_MAJOR == 2  && SASL_VERSION_MINOR == 1 \
	&& SASL_VERSION_STEP >=15
	char *__sasl_compat = "2.1.15+ or better okay";
#endif
	],	[ol_cv_sasl_compat=yes], [ol_cv_sasl_compat=no])])
])
m4trace:m4/openldap.m4:1118: -1- AC_DEFUN([OL_SSL_COMPAT], [AC_CACHE_CHECK([OpenSSL library version (CRL checking capability)],
	[ol_cv_ssl_crl_compat],[
		AC_EGREP_CPP(__ssl_compat,[
#ifdef HAVE_OPENSSL_SSL_H
#include <openssl/ssl.h>
#endif

/* Require 0.9.7d+ */
#if OPENSSL_VERSION_NUMBER >= 0x0090704fL
	char *__ssl_compat = "0.9.7d";
#endif
	], [ol_cv_ssl_crl_compat=yes], [ol_cv_ssl_crl_compat=no])])
])
m4trace:m4/os_cflags.m4:3: -1- AC_DEFUN([NTP_OS_CFLAGS], [
    AC_MSG_CHECKING([additional compiler flags])
    # allow ntp_os_cflags to be preset to skip this stuff
    case "${ntp_os_cflags+set}" in
     set)
	;;
     *)
	ntp_os_cflags=
	case "$host_os" in
	 aix[[1-3]]*)
	    ;;
	 aix4.[[0-2]]*)
	    # turn on additional headers
	    ntp_os_cflags="-D_XOPEN_EXTENDED_SOURCE"
	    ;;
	 aix5.3*)
	    # avoid circular dependencies in yp headers, and more
	    ntp_os_cflags="-DHAVE_BAD_HEADERS -D_XOPEN_EXTENDED_SOURCE"
	    ntp_os_cflags="${ntp_os_cflags} -D_USE_IRS -D_MSGQSUPPORT"
	    ;;
	 aix*)
	    # XXX Only verified thru AIX6.
	    # aix7 seems to need a different XOPEN_SOURCE_EXTENDED thing.
	    # avoid circular dependencies in yp headers
	    # _XOPEN_SOURCE=500 = X/Open 5: POSIX 1995
	    # _XOPEN_SOURCE=600 = X/Open 6: POSIX 2004
	    # _XOPEN_SOURCE=700 = X/Open 7: POSIX 2008
	    ntp_os_cflags="-DHAVE_BAD_HEADERS -D_XOPEN_SOURCE=600"
	    ntp_os_cflags="${ntp_os_cflags} -D_USE_IRS"
	    ;;
	 amigaos)
	    ntp_os_cflags="-DSYS_AMIGA"
	    ;;
	 darwin*|macosx*|rhapsody*)
	    ntp_os_cflags="-D_P1003_1B_VISIBLE"
	    ;;
	 hpux10.*)		# at least for hppa2.0-hp-hpux10.20
	    case "$GCC" in
	     yes)
		;;
	     *)
		# use Ansi compiler on HPUX, and some -Wp magic
		ntp_os_cflags="-Ae -Wp,-H18816"
		;;
	    esac
	    ntp_os_cflags="${ntp_os_cflags} -D_HPUX_SOURCE -D__STDC_VERSION__=199901L"
	    ;;
	 hpux*)
	    case "$GCC" in
	     yes)
		;;
	     *)
		# use Ansi compiler on HPUX
		ntp_os_cflags="-Ae"
	    esac
	    ntp_os_cflags="${ntp_os_cflags} -D_HPUX_SOURCE -D__STDC_VERSION__=199901L"
	    ;;
	 irix6*)
	    case "$CC" in
	     cc)
		# do not use 64-bit compiler
		ntp_os_cflags="-n32 -mips3 -Wl,-woff,84"
	    esac
	    ;;
	 nextstep3)
	    ntp_os_cflags="-posix"
	    ;;
	 solaris1*|solaris2.[[0-5]]|solaris2.5.*)
	    ;;
	 sunos[[34]]*|sunos5.[[0-5]]|sunos5.5.*)
	    ;;
	 solaris2*|sunos5*)
	    # turn on 64-bit file offset interface
	    ntp_os_cflags="-D_LARGEFILE64_SOURCE"
	    ;;
	 vxworks*)
	    case "$build" in
	     $host)
		;;
	     *)
		# Quick and dirty sanity check
		case "$VX_KERNEL" in
		 '')
		    AC_MSG_ERROR([See html/build/hints/vxworks.html])
		esac
		ntp_os_cflags="-DSYS_VXWORKS"
	    esac
	    ;;
	esac
    esac
    case "$ntp_os_cflags" in
     '')
	ntp_os_cflags_msg="none needed"
	;;
     *)
	ntp_os_cflags_msg="$ntp_os_cflags"
    esac
    CFLAGS_NTP="$CFLAGS_NTP $ntp_os_cflags"
    AC_MSG_RESULT([$ntp_os_cflags_msg])
    AS_UNSET([ntp_os_cflags_msg])
    ###
    AC_MSG_CHECKING([additional linker flags])
    # HMS: The following might still need tweaking
    # allow ntp_os_ldflags to be preset to skip this stuff
    case "${ntp_os_ldflags+set}" in
     set)
	;;
     *)
	ntp_os_ldflags=
	case "$host_os" in
	 hpux*)
	    case "$GCC" in
	     yes)
		ntp_os_ldflags="-Wl,+allowdups"
		;;
	    esac
	    ;;
	esac
	;;
    esac
    case "$ntp_os_ldflags" in
     '')
	ntp_os_ldflags_msg="none needed"
	;;
     *)
	ntp_os_ldflags_msg="$ntp_os_ldflags"
    esac
    LDFLAGS_NTP="$LDFLAGS_NTP $ntp_os_ldflags"
    AC_MSG_RESULT([$ntp_os_ldflags_msg])
    AS_UNSET([ntp_os_ldflags_msg])
])
m4trace:m4/snprintf.m4:31: -1- AC_DEFUN([HW_HEADER_STDARG_H], [
  AC_PREREQ([2.60])dnl Older releases should work if AC_CHECK_HEADERS is used.
  AC_CHECK_HEADERS_ONCE([stdarg.h])
])
m4trace:m4/snprintf.m4:40: -1- AC_DEFUN([HW_HEADER_VARARGS_H], [
  AC_PREREQ([2.60])dnl Older releases should work if AC_CHECK_HEADERS is used.
  AC_CHECK_HEADERS_ONCE([varargs.h])
])
m4trace:m4/snprintf.m4:53: -1- AC_DEFUN([HW_FUNC_VA_COPY], [
  AC_REQUIRE([HW_HEADER_STDARG_H])dnl Our check evaluates HAVE_STDARG_H.
  AC_REQUIRE([HW_HEADER_VARARGS_H])dnl Our check evaluates HAVE_VARARGS_H.
  AC_CACHE_CHECK([for va_copy],
    [hw_cv_func_va_copy],
    [AC_RUN_IFELSE(
      [AC_LANG_PROGRAM(
        [[#if HAVE_STDARG_H
        #include <stdarg.h>
        #elif HAVE_VARARGS_H
        #include <varargs.h>
        #endif]],
        [[va_list ap, aq; va_copy(aq, ap);]])],
      [hw_cv_func_va_copy=yes],
      [hw_cv_func_va_copy=no],
      [hw_cv_func_va_copy=no])])
  AS_IF([test "$hw_cv_func_va_copy" = yes],
    [AC_DEFINE([HAVE_VA_COPY], [1],
      [Define to 1 if you have the `va_copy' function or macro.])])
])
m4trace:m4/snprintf.m4:79: -1- AC_DEFUN([HW_FUNC___VA_COPY], [
  AC_REQUIRE([HW_HEADER_STDARG_H])dnl Our check evaluates HAVE_STDARG_H.
  AC_REQUIRE([HW_HEADER_VARARGS_H])dnl Our check evaluates HAVE_VARARGS_H.
  AC_CACHE_CHECK([for __va_copy],
    [hw_cv_func___va_copy],
    [AC_RUN_IFELSE(
      [AC_LANG_PROGRAM(
        [[#if HAVE_STDARG_H
        #include <stdarg.h>
        #elif HAVE_VARARGS_H
        #include <varargs.h>
        #endif]],
        [[va_list ap, aq; __va_copy(aq, ap);]])],
      [hw_cv_func___va_copy=yes],
      [hw_cv_func___va_copy=no],
      [hw_cv_func___va_copy=no])])
  AS_IF([test "$hw_cv_func___va_copy" = yes],
    [AC_DEFINE([HAVE___VA_COPY], [1],
      [Define to 1 if you have the `__va_copy' function or macro.])])
])
m4trace:m4/snprintf.m4:107: -1- AC_DEFUN([HW_FUNC_VSNPRINTF], [
  AC_PREREQ([2.60])dnl 2.59 should work if some AC_TYPE_* macros are replaced.
  AC_REQUIRE([HW_HEADER_STDARG_H])dnl Our check evaluates HAVE_STDARG_H.
  AC_CHECK_FUNC([vsnprintf],
    [hw_cv_func_vsnprintf=yes],
    [hw_cv_func_vsnprintf=no])
  AS_IF([test "$hw_cv_func_vsnprintf" = yes],
    [AC_CACHE_CHECK([whether vsnprintf is C99 compliant],
      [hw_cv_func_vsnprintf_c99],
      [AC_RUN_IFELSE(
        [AC_LANG_PROGRAM(
          [[#if HAVE_STDARG_H
          #include <stdarg.h>
          #endif
          #include <stdio.h>
          static int testprintf(char *buf, size_t size, const char *format, ...)
          {
            int result;
            va_list ap;
            va_start(ap, format);
            result = vsnprintf(buf, size, format, ap);
            va_end(ap);
            return result;
          }]],
          [[char buf[43];
          if (testprintf(buf, 4, "The answer is %27.2g.", 42.0) != 42 ||
              testprintf(buf, 0, "No, it's %32zu.", (size_t)42) != 42 ||
              buf[0] != 'T' || buf[3] != '\0')
            return 1;]])],
        [hw_cv_func_vsnprintf_c99=yes],
        [hw_cv_func_vsnprintf_c99=no],
        [hw_cv_func_vsnprintf_c99=no])])],
    [hw_cv_func_vsnprintf_c99=no])
  AC_DEFINE([HAVE_VSNPRINTF], [1],
      [Define if C99-compliant `vsnprintf' is available.])
  AC_MSG_CHECKING([if C99-snprintf replacement vsnprintf will be used])
  AS_IF([test "${hw_force_rpl_vsnprintf=no}" = yes -o "$hw_cv_func_vsnprintf_c99" = no],
    [hw_use_rpl_vsnprintf=yes],
    [hw_use_rpl_vsnprintf=no])
  AC_MSG_RESULT([$hw_use_rpl_vsnprintf])
  AS_IF([test "$hw_use_rpl_vsnprintf" = yes],
    [AC_DEFINE([HW_WANT_RPL_VSNPRINTF], [1],
      [Define to provide `rpl_vsnprintf' function.])
    AS_IF([test ${hw_nodef_vsnprintf=no} = no],
      [AC_DEFINE([vsnprintf], [rpl_vsnprintf],
        [Define to rpl_vsnprintf if the replacement function should be used.])])
    AC_CHECK_HEADERS([inttypes.h locale.h stddef.h stdint.h])
    AC_CHECK_MEMBERS([struct lconv.decimal_point, struct lconv.thousands_sep],
      [], [], [#include <locale.h>])
    AC_TYPE_LONG_DOUBLE
    AC_TYPE_LONG_LONG_INT
    AC_TYPE_UNSIGNED_LONG_LONG_INT
    AC_TYPE_SIZE_T
    AC_TYPE_INTMAX_T
    AC_TYPE_UINTMAX_T
    AC_TYPE_UINTPTR_T
    AC_CHECK_TYPES([ptrdiff_t])
    AC_CHECK_FUNCS([localeconv])
    _HW_FUNC_XPRINTF_REPLACE])
])
m4trace:m4/snprintf.m4:177: -1- AC_DEFUN([HW_FUNC_SNPRINTF], [
  AC_REQUIRE([HW_FUNC_VSNPRINTF])dnl Our snprintf(3) calls vsnprintf(3).
  AC_CHECK_FUNC([snprintf],
    [hw_cv_func_snprintf=yes],
    [hw_cv_func_snprintf=no])
  AS_IF([test "$hw_cv_func_snprintf" = yes],
    [AC_CACHE_CHECK([whether snprintf is C99 compliant],
      [hw_cv_func_snprintf_c99],
      [AC_RUN_IFELSE(
        [AC_LANG_PROGRAM([[#include <stdio.h>]],
          [[char buf[43];
          if (snprintf(buf, 4, "The answer is %27.2g.", 42.0) != 42 ||
              snprintf(buf, 0, "No, it's %32zu.", (size_t)42) != 42 ||
              buf[0] != 'T' || buf[3] != '\0')
            return 1;]])],
        [hw_cv_func_snprintf_c99=yes],
        [hw_cv_func_snprintf_c99=no],
        [hw_cv_func_snprintf_c99=no])])],
    [hw_cv_func_snprintf_c99=no])
  AC_DEFINE([HAVE_SNPRINTF], [1],
      [Define if C99-compliant `snprintf' is available.])
  AC_MSG_CHECKING([if C99-snprintf replacement snprintf will be used])
  AS_IF([test "${hw_force_rpl_snprintf=no}" = yes -o "$hw_cv_func_snprintf_c99" = no],
    [hw_use_rpl_snprintf=yes],
    [hw_use_rpl_snprintf=no])
  AC_MSG_RESULT([$hw_use_rpl_snprintf])
  AS_IF([test "$hw_use_rpl_snprintf" = yes],
    [AC_DEFINE([HW_WANT_RPL_SNPRINTF], [1],
      [Define to provide `rpl_snprintf' function.])
    AS_IF([test ${hw_nodef_snprintf=no} = no],
      [AC_DEFINE([snprintf], [rpl_snprintf],
        [Define to rpl_snprintf if the replacement function should be used.])])
    _HW_FUNC_XPRINTF_REPLACE])
])
m4trace:m4/snprintf.m4:220: -1- AC_DEFUN([HW_FUNC_VASPRINTF], [
  AC_REQUIRE([HW_FUNC_VSNPRINTF])dnl Our vasprintf(3) calls vsnprintf(3).
  AC_CHECK_FUNCS([vasprintf],
    [hw_cv_func_vasprintf=yes],
    [hw_cv_func_vasprintf=no])
  AC_DEFINE([HAVE_VASPRINTF], [1],
      [Define if `vasprintf' is available.])
  AC_MSG_CHECKING([if C99-snprintf replacement vasprintf will be used])
  AS_IF([test "${hw_force_rpl_vasprintf=no}" = yes -o "$hw_cv_func_vasprintf" = no],
    [hw_use_rpl_vasprintf=yes],
    [hw_use_rpl_vasprintf=no])
  AC_MSG_RESULT([$hw_use_rpl_vasprintf])
  AS_IF([test "$hw_use_rpl_vasprintf" = yes],
    [AC_DEFINE([HW_WANT_RPL_VASPRINTF], [1],
      [Define to provide `rpl_vasprintf' function.])
    AS_IF([test ${hw_nodef_vasprintf=no} = no],
      [AC_DEFINE([vasprintf], [rpl_vasprintf],
      [Define to rpl_vasprintf if the replacement function should be used.])])
    AC_CHECK_HEADERS([stdlib.h])
    HW_FUNC_VA_COPY
    AS_IF([test "$hw_cv_func_va_copy" = no],
      [HW_FUNC___VA_COPY])
    _HW_FUNC_XPRINTF_REPLACE])
])
m4trace:m4/snprintf.m4:253: -1- AC_DEFUN([HW_FUNC_ASPRINTF], [
  AC_REQUIRE([HW_FUNC_VASPRINTF])dnl Our asprintf(3) calls vasprintf(3).
  AC_CHECK_FUNCS([asprintf],
    [hw_cv_func_asprintf=yes],
    [hw_cv_func_asprintf=no])
  AC_DEFINE([HAVE_ASPRINTF], [1],
      [Define if `asprintf' is available.])
  AC_MSG_CHECKING([if C99-snprintf replacement asprintf will be used])
  AS_IF([test "${hw_force_rpl_asprintf=no}" = yes -o "$hw_cv_func_asprintf" = no],
    [hw_use_rpl_asprintf=yes],
    [hw_use_rpl_asprintf=no])
  AC_MSG_RESULT([$hw_use_rpl_asprintf])
  AS_IF([test "$hw_use_rpl_asprintf" = yes],
    [AC_DEFINE([HW_WANT_RPL_ASPRINTF], [1],
      [Define to provide `rpl_asprintf' function.])
    AS_IF([test ${hw_nodef_asprintf=no} = no],
      [AC_DEFINE([asprintf], [rpl_asprintf],
      [Define to rpl_asprintf if the replacement function should be used.])])
    _HW_FUNC_XPRINTF_REPLACE])
])
m4trace:m4/snprintf.m4:279: -1- AC_DEFUN([_HW_FUNC_XPRINTF_REPLACE], [
  AS_IF([test "x$_hw_cv_func_xprintf_replace_done" != xyes],
    [AC_C_CONST
    HW_HEADER_STDARG_H
    AC_LIBOBJ([snprintf])
    _hw_cv_func_xprintf_replace_done=yes])
])
m4trace:configure.ac:3: -1- m4_include([m4/version.m4])
m4trace:configure.ac:5: -1- m4_pattern_forbid([^_?A[CHUM]_])
m4trace:configure.ac:5: -1- m4_pattern_forbid([_AC_])
m4trace:configure.ac:5: -1- m4_pattern_forbid([^LIBOBJS$], [do not use LIBOBJS directly, use AC_LIBOBJ (see section `AC_LIBOBJ vs LIBOBJS'])
m4trace:configure.ac:5: -1- m4_pattern_allow([^AS_FLAGS$])
m4trace:configure.ac:5: -1- m4_pattern_forbid([^_?m4_])
m4trace:configure.ac:5: -1- m4_pattern_forbid([^dnl$])
m4trace:configure.ac:5: -1- m4_pattern_forbid([^_?AS_])
m4trace:configure.ac:5: -1- m4_pattern_allow([^SHELL$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PATH_SEPARATOR$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_NAME$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_TARNAME$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_VERSION$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_STRING$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_BUGREPORT$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_URL$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^exec_prefix$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^prefix$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^program_transform_name$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^bindir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^sbindir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^libexecdir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^datarootdir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^datadir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^sysconfdir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^sharedstatedir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^localstatedir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^includedir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^oldincludedir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^docdir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^infodir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^htmldir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^dvidir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^pdfdir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^psdir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^libdir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^localedir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^mandir$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_NAME$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_TARNAME$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_VERSION$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_STRING$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_BUGREPORT$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^PACKAGE_URL$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^DEFS$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^ECHO_C$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^ECHO_N$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^ECHO_T$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^LIBS$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^build_alias$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^host_alias$])
m4trace:configure.ac:5: -1- m4_pattern_allow([^target_alias$])
m4trace:configure.ac:41: -1- NTP_CACHEVERSION([sntp], [$sntp_configure_cache_version])
m4trace:configure.ac:43: -1- AM_INIT_AUTOMAKE([1.10 foreign -Wall -Wno-gnu])
m4trace:configure.ac:43: -1- m4_pattern_allow([^AM_[A-Z]+FLAGS$])
m4trace:configure.ac:43: -1- AM_SET_CURRENT_AUTOMAKE_VERSION
m4trace:configure.ac:43: -1- AM_AUTOMAKE_VERSION([1.11.3])
m4trace:configure.ac:43: -1- _AM_AUTOCONF_VERSION([2.68])
m4trace:configure.ac:43: -1- m4_pattern_allow([^INSTALL_PROGRAM$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^INSTALL_SCRIPT$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^INSTALL_DATA$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^am__isrc$])
m4trace:configure.ac:43: -1- _AM_SUBST_NOTMAKE([am__isrc])
m4trace:configure.ac:43: -1- m4_pattern_allow([^CYGPATH_W$])
m4trace:configure.ac:43: -1- _AM_SET_OPTIONS([1.10 foreign -Wall -Wno-gnu])
m4trace:configure.ac:43: -1- _AM_SET_OPTION([1.10])
m4trace:configure.ac:43: -2- _AM_MANGLE_OPTION([1.10])
m4trace:configure.ac:43: -1- _AM_SET_OPTION([foreign])
m4trace:configure.ac:43: -2- _AM_MANGLE_OPTION([foreign])
m4trace:configure.ac:43: -1- _AM_SET_OPTION([-Wall])
m4trace:configure.ac:43: -2- _AM_MANGLE_OPTION([-Wall])
m4trace:configure.ac:43: -1- _AM_SET_OPTION([-Wno-gnu])
m4trace:configure.ac:43: -2- _AM_MANGLE_OPTION([-Wno-gnu])
m4trace:configure.ac:43: -1- m4_pattern_allow([^PACKAGE$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^VERSION$])
m4trace:configure.ac:43: -1- _AM_IF_OPTION([no-define], [], [AC_DEFINE_UNQUOTED(PACKAGE, "$PACKAGE", [Name of package])
 AC_DEFINE_UNQUOTED(VERSION, "$VERSION", [Version number of package])])
m4trace:configure.ac:43: -2- _AM_MANGLE_OPTION([no-define])
m4trace:configure.ac:43: -1- m4_pattern_allow([^PACKAGE$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^VERSION$])
m4trace:configure.ac:43: -1- AM_SANITY_CHECK
m4trace:configure.ac:43: -1- AM_MISSING_PROG([ACLOCAL], [aclocal-${am__api_version}])
m4trace:configure.ac:43: -1- AM_MISSING_HAS_RUN
m4trace:configure.ac:43: -1- AM_AUX_DIR_EXPAND
m4trace:configure.ac:43: -1- m4_pattern_allow([^ACLOCAL$])
m4trace:configure.ac:43: -1- AM_MISSING_PROG([AUTOCONF], [autoconf])
m4trace:configure.ac:43: -1- m4_pattern_allow([^AUTOCONF$])
m4trace:configure.ac:43: -1- AM_MISSING_PROG([AUTOMAKE], [automake-${am__api_version}])
m4trace:configure.ac:43: -1- m4_pattern_allow([^AUTOMAKE$])
m4trace:configure.ac:43: -1- AM_MISSING_PROG([AUTOHEADER], [autoheader])
m4trace:configure.ac:43: -1- m4_pattern_allow([^AUTOHEADER$])
m4trace:configure.ac:43: -1- AM_MISSING_PROG([MAKEINFO], [makeinfo])
m4trace:configure.ac:43: -1- m4_pattern_allow([^MAKEINFO$])
m4trace:configure.ac:43: -1- AM_PROG_INSTALL_SH
m4trace:configure.ac:43: -1- m4_pattern_allow([^install_sh$])
m4trace:configure.ac:43: -1- AM_PROG_INSTALL_STRIP
m4trace:configure.ac:43: -1- m4_pattern_allow([^STRIP$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^INSTALL_STRIP_PROGRAM$])
m4trace:configure.ac:43: -1- AM_PROG_MKDIR_P
m4trace:configure.ac:43: -1- m4_pattern_allow([^MKDIR_P$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^mkdir_p$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^AWK$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^SET_MAKE$])
m4trace:configure.ac:43: -1- AM_SET_LEADING_DOT
m4trace:configure.ac:43: -1- m4_pattern_allow([^am__leading_dot$])
m4trace:configure.ac:43: -1- _AM_IF_OPTION([tar-ustar], [_AM_PROG_TAR([ustar])], [_AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])],
			     [_AM_PROG_TAR([v7])])])
m4trace:configure.ac:43: -2- _AM_MANGLE_OPTION([tar-ustar])
m4trace:configure.ac:43: -1- _AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])], [_AM_PROG_TAR([v7])])
m4trace:configure.ac:43: -2- _AM_MANGLE_OPTION([tar-pax])
m4trace:configure.ac:43: -1- _AM_PROG_TAR([v7])
m4trace:configure.ac:43: -1- m4_pattern_allow([^AMTAR$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^am__tar$])
m4trace:configure.ac:43: -1- m4_pattern_allow([^am__untar$])
m4trace:configure.ac:43: -1- _AM_IF_OPTION([no-dependencies], [], [AC_PROVIDE_IFELSE([AC_PROG_CC],
		  [_AM_DEPENDENCIES(CC)],
		  [define([AC_PROG_CC],
			  defn([AC_PROG_CC])[_AM_DEPENDENCIES(CC)])])dnl
AC_PROVIDE_IFELSE([AC_PROG_CXX],
		  [_AM_DEPENDENCIES(CXX)],
		  [define([AC_PROG_CXX],
			  defn([AC_PROG_CXX])[_AM_DEPENDENCIES(CXX)])])dnl
AC_PROVIDE_IFELSE([AC_PROG_OBJC],
		  [_AM_DEPENDENCIES(OBJC)],
		  [define([AC_PROG_OBJC],
			  defn([AC_PROG_OBJC])[_AM_DEPENDENCIES(OBJC)])])dnl
])
m4trace:configure.ac:43: -2- _AM_MANGLE_OPTION([no-dependencies])
m4trace:configure.ac:43: -1- _AM_IF_OPTION([silent-rules], [AC_REQUIRE([AM_SILENT_RULES])])
m4trace:configure.ac:43: -2- _AM_MANGLE_OPTION([silent-rules])
m4trace:configure.ac:45: -1- AM_SILENT_RULES([yes])
m4trace:configure.ac:45: -1- m4_pattern_allow([^AM_V$])
m4trace:configure.ac:45: -1- AM_SUBST_NOTMAKE([AM_V])
m4trace:configure.ac:45: -1- _AM_SUBST_NOTMAKE([AM_V])
m4trace:configure.ac:45: -1- m4_pattern_allow([^AM_DEFAULT_V$])
m4trace:configure.ac:45: -1- AM_SUBST_NOTMAKE([AM_DEFAULT_V])
m4trace:configure.ac:45: -1- _AM_SUBST_NOTMAKE([AM_DEFAULT_V])
m4trace:configure.ac:45: -1- m4_pattern_allow([^AM_DEFAULT_VERBOSITY$])
m4trace:configure.ac:45: -1- m4_pattern_allow([^AM_BACKSLASH$])
m4trace:configure.ac:45: -1- _AM_SUBST_NOTMAKE([AM_BACKSLASH])
m4trace:configure.ac:49: -1- m4_pattern_allow([^build$])
m4trace:configure.ac:49: -1- m4_pattern_allow([^build_cpu$])
m4trace:configure.ac:49: -1- m4_pattern_allow([^build_vendor$])
m4trace:configure.ac:49: -1- m4_pattern_allow([^build_os$])
m4trace:configure.ac:50: -1- m4_pattern_allow([^host$])
m4trace:configure.ac:50: -1- m4_pattern_allow([^host_cpu$])
m4trace:configure.ac:50: -1- m4_pattern_allow([^host_vendor$])
m4trace:configure.ac:50: -1- m4_pattern_allow([^host_os$])
m4trace:configure.ac:53: -1- m4_pattern_allow([^STR_SYSTEM$])
m4trace:configure.ac:57: -1- NTP_PROG_CC
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CFLAGS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^LDFLAGS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^LIBS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CPPFLAGS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^ac_ct_CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^EXEEXT$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^OBJEXT$])
m4trace:configure.ac:57: -1- _AM_DEPENDENCIES([CC])
m4trace:configure.ac:57: -1- AM_SET_DEPDIR
m4trace:configure.ac:57: -1- m4_pattern_allow([^DEPDIR$])
m4trace:configure.ac:57: -1- AM_OUTPUT_DEPENDENCY_COMMANDS
m4trace:configure.ac:57: -1- AM_MAKE_INCLUDE
m4trace:configure.ac:57: -1- m4_pattern_allow([^am__include$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^am__quote$])
m4trace:configure.ac:57: -1- AM_DEP_TRACK
m4trace:configure.ac:57: -1- AM_CONDITIONAL([AMDEP], [test "x$enable_dependency_tracking" != xno])
m4trace:configure.ac:57: -1- m4_pattern_allow([^AMDEP_TRUE$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^AMDEP_FALSE$])
m4trace:configure.ac:57: -1- _AM_SUBST_NOTMAKE([AMDEP_TRUE])
m4trace:configure.ac:57: -1- _AM_SUBST_NOTMAKE([AMDEP_FALSE])
m4trace:configure.ac:57: -1- m4_pattern_allow([^AMDEPBACKSLASH$])
m4trace:configure.ac:57: -1- _AM_SUBST_NOTMAKE([AMDEPBACKSLASH])
m4trace:configure.ac:57: -1- m4_pattern_allow([^am__nodep$])
m4trace:configure.ac:57: -1- _AM_SUBST_NOTMAKE([am__nodep])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CCDEPMODE$])
m4trace:configure.ac:57: -1- AM_CONDITIONAL([am__fastdepCC], [
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CC_dependencies_compiler_type" = gcc3])
m4trace:configure.ac:57: -1- m4_pattern_allow([^am__fastdepCC_TRUE$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^am__fastdepCC_FALSE$])
m4trace:configure.ac:57: -1- _AM_SUBST_NOTMAKE([am__fastdepCC_TRUE])
m4trace:configure.ac:57: -1- _AM_SUBST_NOTMAKE([am__fastdepCC_FALSE])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CPP$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CPPFLAGS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CPP$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^GREP$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^EGREP$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^STDC_HEADERS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^_POSIX_SOURCE$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^_POSIX_1_SOURCE$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^_MINIX$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^__EXTENSIONS__$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^_ALL_SOURCE$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^_GNU_SOURCE$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^_POSIX_PTHREAD_SEMANTICS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^_TANDEM_SOURCE$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CFLAGS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^LDFLAGS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^LIBS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CPPFLAGS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^ac_ct_CC$])
m4trace:configure.ac:57: -1- _AM_DEPENDENCIES([CC])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CCDEPMODE$])
m4trace:configure.ac:57: -1- AM_CONDITIONAL([am__fastdepCC], [
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CC_dependencies_compiler_type" = gcc3])
m4trace:configure.ac:57: -1- m4_pattern_allow([^am__fastdepCC_TRUE$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^am__fastdepCC_FALSE$])
m4trace:configure.ac:57: -1- _AM_SUBST_NOTMAKE([am__fastdepCC_TRUE])
m4trace:configure.ac:57: -1- _AM_SUBST_NOTMAKE([am__fastdepCC_FALSE])
m4trace:configure.ac:57: -1- AM_PROG_CC_C_O
m4trace:configure.ac:57: -1- m4_pattern_allow([^NO_MINUS_C_MINUS_O$])
m4trace:configure.ac:57: -1- NTP_COMPILER
m4trace:configure.ac:57: -1- m4_pattern_allow([^CFLAGS_NTP$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CPPFLAGS_NTP$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^LDADD_NTP$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^LDFLAGS_NTP$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^NO_OPTION_NAME_WARNINGS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^HAVE___ATTRIBUTE__$])
m4trace:configure.ac:57: -1- NTP_OS_CFLAGS
m4trace:configure.ac:57: -1- m4_pattern_allow([^WORDS_BIGENDIAN$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^AC_APPLE_UNIVERSAL_BUILD$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^volatile$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CPP$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CPPFLAGS$])
m4trace:configure.ac:57: -1- m4_pattern_allow([^CPP$])
m4trace:configure.ac:59: -1- NTP_LOCINFO([])
m4trace:configure.ac:59: -1- AM_CONDITIONAL([WANT_CALC_TICKADJ_MS], [test "$CALC_TICKADJ_MS" ])
m4trace:configure.ac:59: -1- m4_pattern_allow([^WANT_CALC_TICKADJ_MS_TRUE$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^WANT_CALC_TICKADJ_MS_FALSE$])
m4trace:configure.ac:59: -1- _AM_SUBST_NOTMAKE([WANT_CALC_TICKADJ_MS_TRUE])
m4trace:configure.ac:59: -1- _AM_SUBST_NOTMAKE([WANT_CALC_TICKADJ_MS_FALSE])
m4trace:configure.ac:59: -1- m4_pattern_allow([^CALC_TICKADJ_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^CALC_TICKADJ_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^CALC_TICKADJ_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^CALC_TICKADJ_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^CALC_TICKADJ_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^MANTAGFMT$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDATE_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDATE_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDATE_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDATE_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDATE_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDC_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDC_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDC_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDC_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDC_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDSIM_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDSIM_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDSIM_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDSIM_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPDSIM_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPD_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPD_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPD_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPD_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPD_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPQ_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPQ_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPQ_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPQ_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPQ_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSNMPD_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSNMPD_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSNMPD_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSNMPD_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSNMPD_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSWEEP_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSWEEP_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSWEEP_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSWEEP_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPSWEEP_NI$])
m4trace:configure.ac:59: -1- AM_CONDITIONAL([INSTALL_NTPSWEEP], [test -z "$NTPSWEEP_NI" ])
m4trace:configure.ac:59: -1- m4_pattern_allow([^INSTALL_NTPSWEEP_TRUE$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^INSTALL_NTPSWEEP_FALSE$])
m4trace:configure.ac:59: -1- _AM_SUBST_NOTMAKE([INSTALL_NTPSWEEP_TRUE])
m4trace:configure.ac:59: -1- _AM_SUBST_NOTMAKE([INSTALL_NTPSWEEP_FALSE])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTIME_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTIME_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTIME_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTIME_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTIME_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTRACE_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTRACE_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTRACE_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTRACE_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTPTRACE_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_KEYGEN_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_KEYGEN_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_KEYGEN_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_KEYGEN_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_KEYGEN_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_WAIT_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_WAIT_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_WAIT_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_WAIT_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^NTP_WAIT_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^SNTP_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^SNTP_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^SNTP_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^SNTP_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^SNTP_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TICKADJ_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TICKADJ_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TICKADJ_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TICKADJ_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TICKADJ_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TIMETRIM_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TIMETRIM_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TIMETRIM_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TIMETRIM_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^TIMETRIM_NI$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^UPDATE_LEAP_DB$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^UPDATE_LEAP_DL$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^UPDATE_LEAP_DS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^UPDATE_LEAP_MS$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^UPDATE_LEAP_NI$])
m4trace:configure.ac:59: -1- AM_CONDITIONAL([INSTALL_UPDATE_LEAP], [test -z "$UPDATE_LEAP_NI" ])
m4trace:configure.ac:59: -1- m4_pattern_allow([^INSTALL_UPDATE_LEAP_TRUE$])
m4trace:configure.ac:59: -1- m4_pattern_allow([^INSTALL_UPDATE_LEAP_FALSE$])
m4trace:configure.ac:59: -1- _AM_SUBST_NOTMAKE([INSTALL_UPDATE_LEAP_TRUE])
m4trace:configure.ac:59: -1- _AM_SUBST_NOTMAKE([INSTALL_UPDATE_LEAP_FALSE])
m4trace:configure.ac:62: -1- AM_PROG_AR
m4trace:configure.ac:62: -1- m4_pattern_allow([^AR$])
m4trace:configure.ac:62: -1- m4_pattern_allow([^ac_ct_AR$])
m4trace:configure.ac:62: -1- m4_pattern_allow([^AR$])
m4trace:configure.ac:67: -1- NTP_LIBNTP
m4trace:configure.ac:67: -1- NTP_CROSSCOMPILE
m4trace:configure.ac:67: -1- AM_CONDITIONAL([NTP_CROSSCOMPILE], [test $build != $host])
m4trace:configure.ac:67: -1- m4_pattern_allow([^NTP_CROSSCOMPILE_TRUE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^NTP_CROSSCOMPILE_FALSE$])
m4trace:configure.ac:67: -1- _AM_SUBST_NOTMAKE([NTP_CROSSCOMPILE_TRUE])
m4trace:configure.ac:67: -1- _AM_SUBST_NOTMAKE([NTP_CROSSCOMPILE_FALSE])
m4trace:configure.ac:67: -1- m4_pattern_allow([^LDADD_LIBNTP$])
m4trace:configure.ac:67: -1- NTP_DIR_SEP
m4trace:configure.ac:67: -1- m4_pattern_allow([^DIR_SEP$])
m4trace:configure.ac:67: -1- NTP_LINEEDITLIBS
m4trace:configure.ac:67: -1- m4_pattern_allow([^EDITLINE_LIBS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^EL_INIT_ARGS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_READLINE_HISTORY$])
m4trace:configure.ac:67: -1- NTP_LIB_M
m4trace:configure.ac:67: -1- m4_pattern_allow([^LIBM$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^pid_t$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_VFORK_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_WORKING_VFORK$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^vfork$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_WORKING_FORK$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^size_t$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_ALLOCA_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_ALLOCA$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^ALLOCA$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^C_ALLOCA$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^CRAY_STACKSEG_END$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^STACK_DIRECTION$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_DECL_STRERROR_R$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_STRERROR_R$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^STRERROR_R_CHAR_P$])
m4trace:configure.ac:67: -1- HMS_SEARCH_LIBS([LDADD_LIBNTP], [clock_gettime], [rt])
m4trace:configure.ac:67: -1- m4_pattern_allow([^LDADD_LIBUTIL$])
m4trace:configure.ac:67: -1- HMS_SEARCH_LIBS([LDADD_LIBUTIL], [snprintb], [util], [AC_DEFINE([USE_SNPRINTB], 1, [OK to use snprintb()?])])
m4trace:configure.ac:67: -1- m4_pattern_allow([^USE_SNPRINTB$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_NET_IF_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LINUX_IF_ADDR_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SYS_SYSCTL_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_RESOLV_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_NET_IF_VAR_H$])
m4trace:configure.ac:67: -1- HMS_SEARCH_LIBS([LDADD_LIBNTP], [inet_pton], [nsl])
m4trace:configure.ac:67: -1- HMS_SEARCH_LIBS([LDADD_LIBNTP], [inet_ntop], [resolv], [], [], [-lnsl])
m4trace:configure.ac:67: -1- HMS_SEARCH_LIBS([LDADD_LIBNTP], [setsockopt], [socket])
m4trace:configure.ac:67: -1- HMS_SEARCH_LIBS([LDADD_LIBNTP], [getsockopt], [xnet])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_RECVMSG$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_INLINE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_INLINE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^TIME_WITH_SYS_TIME$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^SIZEOF_TIME_T$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^__CHAR_UNSIGNED__$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^SIZEOF_SIGNED_CHAR$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_S_CHAR$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LONG_LONG$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^SIZEOF_SHORT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^SIZEOF_INT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^SIZEOF_LONG$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^SIZEOF_LONG_LONG$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^NEED_S_CHAR_TYPEDEF$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^NEED_S_CHAR_TYPEDEF$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^NEED_S_CHAR_TYPEDEF$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^uid_t$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^gid_t$])
m4trace:configure.ac:67: -1- NTP_DEBUG
m4trace:configure.ac:67: -1- m4_pattern_allow([^DEBUG$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SEMAPHORE_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SOCKETPAIR$])
m4trace:configure.ac:67: -1- OL_THREAD_CHECK([ol_found_pthreads=yes])
m4trace:configure.ac:67: -1- _m4_warn([obsolete], [The macro `AC_LANG_SAVE' is obsolete.
You should run autoupdate.], [../../lib/autoconf/lang.m4:126: AC_LANG_SAVE is expanded from...
m4/openldap-thread-check.m4:23: OL_THREAD_CHECK is expanded from...
m4/ntp_libntp.m4:9: NTP_LIBNTP is expanded from...
configure.ac:67: the top level])
m4trace:configure.ac:67: -1- OL_ARG_WITH([threads], [  --with-threads	  with threads], [auto], [auto nt posix mach pth lwp yes no manual ])
m4trace:configure.ac:67: -1- m4_pattern_allow([^CC$])
m4trace:configure.ac:67: -1- OL_ARG_WITH([yielding_select], [  --with-yielding-select  with yielding select], [auto], [auto yes no manual ])
m4trace:configure.ac:67: -1- OL_NT_THREADS
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_NT_THREADS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_NT_SERVICE_MANAGER$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_NT_EVENT_LOG$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTHREAD_H$])
m4trace:configure.ac:67: -1- OL_POSIX_THREAD_VERSION
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTHREADS$])
m4trace:configure.ac:67: -1- OL_HEADER_LINUX_THREADS
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LINUX_THREADS$])
m4trace:configure.ac:67: -1- OL_HEADER_GNU_PTH_PTHREAD_H
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SCHED_H$])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
You should run autoupdate.], [../../lib/autoconf/general.m4:2688: AC_TRY_LINK is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2749: AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2032: AC_CACHE_VAL is expanded from...
../../lib/autoconf/general.m4:2053: AC_CACHE_CHECK is expanded from...
m4/openldap-thread-check.m4:23: OL_THREAD_CHECK is expanded from...
m4/ntp_libntp.m4:9: NTP_LIBNTP is expanded from...
configure.ac:67: the top level])
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-kthread], [ol_cv_pthread_kthread])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-pthread], [ol_cv_pthread_pthread])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-pthreads], [ol_cv_pthread_pthreads])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-mthreads], [ol_cv_pthread_mthreads])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-thread], [ol_cv_pthread_thread])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-lpthread -lmach -lexc -lc_r], [ol_cv_pthread_lpthread_lmach_lexc_lc_r])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-lpthread -lmach -lexc], [ol_cv_pthread_lpthread_lmach_lexc])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-lpthread -Wl,-woff,85], [ol_cv_pthread_lib_lpthread_woff])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-lpthread], [ol_cv_pthread_lpthread])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-lc_r], [ol_cv_pthread_lc_r])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-threads], [ol_cv_pthread_threads])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-lpthreads -lmach -lexc -lc_r], [ol_cv_pthread_lpthreads_lmach_lexc_lc_r])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-lpthreads -lmach -lexc], [ol_cv_pthread_lpthreads_lmach_lexc])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-lpthreads -lexc], [ol_cv_pthread_lpthreads_lexc])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TRY([-lpthreads], [ol_cv_pthread_lib_lpthreads])
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -2- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SCHED_YIELD$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTHREAD_KILL$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTHREAD_RWLOCK_DESTROY$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTHREAD_DETACH$])
m4trace:configure.ac:67: -1- OL_SYS_LINUX_THREADS
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTHREAD_KILL_OTHER_THREADS_NP$])
m4trace:configure.ac:67: -1- OL_LINUX_THREADS
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_PROGRAM
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_INCLUDES
m4trace:configure.ac:67: -1- OL_PTHREAD_TEST_FUNCTION
m4trace:configure.ac:67: -1- m4_pattern_allow([^REPLACE_BROKEN_YIELD$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_MACH_CTHREADS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTH_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_GNU_PTH$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_THR$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LWP_LWP_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LWP$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_YIELDING_SELECT$])
m4trace:configure.ac:67: -1- OL_HEADER_LINUX_THREADS
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LINUX_THREADS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_MACH_CTHREADS_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LWP_LWP_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^REENTRANT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^_REENTRANT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^THREAD_SAFE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^_THREAD_SAFE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^THREADSAFE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^_THREADSAFE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^_SGI_MP_SOURCE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^NO_THREADS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^LDAP_API_FEATURE_X_OPENLDAP_THREAD_SAFE$])
m4trace:configure.ac:67: -2- m4_pattern_allow([^HAVE_PTHREAD$])
m4trace:configure.ac:67: -1- _m4_warn([obsolete], [The macro `AC_LANG_RESTORE' is obsolete.
You should run autoupdate.], [../../lib/autoconf/lang.m4:135: AC_LANG_RESTORE is expanded from...
m4/openldap-thread-check.m4:23: OL_THREAD_CHECK is expanded from...
m4/ntp_libntp.m4:9: NTP_LIBNTP is expanded from...
configure.ac:67: the top level])
m4trace:configure.ac:67: -1- m4_pattern_allow([^BUILD_THREAD$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^LTHREAD_LIBS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SEM_TIMEDWAIT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^PTHREAD_LIBS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^SIZEOF_PTHREAD_T$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^ISC_PLATFORM_USETHREADS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SIGWAIT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTHREAD_ATTR_GETSTACKSIZE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^NEED_PTHREAD_SCOPE_SYSTEM$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^NEED_PTHREAD_INIT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LINUXTHREADS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^_POSIX_PTHREAD_SEMANTICS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTHREAD_SETCONCURRENCY$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^CALL_PTHREAD_SETCONCURRENCY$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_UNIXWARE_SIGWAIT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^ISC_PLATFORM_BRACEPTHREADONCEINIT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^LIBISC_PTHREADS_NOTHREADS$])
m4trace:configure.ac:67: -1- AM_CONDITIONAL([PTHREADS], [test "$have_pthreads" != "no"])
m4trace:configure.ac:67: -1- m4_pattern_allow([^PTHREADS_TRUE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^PTHREADS_FALSE$])
m4trace:configure.ac:67: -1- _AM_SUBST_NOTMAKE([PTHREADS_TRUE])
m4trace:configure.ac:67: -1- _AM_SUBST_NOTMAKE([PTHREADS_FALSE])
m4trace:configure.ac:67: -1- AC_DEFUN([NTP_BEFORE_HW_FUNC_VSNPRINTF], [
    AC_BEFORE([NTP_LIBNTP], [HW_FUNC_VSNPRINTF])dnl
    AC_BEFORE([NTP_LIBNTP], [HW_FUNC_SNPRINTF])dnl
    AC_ARG_ENABLE(
	[c99-snprintf],
	[AS_HELP_STRING([--enable-c99-snprintf], [s force replacement])],
	[force_c99_snprintf=$enableval],
	[force_c99_snprintf=no]
	)
    case "$force_c99_snprintf" in
     yes)
	hw_force_rpl_snprintf=yes
	hw_force_rpl_vsnprintf=yes
    esac
    AH_VERBATIM(
	[snprinte],dnl	sorted in config.h just before #define snprintf
	[
	    #if !defined(_KERNEL) && !defined(PARSESTREAM)
	    /*
	     * stdio.h must be included after _GNU_SOURCE is defined
	     * but before #define snprintf rpl_snprintf
	     */
	    # include <stdio.h>	
	    #endif
	])
    AH_BOTTOM([
	#if !defined(_KERNEL) && !defined(PARSESTREAM)
	# if defined(HW_WANT_RPL_VSNPRINTF)
	#  if defined(__cplusplus)
	extern "C" {
	# endif
	# include <stdarg.h>
	int rpl_vsnprintf(char *, size_t, const char *, va_list);
	# if defined(__cplusplus)
	}
	#  endif
	# endif
	# if defined(HW_WANT_RPL_SNPRINTF)
	#  if defined(__cplusplus)
	extern "C" {
	#  endif
	int rpl_snprintf(char *, size_t, const char *, ...);
	#  if defined(__cplusplus)
	}
	#  endif
	# endif
	#endif	/* !defined(_KERNEL) && !defined(PARSESTREAM) */
	])
])
m4trace:configure.ac:67: -1- AC_DEFUN([NTP_C99_SNPRINTF], [
    AC_REQUIRE([NTP_BEFORE_HW_FUNC_VSNPRINTF])dnl
    AC_REQUIRE([HW_FUNC_VSNPRINTF])dnl
    AC_REQUIRE([HW_FUNC_SNPRINTF])dnl
])
m4trace:configure.ac:67: -1- NTP_C99_SNPRINTF
m4trace:configure.ac:67: -1- NTP_BEFORE_HW_FUNC_VSNPRINTF
m4trace:configure.ac:67: -1- HW_FUNC_VSNPRINTF
m4trace:configure.ac:67: -1- HW_HEADER_STDARG_H
m4trace:configure.ac:67: -1- AC_DEFUN([_AC_Header_stdarg_h], [m4_divert_text([INIT_PREPARE], [AS_VAR_APPEND([ac_header_list], [" stdarg.h"])])
_AC_HEADERS_EXPANSION])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_VSNPRINTF$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HW_WANT_RPL_VSNPRINTF$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^vsnprintf$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_STRUCT_LCONV_DECIMAL_POINT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_STRUCT_LCONV_THOUSANDS_SEP$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LONG_DOUBLE$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LONG_LONG_INT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_UNSIGNED_LONG_LONG_INT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^size_t$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_INTMAX_T$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^intmax_t$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_UINTMAX_T$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^uintmax_t$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_UINTPTR_T$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^uintptr_t$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PTRDIFF_T$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LOCALECONV$])
m4trace:configure.ac:67: -1- _HW_FUNC_XPRINTF_REPLACE
m4trace:configure.ac:67: -1- m4_pattern_allow([^const$])
m4trace:configure.ac:67: -1- HW_HEADER_STDARG_H
m4trace:configure.ac:67: -1- AC_DEFUN([_AC_Header_stdarg_h], [m4_divert_text([INIT_PREPARE], [AS_VAR_APPEND([ac_header_list], [" stdarg.h"])])
_AC_HEADERS_EXPANSION])
m4trace:configure.ac:67: -1- m4_pattern_allow([^LIB@&t@OBJS$])
m4trace:configure.ac:67: -1- HW_FUNC_SNPRINTF
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SNPRINTF$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HW_WANT_RPL_SNPRINTF$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^snprintf$])
m4trace:configure.ac:67: -1- _HW_FUNC_XPRINTF_REPLACE
m4trace:configure.ac:67: -1- m4_pattern_allow([^const$])
m4trace:configure.ac:67: -1- HW_HEADER_STDARG_H
m4trace:configure.ac:67: -1- AC_DEFUN([_AC_Header_stdarg_h], [m4_divert_text([INIT_PREPARE], [AS_VAR_APPEND([ac_header_list], [" stdarg.h"])])
_AC_HEADERS_EXPANSION])
m4trace:configure.ac:67: -1- m4_pattern_allow([^LIB@&t@OBJS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^VSNPRINTF_PERCENT_M$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SYS_CLOCKCTL_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_LINUX_CAPABILITIES$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_PRIV_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SOLARIS_PRIVS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_DROPROOT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_RES_INIT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE___RES_INIT$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^ISC_PLATFORM_NEEDNTOP$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^ISC_PLATFORM_NEEDPTON$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_UINTPTR_T$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_INT32$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_U_INT32$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_INT32_ONLY_WITH_DNS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_U_INT32_ONLY_WITH_DNS$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SYS_TIMEPPS_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_STRUCT_TIMESPEC$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_STRUCT_NTPTIMEVAL$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_MD5_H$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SIGNALED_IO$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^USE_UDP_SIGPOLL$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^USE_TTY_SIGPOLL$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^SYSV_TIMEOFDAY$])
m4trace:configure.ac:67: -1- m4_pattern_allow([^HAVE_SETTIMEOFDAY$])
m4trace:configure.ac:71: -1- m4_pattern_allow([^LIBTOOL_DEPS$])
m4trace:configure.ac:73: -1- NTP_WITHSNTP
m4trace:configure.ac:73: -1- m4_pattern_allow([^SNTP$])
m4trace:configure.ac:73: -1- AM_CONDITIONAL([BUILD_SNTP], [test -n "$SNTP"])
m4trace:configure.ac:73: -1- m4_pattern_allow([^BUILD_SNTP_TRUE$])
m4trace:configure.ac:73: -1- m4_pattern_allow([^BUILD_SNTP_FALSE$])
m4trace:configure.ac:73: -1- _AM_SUBST_NOTMAKE([BUILD_SNTP_TRUE])
m4trace:configure.ac:73: -1- _AM_SUBST_NOTMAKE([BUILD_SNTP_FALSE])
m4trace:configure.ac:99: -1- LIBOPTS_CHECK
m4trace:configure.ac:99: -1- LIBOPTS_CHECK_COMMON([libopts])
m4trace:configure.ac:99: -1- INVOKE_LIBOPTS_MACROS_FIRST
m4trace:configure.ac:99: -1- gl_STDNORETURN_H
m4trace:configure.ac:99: -1- m4_pattern_allow([^STDNORETURN_H$])
m4trace:configure.ac:99: -1- AM_CONDITIONAL([GL_GENERATE_STDNORETURN_H], [test -n "$STDNORETURN_H"])
m4trace:configure.ac:99: -1- m4_pattern_allow([^GL_GENERATE_STDNORETURN_H_TRUE$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^GL_GENERATE_STDNORETURN_H_FALSE$])
m4trace:configure.ac:99: -1- _AM_SUBST_NOTMAKE([GL_GENERATE_STDNORETURN_H_TRUE])
m4trace:configure.ac:99: -1- _AM_SUBST_NOTMAKE([GL_GENERATE_STDNORETURN_H_FALSE])
m4trace:configure.ac:99: -1- m4_pattern_allow([^ENABLE_NLS$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_WCHAR_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_WINT_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_INT8_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_UINT8_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_INT16_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_UINT16_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_INT32_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_UINT32_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_INTPTR_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_UINTPTR_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_UINT_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_PID_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_SIZE_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_PTRDIFF_T$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^SIZEOF_CHAR_P$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^SIZEOF_INT$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^SIZEOF_LONG$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^SIZEOF_SHORT$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_LIBGEN$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_LIBINTL$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_VPRINTF$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_DOPRNT$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_VFORK_H$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_WORKING_VFORK$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^vfork$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_WORKING_FORK$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^SED$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^POSIX_SHELL$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^POSIX_SHELL$])
m4trace:configure.ac:99: -2- _m4_warn([obsolete], [The macro `AC_HELP_STRING' is obsolete.
You should run autoupdate.], [../../lib/autoconf/general.m4:209: AC_HELP_STRING is expanded from...
libopts/m4/libopts.m4:481: LIBOPTS_CHECK_COMMON is expanded from...
libopts/m4/libopts.m4:581: LIBOPTS_CHECK is expanded from...
configure.ac:99: the top level])
m4trace:configure.ac:99: -2- _m4_warn([obsolete], [The macro `AC_HELP_STRING' is obsolete.
You should run autoupdate.], [../../lib/autoconf/general.m4:209: AC_HELP_STRING is expanded from...
libopts/m4/libopts.m4:481: LIBOPTS_CHECK_COMMON is expanded from...
libopts/m4/libopts.m4:581: LIBOPTS_CHECK is expanded from...
configure.ac:99: the top level])
m4trace:configure.ac:99: -1- AM_CONDITIONAL([INSTALL_LIBOPTS], [test "X${enable_libopts_install}" = Xyes])
m4trace:configure.ac:99: -1- m4_pattern_allow([^INSTALL_LIBOPTS_TRUE$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^INSTALL_LIBOPTS_FALSE$])
m4trace:configure.ac:99: -1- _AM_SUBST_NOTMAKE([INSTALL_LIBOPTS_TRUE])
m4trace:configure.ac:99: -1- _AM_SUBST_NOTMAKE([INSTALL_LIBOPTS_FALSE])
m4trace:configure.ac:99: -2- _m4_warn([obsolete], [The macro `AC_HELP_STRING' is obsolete.
You should run autoupdate.], [../../lib/autoconf/general.m4:209: AC_HELP_STRING is expanded from...
libopts/m4/libopts.m4:481: LIBOPTS_CHECK_COMMON is expanded from...
libopts/m4/libopts.m4:581: LIBOPTS_CHECK is expanded from...
configure.ac:99: the top level])
m4trace:configure.ac:99: -1- AM_CONDITIONAL([NEED_LIBOPTS], [test -n "${NEED_LIBOPTS_DIR}"])
m4trace:configure.ac:99: -1- m4_pattern_allow([^NEED_LIBOPTS_TRUE$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^NEED_LIBOPTS_FALSE$])
m4trace:configure.ac:99: -1- _AM_SUBST_NOTMAKE([NEED_LIBOPTS_TRUE])
m4trace:configure.ac:99: -1- _AM_SUBST_NOTMAKE([NEED_LIBOPTS_FALSE])
m4trace:configure.ac:99: -1- m4_pattern_allow([^LIBOPTS_LDADD$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^LIBOPTS_CFLAGS$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^LIBOPTS_DIR$])
m4trace:configure.ac:99: -1- AM_COND_IF([NEED_LIBOPTS], [
    INVOKE_LIBOPTS_MACROS
  ])
m4trace:configure.ac:99: -1- INVOKE_LIBOPTS_MACROS
m4trace:configure.ac:99: -1- LIBOPTS_WITH_REGEX_HEADER
m4trace:configure.ac:99: -1- m4_pattern_allow([^REGEX_HEADER$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^REGEX_HEADER$])
m4trace:configure.ac:99: -1- LIBOPTS_WITHLIB_REGEX
m4trace:configure.ac:99: -1- _m4_warn([syntax], [AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body], [../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2730: _AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2749: AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2032: AC_CACHE_VAL is expanded from...
libopts/m4/libopts.m4:158: LIBOPTS_WITHLIB_REGEX is expanded from...
libopts/m4/libopts.m4:425: INVOKE_LIBOPTS_MACROS is expanded from...
libopts/m4/libopts.m4:560: AM_COND_IF is expanded from...
libopts/m4/libopts.m4:581: LIBOPTS_CHECK is expanded from...
configure.ac:99: the top level])
m4trace:configure.ac:99: -1- m4_pattern_allow([^WITH_LIBREGEX$])
m4trace:configure.ac:99: -1- LIBOPTS_RUN_PATHFIND
m4trace:configure.ac:99: -1- _m4_warn([syntax], [AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body], [../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2730: _AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2749: AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2032: AC_CACHE_VAL is expanded from...
libopts/m4/libopts.m4:260: LIBOPTS_RUN_PATHFIND is expanded from...
libopts/m4/libopts.m4:425: INVOKE_LIBOPTS_MACROS is expanded from...
libopts/m4/libopts.m4:560: AM_COND_IF is expanded from...
libopts/m4/libopts.m4:581: LIBOPTS_CHECK is expanded from...
configure.ac:99: the top level])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_PATHFIND$])
m4trace:configure.ac:99: -1- LIBOPTS_TEST_DEV_ZERO
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_DEV_ZERO$])
m4trace:configure.ac:99: -1- LIBOPTS_RUN_REALPATH
m4trace:configure.ac:99: -1- _m4_warn([syntax], [AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body], [../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2730: _AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2749: AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2032: AC_CACHE_VAL is expanded from...
libopts/m4/libopts.m4:303: LIBOPTS_RUN_REALPATH is expanded from...
libopts/m4/libopts.m4:425: INVOKE_LIBOPTS_MACROS is expanded from...
libopts/m4/libopts.m4:560: AM_COND_IF is expanded from...
libopts/m4/libopts.m4:581: LIBOPTS_CHECK is expanded from...
configure.ac:99: the top level])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_REALPATH$])
m4trace:configure.ac:99: -1- LIBOPTS_RUN_STRFTIME
m4trace:configure.ac:99: -1- _m4_warn([syntax], [AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body], [../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2730: _AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2749: AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2032: AC_CACHE_VAL is expanded from...
libopts/m4/libopts.m4:330: LIBOPTS_RUN_STRFTIME is expanded from...
libopts/m4/libopts.m4:425: INVOKE_LIBOPTS_MACROS is expanded from...
libopts/m4/libopts.m4:560: AM_COND_IF is expanded from...
libopts/m4/libopts.m4:581: LIBOPTS_CHECK is expanded from...
configure.ac:99: the top level])
m4trace:configure.ac:99: -1- m4_pattern_allow([^HAVE_STRFTIME$])
m4trace:configure.ac:99: -1- LIBOPTS_RUN_FOPEN_BINARY
m4trace:configure.ac:99: -1- _m4_warn([syntax], [AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body], [../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2730: _AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2749: AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2032: AC_CACHE_VAL is expanded from...
libopts/m4/libopts.m4:363: LIBOPTS_RUN_FOPEN_BINARY is expanded from...
libopts/m4/libopts.m4:425: INVOKE_LIBOPTS_MACROS is expanded from...
libopts/m4/libopts.m4:560: AM_COND_IF is expanded from...
libopts/m4/libopts.m4:581: LIBOPTS_CHECK is expanded from...
configure.ac:99: the top level])
m4trace:configure.ac:99: -1- m4_pattern_allow([^FOPEN_BINARY_FLAG$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^FOPEN_BINARY_FLAG$])
m4trace:configure.ac:99: -1- LIBOPTS_RUN_FOPEN_TEXT
m4trace:configure.ac:99: -1- _m4_warn([syntax], [AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body], [../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2730: _AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2749: AC_RUN_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2032: AC_CACHE_VAL is expanded from...
libopts/m4/libopts.m4:386: LIBOPTS_RUN_FOPEN_TEXT is expanded from...
libopts/m4/libopts.m4:425: INVOKE_LIBOPTS_MACROS is expanded from...
libopts/m4/libopts.m4:560: AM_COND_IF is expanded from...
libopts/m4/libopts.m4:581: LIBOPTS_CHECK is expanded from...
configure.ac:99: the top level])
m4trace:configure.ac:99: -1- m4_pattern_allow([^FOPEN_TEXT_FLAG$])
m4trace:configure.ac:99: -1- m4_pattern_allow([^FOPEN_TEXT_FLAG$])
m4trace:configure.ac:99: -1- LIBOPTS_DISABLE_OPTIONAL_ARGS
m4trace:configure.ac:99: -1- m4_pattern_allow([^NO_OPTIONAL_OPT_ARGS$])
m4trace:configure.ac:108: -1- NTP_LIBEVENT_CHECK([2])
m4trace:configure.ac:108: -1- m4_pattern_allow([^NTP_FORCE_LIBEVENT_DIST$])
m4trace:configure.ac:108: -1- NTP_LIBEVENT_CHECK_NOBUILD([2], [])
m4trace:configure.ac:108: -1- NTP_PKG_CONFIG
m4trace:configure.ac:108: -1- m4_pattern_allow([^PKG_CONFIG$])
m4trace:configure.ac:108: -1- NTP_ENABLE_LOCAL_LIBEVENT
m4trace:configure.ac:108: -1- _m4_warn([obsolete], [The macro `AC_HELP_STRING' is obsolete.
You should run autoupdate.], [../../lib/autoconf/general.m4:209: AC_HELP_STRING is expanded from...
../../lib/autoconf/general.m4:1463: AC_ARG_ENABLE is expanded from...
m4/ntp_libevent.m4:31: NTP_ENABLE_LOCAL_LIBEVENT is expanded from...
m4/ntp_libevent.m4:60: NTP_LIBEVENT_CHECK_NOBUILD is expanded from...
m4/ntp_libevent.m4:159: NTP_LIBEVENT_CHECK is expanded from...
configure.ac:108: the top level])
m4trace:configure.ac:108: -1- m4_pattern_allow([^CFLAGS_LIBEVENT$])
m4trace:configure.ac:108: -1- m4_pattern_allow([^CPPFLAGS_LIBEVENT$])
m4trace:configure.ac:108: -1- m4_pattern_allow([^LDADD_LIBEVENT$])
m4trace:configure.ac:108: -1- AM_CONDITIONAL([BUILD_LIBEVENT], [test "x$ntp_use_local_libevent" = "xyes"])
m4trace:configure.ac:108: -1- m4_pattern_allow([^BUILD_LIBEVENT_TRUE$])
m4trace:configure.ac:108: -1- m4_pattern_allow([^BUILD_LIBEVENT_FALSE$])
m4trace:configure.ac:108: -1- _AM_SUBST_NOTMAKE([BUILD_LIBEVENT_TRUE])
m4trace:configure.ac:108: -1- _AM_SUBST_NOTMAKE([BUILD_LIBEVENT_FALSE])
m4trace:configure.ac:108: -1- m4_pattern_allow([^subdirs$])
m4trace:configure.ac:117: -1- m4_pattern_allow([^LIB_SYSLOG$])
m4trace:configure.ac:118: -1- HMS_SEARCH_LIBS([LIB_SYSLOG], [openlog], [gen syslog])
m4trace:configure.ac:122: -1- NTP_SYSEXITS_H
m4trace:configure.ac:122: -1- m4_pattern_allow([^HAVE_SYSEXITS_H$])
m4trace:configure.ac:122: -1- m4_pattern_allow([^EX_OK$])
m4trace:configure.ac:122: -1- m4_pattern_allow([^EX_SOFTWARE$])
m4trace:configure.ac:123: -1- NTP_FACILITYNAMES
m4trace:configure.ac:123: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
You should run autoupdate.], [../../lib/autoconf/general.m4:2615: AC_TRY_COMPILE is expanded from...
../../lib/m4sugar/m4sh.m4:606: AS_IF is expanded from...
../../lib/autoconf/general.m4:2032: AC_CACHE_VAL is expanded from...
../../lib/autoconf/general.m4:2053: AC_CACHE_CHECK is expanded from...
m4/ntp_facilitynames.m4:3: NTP_FACILITYNAMES is expanded from...
configure.ac:123: the top level])
m4trace:configure.ac:123: -1- m4_pattern_allow([^HAVE_SYSLOG_FACILITYNAMES$])
m4trace:configure.ac:126: -1- m4_pattern_allow([^HAVE__BOOL$])
m4trace:configure.ac:126: -1- m4_pattern_allow([^HAVE_STDBOOL_H$])
m4trace:configure.ac:128: -1- NTP_OPENSSL
m4trace:configure.ac:128: -1- NTP_VER_SUFFIX
m4trace:configure.ac:128: -1- m4_pattern_allow([^VER_SUFFIX$])
m4trace:configure.ac:128: -1- m4_pattern_allow([^OPENSSL$])
m4trace:configure.ac:128: -1- m4_pattern_allow([^HAVE_EVP_MD_DO_ALL_SORTED$])
m4trace:configure.ac:129: -1- NTP_IPV6
m4trace:configure.ac:129: -1- m4_pattern_allow([^HAVE_STRUCT_SOCKADDR_STORAGE$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^HAVE___SS_FAMILY_IN_SS$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_NEEDPORTT$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^GETSOCKNAME_SOCKLEN_TYPE$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_HAVESALEN$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^WANT_IPV6$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^__APPLE_USE_RFC_3542$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_NEEDNETINET6IN6H$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_FIXIN6ISADDR$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_HAVEIPV6$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_HAVEIN6PKTINFO$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_HAVESCOPEID$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_NEEDIN6ADDRANY$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_HAVEIF_LADDRCONF$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_HAVEIF_LADDRREQ$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^MCAST$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^TYPEOF_IP_MULTICAST_LOOP$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^HAVE_GETIFADDRS$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^HAVE_IF_NAMETOINDEX$])
m4trace:configure.ac:129: -1- m4_pattern_allow([^ISC_PLATFORM_HAVEIFNAMETOINDEX$])
m4trace:configure.ac:135: -1- m4_pattern_allow([^HAVE_NO_NICE$])
m4trace:configure.ac:136: -1- m4_pattern_allow([^HAVE_TERMIOS$])
m4trace:configure.ac:139: -1- m4_pattern_allow([^HAVE_SOCKET$])
m4trace:configure.ac:141: -1- NTP_UNITYBUILD
m4trace:configure.ac:141: -1- m4_pattern_allow([^PATH_RUBY$])
m4trace:configure.ac:141: -1- AM_CONDITIONAL([UNITYBUILD_AVAILABLE], [$have_unity])
m4trace:configure.ac:141: -1- m4_pattern_allow([^UNITYBUILD_AVAILABLE_TRUE$])
m4trace:configure.ac:141: -1- m4_pattern_allow([^UNITYBUILD_AVAILABLE_FALSE$])
m4trace:configure.ac:141: -1- _AM_SUBST_NOTMAKE([UNITYBUILD_AVAILABLE_TRUE])
m4trace:configure.ac:141: -1- _AM_SUBST_NOTMAKE([UNITYBUILD_AVAILABLE_FALSE])
m4trace:configure.ac:143: -1- m4_pattern_allow([^CXX$])
m4trace:configure.ac:143: -1- m4_pattern_allow([^CXXFLAGS$])
m4trace:configure.ac:143: -1- m4_pattern_allow([^LDFLAGS$])
m4trace:configure.ac:143: -1- m4_pattern_allow([^LIBS$])
m4trace:configure.ac:143: -1- m4_pattern_allow([^CPPFLAGS$])
m4trace:configure.ac:143: -1- m4_pattern_allow([^CXX$])
m4trace:configure.ac:143: -1- m4_pattern_allow([^ac_ct_CXX$])
m4trace:configure.ac:143: -1- _AM_DEPENDENCIES([CXX])
m4trace:configure.ac:143: -1- m4_pattern_allow([^CXXDEPMODE$])
m4trace:configure.ac:143: -1- AM_CONDITIONAL([am__fastdepCXX], [
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CXX_dependencies_compiler_type" = gcc3])
m4trace:configure.ac:143: -1- m4_pattern_allow([^am__fastdepCXX_TRUE$])
m4trace:configure.ac:143: -1- m4_pattern_allow([^am__fastdepCXX_FALSE$])
m4trace:configure.ac:143: -1- _AM_SUBST_NOTMAKE([am__fastdepCXX_TRUE])
m4trace:configure.ac:143: -1- _AM_SUBST_NOTMAKE([am__fastdepCXX_FALSE])
m4trace:configure.ac:144: -1- NTP_GOOGLETEST
m4trace:configure.ac:144: -1- m4_pattern_allow([^GTEST_CONFIG$])
m4trace:configure.ac:144: -1- m4_pattern_allow([^GTEST_LDFLAGS$])
m4trace:configure.ac:144: -1- m4_pattern_allow([^GTEST_LIBS$])
m4trace:configure.ac:144: -1- m4_pattern_allow([^GTEST_CXXFLAGS$])
m4trace:configure.ac:144: -1- m4_pattern_allow([^GTEST_CPPFLAGS$])
m4trace:configure.ac:144: -1- AM_CONDITIONAL([GTEST_AVAILABLE], [$gta])
m4trace:configure.ac:144: -1- m4_pattern_allow([^GTEST_AVAILABLE_TRUE$])
m4trace:configure.ac:144: -1- m4_pattern_allow([^GTEST_AVAILABLE_FALSE$])
m4trace:configure.ac:144: -1- _AM_SUBST_NOTMAKE([GTEST_AVAILABLE_TRUE])
m4trace:configure.ac:144: -1- _AM_SUBST_NOTMAKE([GTEST_AVAILABLE_FALSE])
m4trace:configure.ac:158: -1- m4_pattern_allow([^LIB@&t@OBJS$])
m4trace:configure.ac:158: -1- m4_pattern_allow([^LTLIBOBJS$])
m4trace:configure.ac:158: -1- AM_CONDITIONAL([am__EXEEXT], [test -n "$EXEEXT"])
m4trace:configure.ac:158: -1- m4_pattern_allow([^am__EXEEXT_TRUE$])
m4trace:configure.ac:158: -1- m4_pattern_allow([^am__EXEEXT_FALSE$])
m4trace:configure.ac:158: -1- _AM_SUBST_NOTMAKE([am__EXEEXT_TRUE])
m4trace:configure.ac:158: -1- _AM_SUBST_NOTMAKE([am__EXEEXT_FALSE])
m4trace:configure.ac:158: -1- _AC_AM_CONFIG_HEADER_HOOK(["$ac_file"])
m4trace:configure.ac:158: -1- _AM_OUTPUT_DEPENDENCY_COMMANDS
